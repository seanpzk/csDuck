function Tb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Za(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var t_={exports:{}},Dc={},n_={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var el=Symbol.for("react.element"),xb=Symbol.for("react.portal"),Nb=Symbol.for("react.fragment"),Ab=Symbol.for("react.strict_mode"),Rb=Symbol.for("react.profiler"),Pb=Symbol.for("react.provider"),Ob=Symbol.for("react.context"),Db=Symbol.for("react.forward_ref"),Mb=Symbol.for("react.suspense"),Lb=Symbol.for("react.memo"),Fb=Symbol.for("react.lazy"),Hg=Symbol.iterator;function Ub(t){return t===null||typeof t!="object"?null:(t=Hg&&t[Hg]||t["@@iterator"],typeof t=="function"?t:null)}var r_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i_=Object.assign,o_={};function gs(t,e,n){this.props=t,this.context=e,this.refs=o_,this.updater=n||r_}gs.prototype.isReactComponent={};gs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function s_(){}s_.prototype=gs.prototype;function _p(t,e,n){this.props=t,this.context=e,this.refs=o_,this.updater=n||r_}var wp=_p.prototype=new s_;wp.constructor=_p;i_(wp,gs.prototype);wp.isPureReactComponent=!0;var Wg=Array.isArray,a_=Object.prototype.hasOwnProperty,Ep={current:null},l_={key:!0,ref:!0,__self:!0,__source:!0};function u_(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)a_.call(e,r)&&!l_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:el,type:t,key:o,ref:s,props:i,_owner:Ep.current}}function Vb(t,e){return{$$typeof:el,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cp(t){return typeof t=="object"&&t!==null&&t.$$typeof===el}function $b(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gg=/\/+/g;function Ud(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$b(""+t.key):e.toString(36)}function ou(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case el:case xb:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ud(s,0):r,Wg(i)?(n="",t!=null&&(n=t.replace(Gg,"$&/")+"/"),ou(i,e,n,"",function(u){return u})):i!=null&&(Cp(i)&&(i=Vb(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Gg,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Wg(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Ud(o,a);s+=ou(o,e,n,l,i)}else if(l=Ub(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Ud(o,a++),s+=ou(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Rl(t,e,n){if(t==null)return t;var r=[],i=0;return ou(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Bb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},su={transition:null},jb={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:su,ReactCurrentOwner:Ep};Te.Children={map:Rl,forEach:function(t,e,n){Rl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rl(t,function(){e++}),e},toArray:function(t){return Rl(t,function(e){return e})||[]},only:function(t){if(!Cp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=gs;Te.Fragment=Nb;Te.Profiler=Rb;Te.PureComponent=_p;Te.StrictMode=Ab;Te.Suspense=Mb;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jb;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=i_({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Ep.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)a_.call(e,l)&&!l_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:el,type:t.type,key:i,ref:o,props:r,_owner:s}};Te.createContext=function(t){return t={$$typeof:Ob,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Pb,_context:t},t.Consumer=t};Te.createElement=u_;Te.createFactory=function(t){var e=u_.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:Db,render:t}};Te.isValidElement=Cp;Te.lazy=function(t){return{$$typeof:Fb,_payload:{_status:-1,_result:t},_init:Bb}};Te.memo=function(t,e){return{$$typeof:Lb,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=su.transition;su.transition={};try{t()}finally{su.transition=e}};Te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Te.useCallback=function(t,e){return Gt.current.useCallback(t,e)};Te.useContext=function(t){return Gt.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};Te.useEffect=function(t,e){return Gt.current.useEffect(t,e)};Te.useId=function(){return Gt.current.useId()};Te.useImperativeHandle=function(t,e,n){return Gt.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return Gt.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return Gt.current.useReducer(t,e,n)};Te.useRef=function(t){return Gt.current.useRef(t)};Te.useState=function(t){return Gt.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return Gt.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return Gt.current.useTransition()};Te.version="18.2.0";n_.exports=Te;var h=n_.exports;const Xt=Za(h),Kg=Tb({__proto__:null,default:Xt},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zb=h,Hb=Symbol.for("react.element"),Wb=Symbol.for("react.fragment"),Gb=Object.prototype.hasOwnProperty,Kb=zb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qb={key:!0,ref:!0,__self:!0,__source:!0};function c_(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Gb.call(e,r)&&!qb.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Hb,type:t,key:o,ref:s,props:i,_owner:Kb.current}}Dc.Fragment=Wb;Dc.jsx=c_;Dc.jsxs=c_;t_.exports=Dc;var Sp=t_.exports;const tt=Sp.Fragment,y=Sp.jsx,K=Sp.jsxs;var zf={},d_={exports:{}},yn={},f_={exports:{}},h_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,F){var x=N.length;N.push(F);e:for(;0<x;){var A=x-1>>>1,V=N[A];if(0<i(V,F))N[A]=F,N[x]=V,x=A;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var F=N[0],x=N.pop();if(x!==F){N[0]=x;e:for(var A=0,V=N.length,q=V>>>1;A<q;){var j=2*(A+1)-1,S=N[j],ie=j+1,oe=N[ie];if(0>i(S,x))ie<V&&0>i(oe,S)?(N[A]=oe,N[ie]=x,A=ie):(N[A]=S,N[j]=x,A=j);else if(ie<V&&0>i(oe,x))N[A]=oe,N[ie]=x,A=ie;else break e}}return F}function i(N,F){var x=N.sortIndex-F.sortIndex;return x!==0?x:N.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,g=!1,v=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(N){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=N)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function b(N){if(w=!1,_(N),!v)if(n(l)!==null)v=!0,L(I);else{var F=n(u);F!==null&&U(b,F.startTime-N)}}function I(N,F){v=!1,w&&(w=!1,m(D),D=-1),g=!0;var x=f;try{for(_(F),d=n(l);d!==null&&(!(d.expirationTime>F)||N&&!pe());){var A=d.callback;if(typeof A=="function"){d.callback=null,f=d.priorityLevel;var V=A(d.expirationTime<=F);F=t.unstable_now(),typeof V=="function"?d.callback=V:d===n(l)&&r(l),_(F)}else r(l);d=n(l)}if(d!==null)var q=!0;else{var j=n(u);j!==null&&U(b,j.startTime-F),q=!1}return q}finally{d=null,f=x,g=!1}}var k=!1,T=null,D=-1,Y=5,H=-1;function pe(){return!(t.unstable_now()-H<Y)}function me(){if(T!==null){var N=t.unstable_now();H=N;var F=!0;try{F=T(!0,N)}finally{F?Ce():(k=!1,T=null)}}else k=!1}var Ce;if(typeof p=="function")Ce=function(){p(me)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,P=M.port2;M.port1.onmessage=me,Ce=function(){P.postMessage(null)}}else Ce=function(){C(me,0)};function L(N){T=N,k||(k=!0,Ce())}function U(N,F){D=C(function(){N(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,L(I))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var x=f;f=F;try{return N()}finally{f=x}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,F){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var x=f;f=N;try{return F()}finally{f=x}},t.unstable_scheduleCallback=function(N,F,x){var A=t.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?A+x:A):x=A,N){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=x+V,N={id:c++,callback:F,priorityLevel:N,startTime:x,expirationTime:V,sortIndex:-1},x>A?(N.sortIndex=x,e(u,N),n(l)===null&&N===n(u)&&(w?(m(D),D=-1):w=!0,U(b,x-A))):(N.sortIndex=V,e(l,N),v||g||(v=!0,L(I))),N},t.unstable_shouldYield=pe,t.unstable_wrapCallback=function(N){var F=f;return function(){var x=f;f=F;try{return N.apply(this,arguments)}finally{f=x}}}})(h_);f_.exports=h_;var Yb=f_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_=h,vn=Yb;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m_=new Set,ya={};function lo(t,e){Xo(t,e),Xo(t+"Capture",e)}function Xo(t,e){for(ya[t]=e,t=0;t<e.length;t++)m_.add(e[t])}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hf=Object.prototype.hasOwnProperty,Qb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qg={},Yg={};function Jb(t){return Hf.call(Yg,t)?!0:Hf.call(qg,t)?!1:Qb.test(t)?Yg[t]=!0:(qg[t]=!0,!1)}function Xb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Zb(t,e,n,r){if(e===null||typeof e>"u"||Xb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new Kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new Kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new Kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new Kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new Kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new Kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new Kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new Kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new Kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var bp=/[\-:]([a-z])/g;function Ip(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bp,Ip);Dt[e]=new Kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bp,Ip);Dt[e]=new Kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bp,Ip);Dt[e]=new Kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function kp(t,e,n,r){var i=Dt.hasOwnProperty(e)?Dt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Zb(e,n,i,r)&&(n=null),r||i===null?Jb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Rr=p_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pl=Symbol.for("react.element"),ko=Symbol.for("react.portal"),To=Symbol.for("react.fragment"),Tp=Symbol.for("react.strict_mode"),Wf=Symbol.for("react.profiler"),g_=Symbol.for("react.provider"),v_=Symbol.for("react.context"),xp=Symbol.for("react.forward_ref"),Gf=Symbol.for("react.suspense"),Kf=Symbol.for("react.suspense_list"),Np=Symbol.for("react.memo"),Br=Symbol.for("react.lazy"),y_=Symbol.for("react.offscreen"),Qg=Symbol.iterator;function Ms(t){return t===null||typeof t!="object"?null:(t=Qg&&t[Qg]||t["@@iterator"],typeof t=="function"?t:null)}var ut=Object.assign,Vd;function Qs(t){if(Vd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vd=e&&e[1]||""}return`
`+Vd+t}var $d=!1;function Bd(t,e){if(!t||$d)return"";$d=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{$d=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qs(t):""}function eI(t){switch(t.tag){case 5:return Qs(t.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 2:case 15:return t=Bd(t.type,!1),t;case 11:return t=Bd(t.type.render,!1),t;case 1:return t=Bd(t.type,!0),t;default:return""}}function qf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case To:return"Fragment";case ko:return"Portal";case Wf:return"Profiler";case Tp:return"StrictMode";case Gf:return"Suspense";case Kf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case v_:return(t.displayName||"Context")+".Consumer";case g_:return(t._context.displayName||"Context")+".Provider";case xp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Np:return e=t.displayName||null,e!==null?e:qf(t.type)||"Memo";case Br:e=t._payload,t=t._init;try{return qf(t(e))}catch{}}return null}function tI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qf(e);case 8:return e===Tp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function __(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nI(t){var e=__(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ol(t){t._valueTracker||(t._valueTracker=nI(t))}function w_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=__(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Tu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yf(t,e){var n=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function E_(t,e){e=e.checked,e!=null&&kp(t,"checked",e,!1)}function Qf(t,e){E_(t,e);var n=di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jf(t,e.type,di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jf(t,e,n){(e!=="number"||Tu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Js=Array.isArray;function $o(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+di(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Xf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Js(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:di(n)}}function C_(t,e){var n=di(e.value),r=di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ev(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function S_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?S_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dl,b_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dl=Dl||document.createElement("div"),Dl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _a(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rI=["Webkit","ms","Moz","O"];Object.keys(ia).forEach(function(t){rI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ia[e]=ia[t]})});function I_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ia.hasOwnProperty(t)&&ia[t]?(""+e).trim():e+"px"}function k_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=I_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var iI=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eh(t,e){if(e){if(iI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function th(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nh=null;function Ap(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rh=null,Bo=null,jo=null;function tv(t){if(t=rl(t)){if(typeof rh!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Vc(e),rh(t.stateNode,t.type,e))}}function T_(t){Bo?jo?jo.push(t):jo=[t]:Bo=t}function x_(){if(Bo){var t=Bo,e=jo;if(jo=Bo=null,tv(t),e)for(t=0;t<e.length;t++)tv(e[t])}}function N_(t,e){return t(e)}function A_(){}var jd=!1;function R_(t,e,n){if(jd)return t(e,n);jd=!0;try{return N_(t,e,n)}finally{jd=!1,(Bo!==null||jo!==null)&&(A_(),x_())}}function wa(t,e){var n=t.stateNode;if(n===null)return null;var r=Vc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var ih=!1;if(Ir)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){ih=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{ih=!1}function oI(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var oa=!1,xu=null,Nu=!1,oh=null,sI={onError:function(t){oa=!0,xu=t}};function aI(t,e,n,r,i,o,s,a,l){oa=!1,xu=null,oI.apply(sI,arguments)}function lI(t,e,n,r,i,o,s,a,l){if(aI.apply(this,arguments),oa){if(oa){var u=xu;oa=!1,xu=null}else throw Error(z(198));Nu||(Nu=!0,oh=u)}}function uo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function P_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nv(t){if(uo(t)!==t)throw Error(z(188))}function uI(t){var e=t.alternate;if(!e){if(e=uo(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return nv(i),t;if(o===r)return nv(i),e;o=o.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function O_(t){return t=uI(t),t!==null?D_(t):null}function D_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=D_(t);if(e!==null)return e;t=t.sibling}return null}var M_=vn.unstable_scheduleCallback,rv=vn.unstable_cancelCallback,cI=vn.unstable_shouldYield,dI=vn.unstable_requestPaint,ft=vn.unstable_now,fI=vn.unstable_getCurrentPriorityLevel,Rp=vn.unstable_ImmediatePriority,L_=vn.unstable_UserBlockingPriority,Au=vn.unstable_NormalPriority,hI=vn.unstable_LowPriority,F_=vn.unstable_IdlePriority,Mc=null,rr=null;function pI(t){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(Mc,t,void 0,(t.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:vI,mI=Math.log,gI=Math.LN2;function vI(t){return t>>>=0,t===0?32:31-(mI(t)/gI|0)|0}var Ml=64,Ll=4194304;function Xs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ru(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Xs(a):(o&=s,o!==0&&(r=Xs(o)))}else s=n&~i,s!==0?r=Xs(s):o!==0&&(r=Xs(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jn(e),i=1<<n,r|=t[n],e&=~i;return r}function yI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _I(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-jn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=yI(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function sh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function U_(){var t=Ml;return Ml<<=1,!(Ml&4194240)&&(Ml=64),t}function zd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jn(e),t[e]=n}function wI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-jn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Pp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ze=0;function V_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $_,Op,B_,j_,z_,ah=!1,Fl=[],Jr=null,Xr=null,Zr=null,Ea=new Map,Ca=new Map,Hr=[],EI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iv(t,e){switch(t){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Ea.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(e.pointerId)}}function Fs(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=rl(e),e!==null&&Op(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function CI(t,e,n,r,i){switch(e){case"focusin":return Jr=Fs(Jr,t,e,n,r,i),!0;case"dragenter":return Xr=Fs(Xr,t,e,n,r,i),!0;case"mouseover":return Zr=Fs(Zr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ea.set(o,Fs(Ea.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ca.set(o,Fs(Ca.get(o)||null,t,e,n,r,i)),!0}return!1}function H_(t){var e=Oi(t.target);if(e!==null){var n=uo(e);if(n!==null){if(e=n.tag,e===13){if(e=P_(n),e!==null){t.blockedOn=e,z_(t.priority,function(){B_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function au(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);nh=r,n.target.dispatchEvent(r),nh=null}else return e=rl(n),e!==null&&Op(e),t.blockedOn=n,!1;e.shift()}return!0}function ov(t,e,n){au(t)&&n.delete(e)}function SI(){ah=!1,Jr!==null&&au(Jr)&&(Jr=null),Xr!==null&&au(Xr)&&(Xr=null),Zr!==null&&au(Zr)&&(Zr=null),Ea.forEach(ov),Ca.forEach(ov)}function Us(t,e){t.blockedOn===e&&(t.blockedOn=null,ah||(ah=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,SI)))}function Sa(t){function e(i){return Us(i,t)}if(0<Fl.length){Us(Fl[0],t);for(var n=1;n<Fl.length;n++){var r=Fl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Jr!==null&&Us(Jr,t),Xr!==null&&Us(Xr,t),Zr!==null&&Us(Zr,t),Ea.forEach(e),Ca.forEach(e),n=0;n<Hr.length;n++)r=Hr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hr.length&&(n=Hr[0],n.blockedOn===null);)H_(n),n.blockedOn===null&&Hr.shift()}var zo=Rr.ReactCurrentBatchConfig,Pu=!0;function bI(t,e,n,r){var i=ze,o=zo.transition;zo.transition=null;try{ze=1,Dp(t,e,n,r)}finally{ze=i,zo.transition=o}}function II(t,e,n,r){var i=ze,o=zo.transition;zo.transition=null;try{ze=4,Dp(t,e,n,r)}finally{ze=i,zo.transition=o}}function Dp(t,e,n,r){if(Pu){var i=lh(t,e,n,r);if(i===null)Zd(t,e,r,Ou,n),iv(t,r);else if(CI(i,t,e,n,r))r.stopPropagation();else if(iv(t,r),e&4&&-1<EI.indexOf(t)){for(;i!==null;){var o=rl(i);if(o!==null&&$_(o),o=lh(t,e,n,r),o===null&&Zd(t,e,r,Ou,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Zd(t,e,r,null,n)}}var Ou=null;function lh(t,e,n,r){if(Ou=null,t=Ap(r),t=Oi(t),t!==null)if(e=uo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=P_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ou=t,null}function W_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fI()){case Rp:return 1;case L_:return 4;case Au:case hI:return 16;case F_:return 536870912;default:return 16}default:return 16}}var qr=null,Mp=null,lu=null;function G_(){if(lu)return lu;var t,e=Mp,n=e.length,r,i="value"in qr?qr.value:qr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return lu=i.slice(t,1<r?1-r:void 0)}function uu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ul(){return!0}function sv(){return!1}function _n(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ul:sv,this.isPropagationStopped=sv,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),e}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lp=_n(vs),nl=ut({},vs,{view:0,detail:0}),kI=_n(nl),Hd,Wd,Vs,Lc=ut({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vs&&(Vs&&t.type==="mousemove"?(Hd=t.screenX-Vs.screenX,Wd=t.screenY-Vs.screenY):Wd=Hd=0,Vs=t),Hd)},movementY:function(t){return"movementY"in t?t.movementY:Wd}}),av=_n(Lc),TI=ut({},Lc,{dataTransfer:0}),xI=_n(TI),NI=ut({},nl,{relatedTarget:0}),Gd=_n(NI),AI=ut({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),RI=_n(AI),PI=ut({},vs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OI=_n(PI),DI=ut({},vs,{data:0}),lv=_n(DI),MI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FI[t])?!!e[t]:!1}function Fp(){return UI}var VI=ut({},nl,{key:function(t){if(t.key){var e=MI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fp,charCode:function(t){return t.type==="keypress"?uu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$I=_n(VI),BI=ut({},Lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uv=_n(BI),jI=ut({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fp}),zI=_n(jI),HI=ut({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),WI=_n(HI),GI=ut({},Lc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KI=_n(GI),qI=[9,13,27,32],Up=Ir&&"CompositionEvent"in window,sa=null;Ir&&"documentMode"in document&&(sa=document.documentMode);var YI=Ir&&"TextEvent"in window&&!sa,K_=Ir&&(!Up||sa&&8<sa&&11>=sa),cv=String.fromCharCode(32),dv=!1;function q_(t,e){switch(t){case"keyup":return qI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xo=!1;function QI(t,e){switch(t){case"compositionend":return Y_(e);case"keypress":return e.which!==32?null:(dv=!0,cv);case"textInput":return t=e.data,t===cv&&dv?null:t;default:return null}}function JI(t,e){if(xo)return t==="compositionend"||!Up&&q_(t,e)?(t=G_(),lu=Mp=qr=null,xo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return K_&&e.locale!=="ko"?null:e.data;default:return null}}var XI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XI[t.type]:e==="textarea"}function Q_(t,e,n,r){T_(r),e=Du(e,"onChange"),0<e.length&&(n=new Lp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var aa=null,ba=null;function ZI(t){a1(t,0)}function Fc(t){var e=Ro(t);if(w_(e))return t}function ek(t,e){if(t==="change")return e}var J_=!1;if(Ir){var Kd;if(Ir){var qd="oninput"in document;if(!qd){var hv=document.createElement("div");hv.setAttribute("oninput","return;"),qd=typeof hv.oninput=="function"}Kd=qd}else Kd=!1;J_=Kd&&(!document.documentMode||9<document.documentMode)}function pv(){aa&&(aa.detachEvent("onpropertychange",X_),ba=aa=null)}function X_(t){if(t.propertyName==="value"&&Fc(ba)){var e=[];Q_(e,ba,t,Ap(t)),R_(ZI,e)}}function tk(t,e,n){t==="focusin"?(pv(),aa=e,ba=n,aa.attachEvent("onpropertychange",X_)):t==="focusout"&&pv()}function nk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fc(ba)}function rk(t,e){if(t==="click")return Fc(e)}function ik(t,e){if(t==="input"||t==="change")return Fc(e)}function ok(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gn=typeof Object.is=="function"?Object.is:ok;function Ia(t,e){if(Gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hf.call(e,i)||!Gn(t[i],e[i]))return!1}return!0}function mv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gv(t,e){var n=mv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mv(n)}}function Z_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Z_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function e1(){for(var t=window,e=Tu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tu(t.document)}return e}function Vp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sk(t){var e=e1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Z_(n.ownerDocument.documentElement,n)){if(r!==null&&Vp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=gv(n,o);var s=gv(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ak=Ir&&"documentMode"in document&&11>=document.documentMode,No=null,uh=null,la=null,ch=!1;function vv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ch||No==null||No!==Tu(r)||(r=No,"selectionStart"in r&&Vp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),la&&Ia(la,r)||(la=r,r=Du(uh,"onSelect"),0<r.length&&(e=new Lp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=No)))}function Vl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ao={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionend:Vl("Transition","TransitionEnd")},Yd={},t1={};Ir&&(t1=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function Uc(t){if(Yd[t])return Yd[t];if(!Ao[t])return t;var e=Ao[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in t1)return Yd[t]=e[n];return t}var n1=Uc("animationend"),r1=Uc("animationiteration"),i1=Uc("animationstart"),o1=Uc("transitionend"),s1=new Map,yv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vi(t,e){s1.set(t,e),lo(e,[t])}for(var Qd=0;Qd<yv.length;Qd++){var Jd=yv[Qd],lk=Jd.toLowerCase(),uk=Jd[0].toUpperCase()+Jd.slice(1);vi(lk,"on"+uk)}vi(n1,"onAnimationEnd");vi(r1,"onAnimationIteration");vi(i1,"onAnimationStart");vi("dblclick","onDoubleClick");vi("focusin","onFocus");vi("focusout","onBlur");vi(o1,"onTransitionEnd");Xo("onMouseEnter",["mouseout","mouseover"]);Xo("onMouseLeave",["mouseout","mouseover"]);Xo("onPointerEnter",["pointerout","pointerover"]);Xo("onPointerLeave",["pointerout","pointerover"]);lo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lo("onBeforeInput",["compositionend","keypress","textInput","paste"]);lo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ck=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zs));function _v(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lI(r,e,void 0,t),t.currentTarget=null}function a1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;_v(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;_v(i,a,u),o=l}}}if(Nu)throw t=oh,Nu=!1,oh=null,t}function Ze(t,e){var n=e[mh];n===void 0&&(n=e[mh]=new Set);var r=t+"__bubble";n.has(r)||(l1(e,t,2,!1),n.add(r))}function Xd(t,e,n){var r=0;e&&(r|=4),l1(n,t,r,e)}var $l="_reactListening"+Math.random().toString(36).slice(2);function ka(t){if(!t[$l]){t[$l]=!0,m_.forEach(function(n){n!=="selectionchange"&&(ck.has(n)||Xd(n,!1,t),Xd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$l]||(e[$l]=!0,Xd("selectionchange",!1,e))}}function l1(t,e,n,r){switch(W_(e)){case 1:var i=bI;break;case 4:i=II;break;default:i=Dp}n=i.bind(null,e,n,t),i=void 0,!ih||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Zd(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Oi(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}R_(function(){var u=o,c=Ap(n),d=[];e:{var f=s1.get(t);if(f!==void 0){var g=Lp,v=t;switch(t){case"keypress":if(uu(n)===0)break e;case"keydown":case"keyup":g=$I;break;case"focusin":v="focus",g=Gd;break;case"focusout":v="blur",g=Gd;break;case"beforeblur":case"afterblur":g=Gd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=av;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=xI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=zI;break;case n1:case r1:case i1:g=RI;break;case o1:g=WI;break;case"scroll":g=kI;break;case"wheel":g=KI;break;case"copy":case"cut":case"paste":g=OI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=uv}var w=(e&4)!==0,C=!w&&t==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var p=u,_;p!==null;){_=p;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,m!==null&&(b=wa(p,m),b!=null&&w.push(Ta(p,b,_)))),C)break;p=p.return}0<w.length&&(f=new g(f,v,null,n,c),d.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==nh&&(v=n.relatedTarget||n.fromElement)&&(Oi(v)||v[kr]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Oi(v):null,v!==null&&(C=uo(v),v!==C||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(w=av,b="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=uv,b="onPointerLeave",m="onPointerEnter",p="pointer"),C=g==null?f:Ro(g),_=v==null?f:Ro(v),f=new w(b,p+"leave",g,n,c),f.target=C,f.relatedTarget=_,b=null,Oi(c)===u&&(w=new w(m,p+"enter",v,n,c),w.target=_,w.relatedTarget=C,b=w),C=b,g&&v)t:{for(w=g,m=v,p=0,_=w;_;_=wo(_))p++;for(_=0,b=m;b;b=wo(b))_++;for(;0<p-_;)w=wo(w),p--;for(;0<_-p;)m=wo(m),_--;for(;p--;){if(w===m||m!==null&&w===m.alternate)break t;w=wo(w),m=wo(m)}w=null}else w=null;g!==null&&wv(d,f,g,w,!1),v!==null&&C!==null&&wv(d,C,v,w,!0)}}e:{if(f=u?Ro(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var I=ek;else if(fv(f))if(J_)I=ik;else{I=nk;var k=tk}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=rk);if(I&&(I=I(t,u))){Q_(d,I,n,c);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Jf(f,"number",f.value)}switch(k=u?Ro(u):window,t){case"focusin":(fv(k)||k.contentEditable==="true")&&(No=k,uh=u,la=null);break;case"focusout":la=uh=No=null;break;case"mousedown":ch=!0;break;case"contextmenu":case"mouseup":case"dragend":ch=!1,vv(d,n,c);break;case"selectionchange":if(ak)break;case"keydown":case"keyup":vv(d,n,c)}var T;if(Up)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else xo?q_(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(K_&&n.locale!=="ko"&&(xo||D!=="onCompositionStart"?D==="onCompositionEnd"&&xo&&(T=G_()):(qr=c,Mp="value"in qr?qr.value:qr.textContent,xo=!0)),k=Du(u,D),0<k.length&&(D=new lv(D,t,null,n,c),d.push({event:D,listeners:k}),T?D.data=T:(T=Y_(n),T!==null&&(D.data=T)))),(T=YI?QI(t,n):JI(t,n))&&(u=Du(u,"onBeforeInput"),0<u.length&&(c=new lv("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}a1(d,e)})}function Ta(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Du(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=wa(t,n),o!=null&&r.unshift(Ta(t,o,i)),o=wa(t,e),o!=null&&r.push(Ta(t,o,i))),t=t.return}return r}function wo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wv(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=wa(n,o),l!=null&&s.unshift(Ta(n,l,a))):i||(l=wa(n,o),l!=null&&s.push(Ta(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var dk=/\r\n?/g,fk=/\u0000|\uFFFD/g;function Ev(t){return(typeof t=="string"?t:""+t).replace(dk,`
`).replace(fk,"")}function Bl(t,e,n){if(e=Ev(e),Ev(t)!==e&&n)throw Error(z(425))}function Mu(){}var dh=null,fh=null;function hh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ph=typeof setTimeout=="function"?setTimeout:void 0,hk=typeof clearTimeout=="function"?clearTimeout:void 0,Cv=typeof Promise=="function"?Promise:void 0,pk=typeof queueMicrotask=="function"?queueMicrotask:typeof Cv<"u"?function(t){return Cv.resolve(null).then(t).catch(mk)}:ph;function mk(t){setTimeout(function(){throw t})}function ef(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Sa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sa(e)}function ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Sv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ys=Math.random().toString(36).slice(2),Zn="__reactFiber$"+ys,xa="__reactProps$"+ys,kr="__reactContainer$"+ys,mh="__reactEvents$"+ys,gk="__reactListeners$"+ys,vk="__reactHandles$"+ys;function Oi(t){var e=t[Zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kr]||n[Zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Sv(t);t!==null;){if(n=t[Zn])return n;t=Sv(t)}return e}t=n,n=t.parentNode}return null}function rl(t){return t=t[Zn]||t[kr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ro(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Vc(t){return t[xa]||null}var gh=[],Po=-1;function yi(t){return{current:t}}function nt(t){0>Po||(t.current=gh[Po],gh[Po]=null,Po--)}function Qe(t,e){Po++,gh[Po]=t.current,t.current=e}var fi={},Vt=yi(fi),tn=yi(!1),Yi=fi;function Zo(t,e){var n=t.type.contextTypes;if(!n)return fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function nn(t){return t=t.childContextTypes,t!=null}function Lu(){nt(tn),nt(Vt)}function bv(t,e,n){if(Vt.current!==fi)throw Error(z(168));Qe(Vt,e),Qe(tn,n)}function u1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,tI(t)||"Unknown",i));return ut({},n,r)}function Fu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fi,Yi=Vt.current,Qe(Vt,t),Qe(tn,tn.current),!0}function Iv(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=u1(t,e,Yi),r.__reactInternalMemoizedMergedChildContext=t,nt(tn),nt(Vt),Qe(Vt,t)):nt(tn),Qe(tn,n)}var pr=null,$c=!1,tf=!1;function c1(t){pr===null?pr=[t]:pr.push(t)}function yk(t){$c=!0,c1(t)}function _i(){if(!tf&&pr!==null){tf=!0;var t=0,e=ze;try{var n=pr;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pr=null,$c=!1}catch(i){throw pr!==null&&(pr=pr.slice(t+1)),M_(Rp,_i),i}finally{ze=e,tf=!1}}return null}var Oo=[],Do=0,Uu=null,Vu=0,bn=[],In=0,Qi=null,yr=1,_r="";function Ti(t,e){Oo[Do++]=Vu,Oo[Do++]=Uu,Uu=t,Vu=e}function d1(t,e,n){bn[In++]=yr,bn[In++]=_r,bn[In++]=Qi,Qi=t;var r=yr;t=_r;var i=32-jn(r)-1;r&=~(1<<i),n+=1;var o=32-jn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,yr=1<<32-jn(e)+i|n<<i|r,_r=o+t}else yr=1<<o|n<<i|r,_r=t}function $p(t){t.return!==null&&(Ti(t,1),d1(t,1,0))}function Bp(t){for(;t===Uu;)Uu=Oo[--Do],Oo[Do]=null,Vu=Oo[--Do],Oo[Do]=null;for(;t===Qi;)Qi=bn[--In],bn[In]=null,_r=bn[--In],bn[In]=null,yr=bn[--In],bn[In]=null}var mn=null,pn=null,ot=!1,Vn=null;function f1(t,e){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mn=t,pn=ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Qi!==null?{id:yr,overflow:_r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mn=t,pn=null,!0):!1;default:return!1}}function vh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yh(t){if(ot){var e=pn;if(e){var n=e;if(!kv(t,e)){if(vh(t))throw Error(z(418));e=ei(n.nextSibling);var r=mn;e&&kv(t,e)?f1(r,n):(t.flags=t.flags&-4097|2,ot=!1,mn=t)}}else{if(vh(t))throw Error(z(418));t.flags=t.flags&-4097|2,ot=!1,mn=t}}}function Tv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mn=t}function jl(t){if(t!==mn)return!1;if(!ot)return Tv(t),ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hh(t.type,t.memoizedProps)),e&&(e=pn)){if(vh(t))throw h1(),Error(z(418));for(;e;)f1(t,e),e=ei(e.nextSibling)}if(Tv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pn=ei(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=mn?ei(t.stateNode.nextSibling):null;return!0}function h1(){for(var t=pn;t;)t=ei(t.nextSibling)}function es(){pn=mn=null,ot=!1}function jp(t){Vn===null?Vn=[t]:Vn.push(t)}var _k=Rr.ReactCurrentBatchConfig;function Fn(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var $u=yi(null),Bu=null,Mo=null,zp=null;function Hp(){zp=Mo=Bu=null}function Wp(t){var e=$u.current;nt($u),t._currentValue=e}function _h(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ho(t,e){Bu=t,zp=Mo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zt=!0),t.firstContext=null)}function An(t){var e=t._currentValue;if(zp!==t)if(t={context:t,memoizedValue:e,next:null},Mo===null){if(Bu===null)throw Error(z(308));Mo=t,Bu.dependencies={lanes:0,firstContext:t}}else Mo=Mo.next=t;return e}var Di=null;function Gp(t){Di===null?Di=[t]:Di.push(t)}function p1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Gp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Tr(t,r)}function Tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var jr=!1;function Kp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Tr(t,n)}return i=r.interleaved,i===null?(e.next=e,Gp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Tr(t,n)}function cu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pp(t,n)}}function xv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ju(t,e,n,r){var i=t.updateQueue;jr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,g=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(f=e,g=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(g,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(g,d,f):v,f==null)break e;d=ut({},d,f);break e;case 2:jr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Xi|=s,t.lanes=s,t.memoizedState=d}}function Nv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var g1=new p_.Component().refs;function wh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bc={isMounted:function(t){return(t=t._reactInternals)?uo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=ri(t),o=Sr(r,i);o.payload=e,n!=null&&(o.callback=n),e=ti(t,o,i),e!==null&&(zn(e,t,i,r),cu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=ri(t),o=Sr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ti(t,o,i),e!==null&&(zn(e,t,i,r),cu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wt(),r=ri(t),i=Sr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ti(t,i,r),e!==null&&(zn(e,t,r,n),cu(e,t,r))}};function Av(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ia(n,r)||!Ia(i,o):!0}function v1(t,e,n){var r=!1,i=fi,o=e.contextType;return typeof o=="object"&&o!==null?o=An(o):(i=nn(e)?Yi:Vt.current,r=e.contextTypes,o=(r=r!=null)?Zo(t,i):fi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Rv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bc.enqueueReplaceState(e,e.state,null)}function Eh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=g1,Kp(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=An(o):(o=nn(e)?Yi:Vt.current,i.context=Zo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(wh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Bc.enqueueReplaceState(i,i.state,null),ju(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $s(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===g1&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function zl(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Pv(t){var e=t._init;return e(t._payload)}function y1(t){function e(m,p){if(t){var _=m.deletions;_===null?(m.deletions=[p],m.flags|=16):_.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=ii(m,p),m.index=0,m.sibling=null,m}function o(m,p,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<p?(m.flags|=2,p):_):(m.flags|=2,p)):(m.flags|=1048576,p)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,_,b){return p===null||p.tag!==6?(p=uf(_,m.mode,b),p.return=m,p):(p=i(p,_),p.return=m,p)}function l(m,p,_,b){var I=_.type;return I===To?c(m,p,_.props.children,b,_.key):p!==null&&(p.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Br&&Pv(I)===p.type)?(b=i(p,_.props),b.ref=$s(m,p,_),b.return=m,b):(b=gu(_.type,_.key,_.props,null,m.mode,b),b.ref=$s(m,p,_),b.return=m,b)}function u(m,p,_,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=cf(_,m.mode,b),p.return=m,p):(p=i(p,_.children||[]),p.return=m,p)}function c(m,p,_,b,I){return p===null||p.tag!==7?(p=Hi(_,m.mode,b,I),p.return=m,p):(p=i(p,_),p.return=m,p)}function d(m,p,_){if(typeof p=="string"&&p!==""||typeof p=="number")return p=uf(""+p,m.mode,_),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Pl:return _=gu(p.type,p.key,p.props,null,m.mode,_),_.ref=$s(m,null,p),_.return=m,_;case ko:return p=cf(p,m.mode,_),p.return=m,p;case Br:var b=p._init;return d(m,b(p._payload),_)}if(Js(p)||Ms(p))return p=Hi(p,m.mode,_,null),p.return=m,p;zl(m,p)}return null}function f(m,p,_,b){var I=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return I!==null?null:a(m,p,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Pl:return _.key===I?l(m,p,_,b):null;case ko:return _.key===I?u(m,p,_,b):null;case Br:return I=_._init,f(m,p,I(_._payload),b)}if(Js(_)||Ms(_))return I!==null?null:c(m,p,_,b,null);zl(m,_)}return null}function g(m,p,_,b,I){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(_)||null,a(p,m,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pl:return m=m.get(b.key===null?_:b.key)||null,l(p,m,b,I);case ko:return m=m.get(b.key===null?_:b.key)||null,u(p,m,b,I);case Br:var k=b._init;return g(m,p,_,k(b._payload),I)}if(Js(b)||Ms(b))return m=m.get(_)||null,c(p,m,b,I,null);zl(p,b)}return null}function v(m,p,_,b){for(var I=null,k=null,T=p,D=p=0,Y=null;T!==null&&D<_.length;D++){T.index>D?(Y=T,T=null):Y=T.sibling;var H=f(m,T,_[D],b);if(H===null){T===null&&(T=Y);break}t&&T&&H.alternate===null&&e(m,T),p=o(H,p,D),k===null?I=H:k.sibling=H,k=H,T=Y}if(D===_.length)return n(m,T),ot&&Ti(m,D),I;if(T===null){for(;D<_.length;D++)T=d(m,_[D],b),T!==null&&(p=o(T,p,D),k===null?I=T:k.sibling=T,k=T);return ot&&Ti(m,D),I}for(T=r(m,T);D<_.length;D++)Y=g(T,m,D,_[D],b),Y!==null&&(t&&Y.alternate!==null&&T.delete(Y.key===null?D:Y.key),p=o(Y,p,D),k===null?I=Y:k.sibling=Y,k=Y);return t&&T.forEach(function(pe){return e(m,pe)}),ot&&Ti(m,D),I}function w(m,p,_,b){var I=Ms(_);if(typeof I!="function")throw Error(z(150));if(_=I.call(_),_==null)throw Error(z(151));for(var k=I=null,T=p,D=p=0,Y=null,H=_.next();T!==null&&!H.done;D++,H=_.next()){T.index>D?(Y=T,T=null):Y=T.sibling;var pe=f(m,T,H.value,b);if(pe===null){T===null&&(T=Y);break}t&&T&&pe.alternate===null&&e(m,T),p=o(pe,p,D),k===null?I=pe:k.sibling=pe,k=pe,T=Y}if(H.done)return n(m,T),ot&&Ti(m,D),I;if(T===null){for(;!H.done;D++,H=_.next())H=d(m,H.value,b),H!==null&&(p=o(H,p,D),k===null?I=H:k.sibling=H,k=H);return ot&&Ti(m,D),I}for(T=r(m,T);!H.done;D++,H=_.next())H=g(T,m,D,H.value,b),H!==null&&(t&&H.alternate!==null&&T.delete(H.key===null?D:H.key),p=o(H,p,D),k===null?I=H:k.sibling=H,k=H);return t&&T.forEach(function(me){return e(m,me)}),ot&&Ti(m,D),I}function C(m,p,_,b){if(typeof _=="object"&&_!==null&&_.type===To&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Pl:e:{for(var I=_.key,k=p;k!==null;){if(k.key===I){if(I=_.type,I===To){if(k.tag===7){n(m,k.sibling),p=i(k,_.props.children),p.return=m,m=p;break e}}else if(k.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Br&&Pv(I)===k.type){n(m,k.sibling),p=i(k,_.props),p.ref=$s(m,k,_),p.return=m,m=p;break e}n(m,k);break}else e(m,k);k=k.sibling}_.type===To?(p=Hi(_.props.children,m.mode,b,_.key),p.return=m,m=p):(b=gu(_.type,_.key,_.props,null,m.mode,b),b.ref=$s(m,p,_),b.return=m,m=b)}return s(m);case ko:e:{for(k=_.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(m,p.sibling),p=i(p,_.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=cf(_,m.mode,b),p.return=m,m=p}return s(m);case Br:return k=_._init,C(m,p,k(_._payload),b)}if(Js(_))return v(m,p,_,b);if(Ms(_))return w(m,p,_,b);zl(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,_),p.return=m,m=p):(n(m,p),p=uf(_,m.mode,b),p.return=m,m=p),s(m)):n(m,p)}return C}var ts=y1(!0),_1=y1(!1),il={},ir=yi(il),Na=yi(il),Aa=yi(il);function Mi(t){if(t===il)throw Error(z(174));return t}function qp(t,e){switch(Qe(Aa,e),Qe(Na,t),Qe(ir,il),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zf(e,t)}nt(ir),Qe(ir,e)}function ns(){nt(ir),nt(Na),nt(Aa)}function w1(t){Mi(Aa.current);var e=Mi(ir.current),n=Zf(e,t.type);e!==n&&(Qe(Na,t),Qe(ir,n))}function Yp(t){Na.current===t&&(nt(ir),nt(Na))}var st=yi(0);function zu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nf=[];function Qp(){for(var t=0;t<nf.length;t++)nf[t]._workInProgressVersionPrimary=null;nf.length=0}var du=Rr.ReactCurrentDispatcher,rf=Rr.ReactCurrentBatchConfig,Ji=0,lt=null,wt=null,bt=null,Hu=!1,ua=!1,Ra=0,wk=0;function Mt(){throw Error(z(321))}function Jp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gn(t[n],e[n]))return!1;return!0}function Xp(t,e,n,r,i,o){if(Ji=o,lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,du.current=t===null||t.memoizedState===null?bk:Ik,t=n(r,i),ua){o=0;do{if(ua=!1,Ra=0,25<=o)throw Error(z(301));o+=1,bt=wt=null,e.updateQueue=null,du.current=kk,t=n(r,i)}while(ua)}if(du.current=Wu,e=wt!==null&&wt.next!==null,Ji=0,bt=wt=lt=null,Hu=!1,e)throw Error(z(300));return t}function Zp(){var t=Ra!==0;return Ra=0,t}function Qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?lt.memoizedState=bt=t:bt=bt.next=t,bt}function Rn(){if(wt===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=bt===null?lt.memoizedState:bt.next;if(e!==null)bt=e,wt=t;else{if(t===null)throw Error(z(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},bt===null?lt.memoizedState=bt=t:bt=bt.next=t}return bt}function Pa(t,e){return typeof e=="function"?e(t):e}function of(t){var e=Rn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=wt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Ji&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,lt.lanes|=c,Xi|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Gn(r,e.memoizedState)||(Zt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,lt.lanes|=o,Xi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sf(t){var e=Rn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Gn(o,e.memoizedState)||(Zt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function E1(){}function C1(t,e){var n=lt,r=Rn(),i=e(),o=!Gn(r.memoizedState,i);if(o&&(r.memoizedState=i,Zt=!0),r=r.queue,em(I1.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,Oa(9,b1.bind(null,n,r,i,e),void 0,null),kt===null)throw Error(z(349));Ji&30||S1(n,e,i)}return i}function S1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function b1(t,e,n,r){e.value=n,e.getSnapshot=r,k1(e)&&T1(t)}function I1(t,e,n){return n(function(){k1(e)&&T1(t)})}function k1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gn(t,n)}catch{return!0}}function T1(t){var e=Tr(t,1);e!==null&&zn(e,t,1,-1)}function Ov(t){var e=Qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:t},e.queue=t,t=t.dispatch=Sk.bind(null,lt,t),[e.memoizedState,t]}function Oa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function x1(){return Rn().memoizedState}function fu(t,e,n,r){var i=Qn();lt.flags|=t,i.memoizedState=Oa(1|e,n,void 0,r===void 0?null:r)}function jc(t,e,n,r){var i=Rn();r=r===void 0?null:r;var o=void 0;if(wt!==null){var s=wt.memoizedState;if(o=s.destroy,r!==null&&Jp(r,s.deps)){i.memoizedState=Oa(e,n,o,r);return}}lt.flags|=t,i.memoizedState=Oa(1|e,n,o,r)}function Dv(t,e){return fu(8390656,8,t,e)}function em(t,e){return jc(2048,8,t,e)}function N1(t,e){return jc(4,2,t,e)}function A1(t,e){return jc(4,4,t,e)}function R1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function P1(t,e,n){return n=n!=null?n.concat([t]):null,jc(4,4,R1.bind(null,e,t),n)}function tm(){}function O1(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function D1(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function M1(t,e,n){return Ji&21?(Gn(n,e)||(n=U_(),lt.lanes|=n,Xi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zt=!0),t.memoizedState=n)}function Ek(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=rf.transition;rf.transition={};try{t(!1),e()}finally{ze=n,rf.transition=r}}function L1(){return Rn().memoizedState}function Ck(t,e,n){var r=ri(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},F1(t))U1(e,n);else if(n=p1(t,e,n,r),n!==null){var i=Wt();zn(n,t,r,i),V1(n,e,r)}}function Sk(t,e,n){var r=ri(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(F1(t))U1(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Gn(a,s)){var l=e.interleaved;l===null?(i.next=i,Gp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=p1(t,e,i,r),n!==null&&(i=Wt(),zn(n,t,r,i),V1(n,e,r))}}function F1(t){var e=t.alternate;return t===lt||e!==null&&e===lt}function U1(t,e){ua=Hu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function V1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pp(t,n)}}var Wu={readContext:An,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},bk={readContext:An,useCallback:function(t,e){return Qn().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:Dv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fu(4194308,4,R1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fu(4194308,4,t,e)},useInsertionEffect:function(t,e){return fu(4,2,t,e)},useMemo:function(t,e){var n=Qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ck.bind(null,lt,t),[r.memoizedState,t]},useRef:function(t){var e=Qn();return t={current:t},e.memoizedState=t},useState:Ov,useDebugValue:tm,useDeferredValue:function(t){return Qn().memoizedState=t},useTransition:function(){var t=Ov(!1),e=t[0];return t=Ek.bind(null,t[1]),Qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=lt,i=Qn();if(ot){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),kt===null)throw Error(z(349));Ji&30||S1(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Dv(I1.bind(null,r,o,t),[t]),r.flags|=2048,Oa(9,b1.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Qn(),e=kt.identifierPrefix;if(ot){var n=_r,r=yr;n=(r&~(1<<32-jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ra++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ik={readContext:An,useCallback:O1,useContext:An,useEffect:em,useImperativeHandle:P1,useInsertionEffect:N1,useLayoutEffect:A1,useMemo:D1,useReducer:of,useRef:x1,useState:function(){return of(Pa)},useDebugValue:tm,useDeferredValue:function(t){var e=Rn();return M1(e,wt.memoizedState,t)},useTransition:function(){var t=of(Pa)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:E1,useSyncExternalStore:C1,useId:L1,unstable_isNewReconciler:!1},kk={readContext:An,useCallback:O1,useContext:An,useEffect:em,useImperativeHandle:P1,useInsertionEffect:N1,useLayoutEffect:A1,useMemo:D1,useReducer:sf,useRef:x1,useState:function(){return sf(Pa)},useDebugValue:tm,useDeferredValue:function(t){var e=Rn();return wt===null?e.memoizedState=t:M1(e,wt.memoizedState,t)},useTransition:function(){var t=sf(Pa)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:E1,useSyncExternalStore:C1,useId:L1,unstable_isNewReconciler:!1};function rs(t,e){try{var n="",r=e;do n+=eI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function af(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ch(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Tk=typeof WeakMap=="function"?WeakMap:Map;function $1(t,e,n){n=Sr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ku||(Ku=!0,Ph=r),Ch(t,e)},n}function B1(t,e,n){n=Sr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ch(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ch(t,e),typeof r!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Mv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Tk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Bk.bind(null,t,e,n),e.then(t,t))}function Lv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sr(-1,1),e.tag=2,ti(n,e,1))),n.lanes|=1),t)}var xk=Rr.ReactCurrentOwner,Zt=!1;function zt(t,e,n,r){e.child=t===null?_1(e,null,n,r):ts(e,t.child,n,r)}function Uv(t,e,n,r,i){n=n.render;var o=e.ref;return Ho(e,i),r=Xp(t,e,n,r,o,i),n=Zp(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xr(t,e,i)):(ot&&n&&$p(e),e.flags|=1,zt(t,e,r,i),e.child)}function Vv(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!um(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,j1(t,e,o,r,i)):(t=gu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ia,n(s,r)&&t.ref===e.ref)return xr(t,e,i)}return e.flags|=1,t=ii(o,r),t.ref=e.ref,t.return=e,e.child=t}function j1(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ia(o,r)&&t.ref===e.ref)if(Zt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Zt=!0);else return e.lanes=t.lanes,xr(t,e,i)}return Sh(t,e,n,r,i)}function z1(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Fo,hn),hn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(Fo,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Qe(Fo,hn),hn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Qe(Fo,hn),hn|=r;return zt(t,e,i,n),e.child}function H1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Sh(t,e,n,r,i){var o=nn(n)?Yi:Vt.current;return o=Zo(e,o),Ho(e,i),n=Xp(t,e,n,r,o,i),r=Zp(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xr(t,e,i)):(ot&&r&&$p(e),e.flags|=1,zt(t,e,n,i),e.child)}function $v(t,e,n,r,i){if(nn(n)){var o=!0;Fu(e)}else o=!1;if(Ho(e,i),e.stateNode===null)hu(t,e),v1(e,n,r),Eh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=An(u):(u=nn(n)?Yi:Vt.current,u=Zo(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Rv(e,s,r,u),jr=!1;var f=e.memoizedState;s.state=f,ju(e,r,s,i),l=e.memoizedState,a!==r||f!==l||tn.current||jr?(typeof c=="function"&&(wh(e,n,c,r),l=e.memoizedState),(a=jr||Av(e,n,a,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,m1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Fn(e.type,a),s.props=u,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=An(l):(l=nn(n)?Yi:Vt.current,l=Zo(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Rv(e,s,r,l),jr=!1,f=e.memoizedState,s.state=f,ju(e,r,s,i);var v=e.memoizedState;a!==d||f!==v||tn.current||jr?(typeof g=="function"&&(wh(e,n,g,r),v=e.memoizedState),(u=jr||Av(e,n,u,r,f,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return bh(t,e,n,r,o,i)}function bh(t,e,n,r,i,o){H1(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Iv(e,n,!1),xr(t,e,o);r=e.stateNode,xk.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ts(e,t.child,null,o),e.child=ts(e,null,a,o)):zt(t,e,a,o),e.memoizedState=r.state,i&&Iv(e,n,!0),e.child}function W1(t){var e=t.stateNode;e.pendingContext?bv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bv(t,e.context,!1),qp(t,e.containerInfo)}function Bv(t,e,n,r,i){return es(),jp(i),e.flags|=256,zt(t,e,n,r),e.child}var Ih={dehydrated:null,treeContext:null,retryLane:0};function kh(t){return{baseLanes:t,cachePool:null,transitions:null}}function G1(t,e,n){var r=e.pendingProps,i=st.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qe(st,i&1),t===null)return yh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Wc(s,r,0,null),t=Hi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=kh(n),e.memoizedState=Ih,t):nm(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Nk(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ii(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ii(a,o):(o=Hi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?kh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Ih,r}return o=t.child,t=o.sibling,r=ii(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function nm(t,e){return e=Wc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hl(t,e,n,r){return r!==null&&jp(r),ts(e,t.child,null,n),t=nm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Nk(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=af(Error(z(422))),Hl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Wc({mode:"visible",children:r.children},i,0,null),o=Hi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ts(e,t.child,null,s),e.child.memoizedState=kh(s),e.memoizedState=Ih,o);if(!(e.mode&1))return Hl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(z(419)),r=af(o,r,void 0),Hl(t,e,s,r)}if(a=(s&t.childLanes)!==0,Zt||a){if(r=kt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Tr(t,i),zn(r,t,i,-1))}return lm(),r=af(Error(z(421))),Hl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jk.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,pn=ei(i.nextSibling),mn=e,ot=!0,Vn=null,t!==null&&(bn[In++]=yr,bn[In++]=_r,bn[In++]=Qi,yr=t.id,_r=t.overflow,Qi=e),e=nm(e,r.children),e.flags|=4096,e)}function jv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_h(t.return,e,n)}function lf(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function K1(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(zt(t,e,r.children,n),r=st.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jv(t,n,e);else if(t.tag===19)jv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qe(st,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&zu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),lf(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}lf(e,!0,n,null,o);break;case"together":lf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ak(t,e,n){switch(e.tag){case 3:W1(e),es();break;case 5:w1(e);break;case 1:nn(e.type)&&Fu(e);break;case 4:qp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qe($u,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qe(st,st.current&1),e.flags|=128,null):n&e.child.childLanes?G1(t,e,n):(Qe(st,st.current&1),t=xr(t,e,n),t!==null?t.sibling:null);Qe(st,st.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return K1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(st,st.current),r)break;return null;case 22:case 23:return e.lanes=0,z1(t,e,n)}return xr(t,e,n)}var q1,Th,Y1,Q1;q1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Th=function(){};Y1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Mi(ir.current);var o=null;switch(n){case"input":i=Yf(t,i),r=Yf(t,r),o=[];break;case"select":i=ut({},i,{value:void 0}),r=ut({},r,{value:void 0}),o=[];break;case"textarea":i=Xf(t,i),r=Xf(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Mu)}eh(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ya.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ya.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ze("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Q1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bs(t,e){if(!ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Rk(t,e,n){var r=e.pendingProps;switch(Bp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return nn(e.type)&&Lu(),Lt(e),null;case 3:return r=e.stateNode,ns(),nt(tn),nt(Vt),Qp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(jl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vn!==null&&(Mh(Vn),Vn=null))),Th(t,e),Lt(e),null;case 5:Yp(e);var i=Mi(Aa.current);if(n=e.type,t!==null&&e.stateNode!=null)Y1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Lt(e),null}if(t=Mi(ir.current),jl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Zn]=e,r[xa]=o,t=(e.mode&1)!==0,n){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(i=0;i<Zs.length;i++)Ze(Zs[i],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":Jg(r,o),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ze("invalid",r);break;case"textarea":Zg(r,o),Ze("invalid",r)}eh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Bl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Bl(r.textContent,a,t),i=["children",""+a]):ya.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ze("scroll",r)}switch(n){case"input":Ol(r),Xg(r,o,!0);break;case"textarea":Ol(r),ev(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Mu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=S_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Zn]=e,t[xa]=r,q1(t,e,!1,!1),e.stateNode=t;e:{switch(s=th(n,r),n){case"dialog":Ze("cancel",t),Ze("close",t),i=r;break;case"iframe":case"object":case"embed":Ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Zs.length;i++)Ze(Zs[i],t);i=r;break;case"source":Ze("error",t),i=r;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),i=r;break;case"details":Ze("toggle",t),i=r;break;case"input":Jg(t,r),i=Yf(t,r),Ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ut({},r,{value:void 0}),Ze("invalid",t);break;case"textarea":Zg(t,r),i=Xf(t,r),Ze("invalid",t);break;default:i=r}eh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?k_(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&b_(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_a(t,l):typeof l=="number"&&_a(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ya.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ze("scroll",t):l!=null&&kp(t,o,l,s))}switch(n){case"input":Ol(t),Xg(t,r,!1);break;case"textarea":Ol(t),ev(t);break;case"option":r.value!=null&&t.setAttribute("value",""+di(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?$o(t,!!r.multiple,o,!1):r.defaultValue!=null&&$o(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Mu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)Q1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Mi(Aa.current),Mi(ir.current),jl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zn]=e,(o=r.nodeValue!==n)&&(t=mn,t!==null))switch(t.tag){case 3:Bl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zn]=e,e.stateNode=r}return Lt(e),null;case 13:if(nt(st),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ot&&pn!==null&&e.mode&1&&!(e.flags&128))h1(),es(),e.flags|=98560,o=!1;else if(o=jl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));o[Zn]=e}else es(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),o=!1}else Vn!==null&&(Mh(Vn),Vn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||st.current&1?Ct===0&&(Ct=3):lm())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return ns(),Th(t,e),t===null&&ka(e.stateNode.containerInfo),Lt(e),null;case 10:return Wp(e.type._context),Lt(e),null;case 17:return nn(e.type)&&Lu(),Lt(e),null;case 19:if(nt(st),o=e.memoizedState,o===null)return Lt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Bs(o,!1);else{if(Ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=zu(t),s!==null){for(e.flags|=128,Bs(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qe(st,st.current&1|2),e.child}t=t.sibling}o.tail!==null&&ft()>is&&(e.flags|=128,r=!0,Bs(o,!1),e.lanes=4194304)}else{if(!r)if(t=zu(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ot)return Lt(e),null}else 2*ft()-o.renderingStartTime>is&&n!==1073741824&&(e.flags|=128,r=!0,Bs(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ft(),e.sibling=null,n=st.current,Qe(st,r?n&1|2:n&1),e):(Lt(e),null);case 22:case 23:return am(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hn&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function Pk(t,e){switch(Bp(e),e.tag){case 1:return nn(e.type)&&Lu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ns(),nt(tn),nt(Vt),Qp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yp(e),null;case 13:if(nt(st),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));es()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(st),null;case 4:return ns(),null;case 10:return Wp(e.type._context),null;case 22:case 23:return am(),null;case 24:return null;default:return null}}var Wl=!1,Ut=!1,Ok=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Lo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function xh(t,e,n){try{n()}catch(r){ct(t,e,r)}}var zv=!1;function Dk(t,e){if(dh=Pu,t=e1(),Vp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(fh={focusedElem:t,selectionRange:n},Pu=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,C=v.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:Fn(e.type,w),C);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(b){ct(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return v=zv,zv=!1,v}function ca(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&xh(e,n,o)}i=i.next}while(i!==r)}}function zc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Nh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function J1(t){var e=t.alternate;e!==null&&(t.alternate=null,J1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zn],delete e[xa],delete e[mh],delete e[gk],delete e[vk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function X1(t){return t.tag===5||t.tag===3||t.tag===4}function Hv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||X1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ah(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mu));else if(r!==4&&(t=t.child,t!==null))for(Ah(t,e,n),t=t.sibling;t!==null;)Ah(t,e,n),t=t.sibling}function Rh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rh(t,e,n),t=t.sibling;t!==null;)Rh(t,e,n),t=t.sibling}var At=null,Un=!1;function Vr(t,e,n){for(n=n.child;n!==null;)Z1(t,e,n),n=n.sibling}function Z1(t,e,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(Mc,n)}catch{}switch(n.tag){case 5:Ut||Lo(n,e);case 6:var r=At,i=Un;At=null,Vr(t,e,n),At=r,Un=i,At!==null&&(Un?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(Un?(t=At,n=n.stateNode,t.nodeType===8?ef(t.parentNode,n):t.nodeType===1&&ef(t,n),Sa(t)):ef(At,n.stateNode));break;case 4:r=At,i=Un,At=n.stateNode.containerInfo,Un=!0,Vr(t,e,n),At=r,Un=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&xh(n,e,s),i=i.next}while(i!==r)}Vr(t,e,n);break;case 1:if(!Ut&&(Lo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ct(n,e,a)}Vr(t,e,n);break;case 21:Vr(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,Vr(t,e,n),Ut=r):Vr(t,e,n);break;default:Vr(t,e,n)}}function Wv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ok),e.forEach(function(r){var i=zk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:At=a.stateNode,Un=!1;break e;case 3:At=a.stateNode.containerInfo,Un=!0;break e;case 4:At=a.stateNode.containerInfo,Un=!0;break e}a=a.return}if(At===null)throw Error(z(160));Z1(o,s,i),At=null,Un=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ct(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ew(e,t),e=e.sibling}function ew(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(e,t),Yn(t),r&4){try{ca(3,t,t.return),zc(3,t)}catch(w){ct(t,t.return,w)}try{ca(5,t,t.return)}catch(w){ct(t,t.return,w)}}break;case 1:Dn(e,t),Yn(t),r&512&&n!==null&&Lo(n,n.return);break;case 5:if(Dn(e,t),Yn(t),r&512&&n!==null&&Lo(n,n.return),t.flags&32){var i=t.stateNode;try{_a(i,"")}catch(w){ct(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&E_(i,o),th(a,s);var u=th(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?k_(i,d):c==="dangerouslySetInnerHTML"?b_(i,d):c==="children"?_a(i,d):kp(i,c,d,u)}switch(a){case"input":Qf(i,o);break;case"textarea":C_(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?$o(i,!!o.multiple,g,!1):f!==!!o.multiple&&(o.defaultValue!=null?$o(i,!!o.multiple,o.defaultValue,!0):$o(i,!!o.multiple,o.multiple?[]:"",!1))}i[xa]=o}catch(w){ct(t,t.return,w)}}break;case 6:if(Dn(e,t),Yn(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){ct(t,t.return,w)}}break;case 3:if(Dn(e,t),Yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sa(e.containerInfo)}catch(w){ct(t,t.return,w)}break;case 4:Dn(e,t),Yn(t);break;case 13:Dn(e,t),Yn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(om=ft())),r&4&&Wv(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(u=Ut)||c,Dn(e,t),Ut=u):Dn(e,t),Yn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ee=t,c=t.child;c!==null;){for(d=ee=c;ee!==null;){switch(f=ee,g=f.child,f.tag){case 0:case 11:case 14:case 15:ca(4,f,f.return);break;case 1:Lo(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){ct(r,n,w)}}break;case 5:Lo(f,f.return);break;case 22:if(f.memoizedState!==null){Kv(d);continue}}g!==null?(g.return=f,ee=g):Kv(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=I_("display",s))}catch(w){ct(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){ct(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Dn(e,t),Yn(t),r&4&&Wv(t);break;case 21:break;default:Dn(e,t),Yn(t)}}function Yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(X1(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_a(i,""),r.flags&=-33);var o=Hv(t);Rh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Hv(t);Ah(t,a,s);break;default:throw Error(z(161))}}catch(l){ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Mk(t,e,n){ee=t,tw(t)}function tw(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var i=ee,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Wl;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ut;a=Wl;var u=Ut;if(Wl=s,(Ut=l)&&!u)for(ee=i;ee!==null;)s=ee,l=s.child,s.tag===22&&s.memoizedState!==null?qv(i):l!==null?(l.return=s,ee=l):qv(i);for(;o!==null;)ee=o,tw(o),o=o.sibling;ee=i,Wl=a,Ut=u}Gv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ee=o):Gv(t)}}function Gv(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||zc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Fn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Nv(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nv(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Sa(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ut||e.flags&512&&Nh(e)}catch(f){ct(e,e.return,f)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function Kv(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function qv(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zc(4,e)}catch(l){ct(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ct(e,i,l)}}var o=e.return;try{Nh(e)}catch(l){ct(e,o,l)}break;case 5:var s=e.return;try{Nh(e)}catch(l){ct(e,s,l)}}}catch(l){ct(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var Lk=Math.ceil,Gu=Rr.ReactCurrentDispatcher,rm=Rr.ReactCurrentOwner,xn=Rr.ReactCurrentBatchConfig,Ne=0,kt=null,yt=null,Ot=0,hn=0,Fo=yi(0),Ct=0,Da=null,Xi=0,Hc=0,im=0,da=null,Jt=null,om=0,is=1/0,hr=null,Ku=!1,Ph=null,ni=null,Gl=!1,Yr=null,qu=0,fa=0,Oh=null,pu=-1,mu=0;function Wt(){return Ne&6?ft():pu!==-1?pu:pu=ft()}function ri(t){return t.mode&1?Ne&2&&Ot!==0?Ot&-Ot:_k.transition!==null?(mu===0&&(mu=U_()),mu):(t=ze,t!==0||(t=window.event,t=t===void 0?16:W_(t.type)),t):1}function zn(t,e,n,r){if(50<fa)throw fa=0,Oh=null,Error(z(185));tl(t,n,r),(!(Ne&2)||t!==kt)&&(t===kt&&(!(Ne&2)&&(Hc|=n),Ct===4&&Wr(t,Ot)),rn(t,r),n===1&&Ne===0&&!(e.mode&1)&&(is=ft()+500,$c&&_i()))}function rn(t,e){var n=t.callbackNode;_I(t,e);var r=Ru(t,t===kt?Ot:0);if(r===0)n!==null&&rv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rv(n),e===1)t.tag===0?yk(Yv.bind(null,t)):c1(Yv.bind(null,t)),pk(function(){!(Ne&6)&&_i()}),n=null;else{switch(V_(r)){case 1:n=Rp;break;case 4:n=L_;break;case 16:n=Au;break;case 536870912:n=F_;break;default:n=Au}n=uw(n,nw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nw(t,e){if(pu=-1,mu=0,Ne&6)throw Error(z(327));var n=t.callbackNode;if(Wo()&&t.callbackNode!==n)return null;var r=Ru(t,t===kt?Ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yu(t,r);else{e=r;var i=Ne;Ne|=2;var o=iw();(kt!==t||Ot!==e)&&(hr=null,is=ft()+500,zi(t,e));do try{Vk();break}catch(a){rw(t,a)}while(1);Hp(),Gu.current=o,Ne=i,yt!==null?e=0:(kt=null,Ot=0,e=Ct)}if(e!==0){if(e===2&&(i=sh(t),i!==0&&(r=i,e=Dh(t,i))),e===1)throw n=Da,zi(t,0),Wr(t,r),rn(t,ft()),n;if(e===6)Wr(t,r);else{if(i=t.current.alternate,!(r&30)&&!Fk(i)&&(e=Yu(t,r),e===2&&(o=sh(t),o!==0&&(r=o,e=Dh(t,o))),e===1))throw n=Da,zi(t,0),Wr(t,r),rn(t,ft()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:xi(t,Jt,hr);break;case 3:if(Wr(t,r),(r&130023424)===r&&(e=om+500-ft(),10<e)){if(Ru(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ph(xi.bind(null,t,Jt,hr),e);break}xi(t,Jt,hr);break;case 4:if(Wr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-jn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Lk(r/1960))-r,10<r){t.timeoutHandle=ph(xi.bind(null,t,Jt,hr),r);break}xi(t,Jt,hr);break;case 5:xi(t,Jt,hr);break;default:throw Error(z(329))}}}return rn(t,ft()),t.callbackNode===n?nw.bind(null,t):null}function Dh(t,e){var n=da;return t.current.memoizedState.isDehydrated&&(zi(t,e).flags|=256),t=Yu(t,e),t!==2&&(e=Jt,Jt=n,e!==null&&Mh(e)),t}function Mh(t){Jt===null?Jt=t:Jt.push.apply(Jt,t)}function Fk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Gn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wr(t,e){for(e&=~im,e&=~Hc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jn(e),r=1<<n;t[n]=-1,e&=~r}}function Yv(t){if(Ne&6)throw Error(z(327));Wo();var e=Ru(t,0);if(!(e&1))return rn(t,ft()),null;var n=Yu(t,e);if(t.tag!==0&&n===2){var r=sh(t);r!==0&&(e=r,n=Dh(t,r))}if(n===1)throw n=Da,zi(t,0),Wr(t,e),rn(t,ft()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xi(t,Jt,hr),rn(t,ft()),null}function sm(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(is=ft()+500,$c&&_i())}}function Zi(t){Yr!==null&&Yr.tag===0&&!(Ne&6)&&Wo();var e=Ne;Ne|=1;var n=xn.transition,r=ze;try{if(xn.transition=null,ze=1,t)return t()}finally{ze=r,xn.transition=n,Ne=e,!(Ne&6)&&_i()}}function am(){hn=Fo.current,nt(Fo)}function zi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hk(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(Bp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lu();break;case 3:ns(),nt(tn),nt(Vt),Qp();break;case 5:Yp(r);break;case 4:ns();break;case 13:nt(st);break;case 19:nt(st);break;case 10:Wp(r.type._context);break;case 22:case 23:am()}n=n.return}if(kt=t,yt=t=ii(t.current,null),Ot=hn=e,Ct=0,Da=null,im=Hc=Xi=0,Jt=da=null,Di!==null){for(e=0;e<Di.length;e++)if(n=Di[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Di=null}return t}function rw(t,e){do{var n=yt;try{if(Hp(),du.current=Wu,Hu){for(var r=lt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hu=!1}if(Ji=0,bt=wt=lt=null,ua=!1,Ra=0,rm.current=null,n===null||n.return===null){Ct=1,Da=e,yt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Ot,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Lv(s);if(g!==null){g.flags&=-257,Fv(g,s,a,o,e),g.mode&1&&Mv(o,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){Mv(o,u,e),lm();break e}l=Error(z(426))}}else if(ot&&a.mode&1){var C=Lv(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Fv(C,s,a,o,e),jp(rs(l,a));break e}}o=l=rs(l,a),Ct!==4&&(Ct=2),da===null?da=[o]:da.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=$1(o,l,e);xv(o,m);break e;case 1:a=l;var p=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ni===null||!ni.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var b=B1(o,a,e);xv(o,b);break e}}o=o.return}while(o!==null)}sw(n)}catch(I){e=I,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(1)}function iw(){var t=Gu.current;return Gu.current=Wu,t===null?Wu:t}function lm(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),kt===null||!(Xi&268435455)&&!(Hc&268435455)||Wr(kt,Ot)}function Yu(t,e){var n=Ne;Ne|=2;var r=iw();(kt!==t||Ot!==e)&&(hr=null,zi(t,e));do try{Uk();break}catch(i){rw(t,i)}while(1);if(Hp(),Ne=n,Gu.current=r,yt!==null)throw Error(z(261));return kt=null,Ot=0,Ct}function Uk(){for(;yt!==null;)ow(yt)}function Vk(){for(;yt!==null&&!cI();)ow(yt)}function ow(t){var e=lw(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?sw(t):yt=e,rm.current=null}function sw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Pk(n,e),n!==null){n.flags&=32767,yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ct=6,yt=null;return}}else if(n=Rk(n,e,hn),n!==null){yt=n;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);Ct===0&&(Ct=5)}function xi(t,e,n){var r=ze,i=xn.transition;try{xn.transition=null,ze=1,$k(t,e,n,r)}finally{xn.transition=i,ze=r}return null}function $k(t,e,n,r){do Wo();while(Yr!==null);if(Ne&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(wI(t,o),t===kt&&(yt=kt=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gl||(Gl=!0,uw(Au,function(){return Wo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=xn.transition,xn.transition=null;var s=ze;ze=1;var a=Ne;Ne|=4,rm.current=null,Dk(t,n),ew(n,t),sk(fh),Pu=!!dh,fh=dh=null,t.current=n,Mk(n),dI(),Ne=a,ze=s,xn.transition=o}else t.current=n;if(Gl&&(Gl=!1,Yr=t,qu=i),o=t.pendingLanes,o===0&&(ni=null),pI(n.stateNode),rn(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,t=Ph,Ph=null,t;return qu&1&&t.tag!==0&&Wo(),o=t.pendingLanes,o&1?t===Oh?fa++:(fa=0,Oh=t):fa=0,_i(),null}function Wo(){if(Yr!==null){var t=V_(qu),e=xn.transition,n=ze;try{if(xn.transition=null,ze=16>t?16:t,Yr===null)var r=!1;else{if(t=Yr,Yr=null,qu=0,Ne&6)throw Error(z(331));var i=Ne;for(Ne|=4,ee=t.current;ee!==null;){var o=ee,s=o.child;if(ee.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ee=u;ee!==null;){var c=ee;switch(c.tag){case 0:case 11:case 15:ca(8,c,o)}var d=c.child;if(d!==null)d.return=c,ee=d;else for(;ee!==null;){c=ee;var f=c.sibling,g=c.return;if(J1(c),c===u){ee=null;break}if(f!==null){f.return=g,ee=f;break}ee=g}}}var v=o.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}ee=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ee=s;else e:for(;ee!==null;){if(o=ee,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ca(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,ee=m;break e}ee=o.return}}var p=t.current;for(ee=p;ee!==null;){s=ee;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,ee=_;else e:for(s=p;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zc(9,a)}}catch(I){ct(a,a.return,I)}if(a===s){ee=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,ee=b;break e}ee=a.return}}if(Ne=i,_i(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(Mc,t)}catch{}r=!0}return r}finally{ze=n,xn.transition=e}}return!1}function Qv(t,e,n){e=rs(n,e),e=$1(t,e,1),t=ti(t,e,1),e=Wt(),t!==null&&(tl(t,1,e),rn(t,e))}function ct(t,e,n){if(t.tag===3)Qv(t,t,n);else for(;e!==null;){if(e.tag===3){Qv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r))){t=rs(n,t),t=B1(e,t,1),e=ti(e,t,1),t=Wt(),e!==null&&(tl(e,1,t),rn(e,t));break}}e=e.return}}function Bk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wt(),t.pingedLanes|=t.suspendedLanes&n,kt===t&&(Ot&n)===n&&(Ct===4||Ct===3&&(Ot&130023424)===Ot&&500>ft()-om?zi(t,0):im|=n),rn(t,e)}function aw(t,e){e===0&&(t.mode&1?(e=Ll,Ll<<=1,!(Ll&130023424)&&(Ll=4194304)):e=1);var n=Wt();t=Tr(t,e),t!==null&&(tl(t,e,n),rn(t,n))}function jk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aw(t,n)}function zk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),aw(t,n)}var lw;lw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tn.current)Zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zt=!1,Ak(t,e,n);Zt=!!(t.flags&131072)}else Zt=!1,ot&&e.flags&1048576&&d1(e,Vu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hu(t,e),t=e.pendingProps;var i=Zo(e,Vt.current);Ho(e,n),i=Xp(null,e,r,t,i,n);var o=Zp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nn(r)?(o=!0,Fu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Kp(e),i.updater=Bc,e.stateNode=i,i._reactInternals=e,Eh(e,r,t,n),e=bh(null,e,r,!0,o,n)):(e.tag=0,ot&&o&&$p(e),zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Wk(r),t=Fn(r,t),i){case 0:e=Sh(null,e,r,t,n);break e;case 1:e=$v(null,e,r,t,n);break e;case 11:e=Uv(null,e,r,t,n);break e;case 14:e=Vv(null,e,r,Fn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),Sh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),$v(t,e,r,i,n);case 3:e:{if(W1(e),t===null)throw Error(z(387));r=e.pendingProps,o=e.memoizedState,i=o.element,m1(t,e),ju(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=rs(Error(z(423)),e),e=Bv(t,e,r,n,i);break e}else if(r!==i){i=rs(Error(z(424)),e),e=Bv(t,e,r,n,i);break e}else for(pn=ei(e.stateNode.containerInfo.firstChild),mn=e,ot=!0,Vn=null,n=_1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(es(),r===i){e=xr(t,e,n);break e}zt(t,e,r,n)}e=e.child}return e;case 5:return w1(e),t===null&&yh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,hh(r,i)?s=null:o!==null&&hh(r,o)&&(e.flags|=32),H1(t,e),zt(t,e,s,n),e.child;case 6:return t===null&&yh(e),null;case 13:return G1(t,e,n);case 4:return qp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ts(e,null,r,n):zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),Uv(t,e,r,i,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Qe($u,r._currentValue),r._currentValue=s,o!==null)if(Gn(o.value,s)){if(o.children===i.children&&!tn.current){e=xr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Sr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),_h(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(z(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),_h(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ho(e,n),i=An(i),r=r(i),e.flags|=1,zt(t,e,r,n),e.child;case 14:return r=e.type,i=Fn(r,e.pendingProps),i=Fn(r.type,i),Vv(t,e,r,i,n);case 15:return j1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),hu(t,e),e.tag=1,nn(r)?(t=!0,Fu(e)):t=!1,Ho(e,n),v1(e,r,i),Eh(e,r,i,n),bh(null,e,r,!0,t,n);case 19:return K1(t,e,n);case 22:return z1(t,e,n)}throw Error(z(156,e.tag))};function uw(t,e){return M_(t,e)}function Hk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,e,n,r){return new Hk(t,e,n,r)}function um(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wk(t){if(typeof t=="function")return um(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xp)return 11;if(t===Np)return 14}return 2}function ii(t,e){var n=t.alternate;return n===null?(n=kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gu(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")um(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case To:return Hi(n.children,i,o,e);case Tp:s=8,i|=8;break;case Wf:return t=kn(12,n,e,i|2),t.elementType=Wf,t.lanes=o,t;case Gf:return t=kn(13,n,e,i),t.elementType=Gf,t.lanes=o,t;case Kf:return t=kn(19,n,e,i),t.elementType=Kf,t.lanes=o,t;case y_:return Wc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case g_:s=10;break e;case v_:s=9;break e;case xp:s=11;break e;case Np:s=14;break e;case Br:s=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=kn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Hi(t,e,n,r){return t=kn(7,t,r,e),t.lanes=n,t}function Wc(t,e,n,r){return t=kn(22,t,r,e),t.elementType=y_,t.lanes=n,t.stateNode={isHidden:!1},t}function uf(t,e,n){return t=kn(6,t,null,e),t.lanes=n,t}function cf(t,e,n){return e=kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zd(0),this.expirationTimes=zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cm(t,e,n,r,i,o,s,a,l){return t=new Gk(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=kn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kp(o),t}function Kk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ko,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cw(t){if(!t)return fi;t=t._reactInternals;e:{if(uo(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(nn(n))return u1(t,n,e)}return e}function dw(t,e,n,r,i,o,s,a,l){return t=cm(n,r,!0,t,i,o,s,a,l),t.context=cw(null),n=t.current,r=Wt(),i=ri(n),o=Sr(r,i),o.callback=e??null,ti(n,o,i),t.current.lanes=i,tl(t,i,r),rn(t,r),t}function Gc(t,e,n,r){var i=e.current,o=Wt(),s=ri(i);return n=cw(n),e.context===null?e.context=n:e.pendingContext=n,e=Sr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ti(i,e,s),t!==null&&(zn(t,i,s,o),cu(t,i,s)),s}function Qu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dm(t,e){Jv(t,e),(t=t.alternate)&&Jv(t,e)}function qk(){return null}var fw=typeof reportError=="function"?reportError:function(t){console.error(t)};function fm(t){this._internalRoot=t}Kc.prototype.render=fm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Gc(t,e,null,null)};Kc.prototype.unmount=fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zi(function(){Gc(null,t,null,null)}),e[kr]=null}};function Kc(t){this._internalRoot=t}Kc.prototype.unstable_scheduleHydration=function(t){if(t){var e=j_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hr.length&&e!==0&&e<Hr[n].priority;n++);Hr.splice(n,0,t),n===0&&H_(t)}};function hm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xv(){}function Yk(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Qu(s);o.call(u)}}var s=dw(e,r,t,0,null,!1,!1,"",Xv);return t._reactRootContainer=s,t[kr]=s.current,ka(t.nodeType===8?t.parentNode:t),Zi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Qu(l);a.call(u)}}var l=cm(t,0,!1,null,null,!1,!1,"",Xv);return t._reactRootContainer=l,t[kr]=l.current,ka(t.nodeType===8?t.parentNode:t),Zi(function(){Gc(e,l,n,r)}),l}function Yc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Qu(s);a.call(l)}}Gc(e,s,t,i)}else s=Yk(n,e,t,i,r);return Qu(s)}$_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xs(e.pendingLanes);n!==0&&(Pp(e,n|1),rn(e,ft()),!(Ne&6)&&(is=ft()+500,_i()))}break;case 13:Zi(function(){var r=Tr(t,1);if(r!==null){var i=Wt();zn(r,t,1,i)}}),dm(t,1)}};Op=function(t){if(t.tag===13){var e=Tr(t,134217728);if(e!==null){var n=Wt();zn(e,t,134217728,n)}dm(t,134217728)}};B_=function(t){if(t.tag===13){var e=ri(t),n=Tr(t,e);if(n!==null){var r=Wt();zn(n,t,e,r)}dm(t,e)}};j_=function(){return ze};z_=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};rh=function(t,e,n){switch(e){case"input":if(Qf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Vc(r);if(!i)throw Error(z(90));w_(r),Qf(r,i)}}}break;case"textarea":C_(t,n);break;case"select":e=n.value,e!=null&&$o(t,!!n.multiple,e,!1)}};N_=sm;A_=Zi;var Qk={usingClientEntryPoint:!1,Events:[rl,Ro,Vc,T_,x_,sm]},js={findFiberByHostInstance:Oi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Jk={bundleType:js.bundleType,version:js.version,rendererPackageName:js.rendererPackageName,rendererConfig:js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=O_(t),t===null?null:t.stateNode},findFiberByHostInstance:js.findFiberByHostInstance||qk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{Mc=Kl.inject(Jk),rr=Kl}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qk;yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hm(e))throw Error(z(200));return Kk(t,e,null,n)};yn.createRoot=function(t,e){if(!hm(t))throw Error(z(299));var n=!1,r="",i=fw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cm(t,1,!1,null,null,n,!1,r,i),t[kr]=e.current,ka(t.nodeType===8?t.parentNode:t),new fm(e)};yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=O_(e),t=t===null?null:t.stateNode,t};yn.flushSync=function(t){return Zi(t)};yn.hydrate=function(t,e,n){if(!qc(e))throw Error(z(200));return Yc(null,t,e,!0,n)};yn.hydrateRoot=function(t,e,n){if(!hm(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=fw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=dw(e,null,t,1,n??null,i,!1,o,s),t[kr]=e.current,ka(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Kc(e)};yn.render=function(t,e,n){if(!qc(e))throw Error(z(200));return Yc(null,t,e,!1,n)};yn.unmountComponentAtNode=function(t){if(!qc(t))throw Error(z(40));return t._reactRootContainer?(Zi(function(){Yc(null,null,t,!1,function(){t._reactRootContainer=null,t[kr]=null})}),!0):!1};yn.unstable_batchedUpdates=sm;yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qc(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Yc(t,e,n,!1,r)};yn.version="18.2.0-next-9e3b772b8-20220608";function hw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hw)}catch(t){console.error(t)}}hw(),d_.exports=yn;var pm=d_.exports;const Uo=Za(pm);var Zv=pm;zf.createRoot=Zv.createRoot,zf.hydrateRoot=Zv.hydrateRoot;/**
 * @remix-run/router v1.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ma(){return Ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ma.apply(this,arguments)}var Qr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qr||(Qr={}));const ey="popstate";function Xk(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Lh("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ju(i)}return eT(e,n,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Zk(){return Math.random().toString(36).substr(2,8)}function ty(t,e){return{usr:t.state,key:t.key,idx:e}}function Lh(t,e,n,r){return n===void 0&&(n=null),Ma({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_s(e):e,{state:n,key:e&&e.key||r||Zk()})}function Ju(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _s(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eT(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Qr.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Ma({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=Qr.Pop;let C=c(),m=C==null?null:C-u;u=C,l&&l({action:a,location:w.location,delta:m})}function f(C,m){a=Qr.Push;let p=Lh(w.location,C,m);n&&n(p,C),u=c()+1;let _=ty(p,u),b=w.createHref(p);try{s.pushState(_,"",b)}catch{i.location.assign(b)}o&&l&&l({action:a,location:w.location,delta:1})}function g(C,m){a=Qr.Replace;let p=Lh(w.location,C,m);n&&n(p,C),u=c();let _=ty(p,u),b=w.createHref(p);s.replaceState(_,"",b),o&&l&&l({action:a,location:w.location,delta:0})}function v(C){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof C=="string"?C:Ju(C);return mt(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let w={get action(){return a},get location(){return t(i,s)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ey,d),l=C,()=>{i.removeEventListener(ey,d),l=null}},createHref(C){return e(i,C)},createURL:v,encodeLocation(C){let m=v(C);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:g,go(C){return s.go(C)}};return w}var ny;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ny||(ny={}));function tT(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?_s(e):e,i=gm(r.pathname||"/",n);if(i==null)return null;let o=pw(t);nT(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=dT(o[a],pT(i));return s}function pw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(mt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=oi([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(mt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),pw(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:uT(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of mw(o.path))i(o,s,l)}),e}function mw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=mw(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function nT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rT=/^:\w+$/,iT=3,oT=2,sT=1,aT=10,lT=-2,ry=t=>t==="*";function uT(t,e){let n=t.split("/"),r=n.length;return n.some(ry)&&(r+=lT),e&&(r+=oT),n.filter(i=>!ry(i)).reduce((i,o)=>i+(rT.test(o)?iT:o===""?sT:aT),r)}function cT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dT(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=fT({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;o.push({params:r,pathname:oi([i,c.pathname]),pathnameBase:yT(oi([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=oi([i,c.pathnameBase]))}return o}function fT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hT(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=mT(a[d]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:t}}function hT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),mm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pT(t){try{return decodeURI(t)}catch(e){return mm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mT(t,e){try{return decodeURIComponent(t)}catch(n){return mm(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function gm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?_s(t):t;return{pathname:n?n.startsWith("/")?n:vT(n,e):e,search:_T(r),hash:wT(i)}}function vT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function df(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vm(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ym(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=_s(t):(i=Ma({},t),mt(!i.pathname||!i.pathname.includes("?"),df("?","pathname","search",i)),mt(!i.pathname||!i.pathname.includes("#"),df("#","pathname","hash",i)),mt(!i.search||!i.search.includes("#"),df("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let d=e.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=gT(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const oi=t=>t.join("/").replace(/\/\/+/g,"/"),yT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_T=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ET(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gw=["post","put","patch","delete"];new Set(gw);const CT=["get",...gw];new Set(CT);/**
 * React Router v6.11.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xu.apply(this,arguments)}const vw=h.createContext(null),yw=h.createContext(null),co=h.createContext(null),Qc=h.createContext(null),Pr=h.createContext({outlet:null,matches:[],isDataRoute:!1}),_w=h.createContext(null);function ST(t,e){let{relative:n}=e===void 0?{}:e;ws()||mt(!1);let{basename:r,navigator:i}=h.useContext(co),{hash:o,pathname:s,search:a}=_m(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:oi([r,s])),i.createHref({pathname:l,search:a,hash:o})}function ws(){return h.useContext(Qc)!=null}function fo(){return ws()||mt(!1),h.useContext(Qc).location}function ww(t){h.useContext(co).static||h.useLayoutEffect(t)}function Kn(){let{isDataRoute:t}=h.useContext(Pr);return t?FT():bT()}function bT(){ws()||mt(!1);let{basename:t,navigator:e}=h.useContext(co),{matches:n}=h.useContext(Pr),{pathname:r}=fo(),i=JSON.stringify(vm(n).map(a=>a.pathnameBase)),o=h.useRef(!1);return ww(()=>{o.current=!0}),h.useCallback(function(a,l){if(l===void 0&&(l={}),!o.current)return;if(typeof a=="number"){e.go(a);return}let u=ym(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:oi([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function IT(){let{matches:t}=h.useContext(Pr),e=t[t.length-1];return e?e.params:{}}function _m(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=h.useContext(Pr),{pathname:i}=fo(),o=JSON.stringify(vm(r).map(s=>s.pathnameBase));return h.useMemo(()=>ym(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function kT(t,e){return TT(t,e)}function TT(t,e,n){ws()||mt(!1);let{navigator:r}=h.useContext(co),{matches:i}=h.useContext(Pr),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=fo(),u;if(e){var c;let w=typeof e=="string"?_s(e):e;a==="/"||(c=w.pathname)!=null&&c.startsWith(a)||mt(!1),u=w}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",g=tT(t,{pathname:f}),v=PT(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},s,w.params),pathname:oi([a,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:oi([a,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n);return e&&v?h.createElement(Qc.Provider,{value:{location:Xu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Qr.Pop}},v):v}function xT(){let t=LT(),e=ET(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),n?h.createElement("pre",{style:i},n):null,o)}const NT=h.createElement(xT,null);class AT extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?h.createElement(Pr.Provider,{value:this.props.routeContext},h.createElement(_w.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RT(t){let{routeContext:e,match:n,children:r}=t,i=h.useContext(vw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Pr.Provider,{value:e},r)}function PT(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||mt(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,u)=>{let c=l.route.id?s==null?void 0:s[l.route.id]:null,d=null;n&&(d=l.route.errorElement||NT);let f=e.concat(o.slice(0,u+1)),g=()=>{let v;return c?v=d:l.route.Component?v=h.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=a,h.createElement(RT,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:v})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?h.createElement(AT,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var Fh;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Fh||(Fh={}));var La;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(La||(La={}));function OT(t){let e=h.useContext(vw);return e||mt(!1),e}function DT(t){let e=h.useContext(yw);return e||mt(!1),e}function MT(t){let e=h.useContext(Pr);return e||mt(!1),e}function Ew(t){let e=MT(),n=e.matches[e.matches.length-1];return n.route.id||mt(!1),n.route.id}function LT(){var t;let e=h.useContext(_w),n=DT(La.UseRouteError),r=Ew(La.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function FT(){let{router:t}=OT(Fh.UseNavigateStable),e=Ew(La.UseNavigateStable),n=h.useRef(!1);return ww(()=>{n.current=!0}),h.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Xu({fromRouteId:e},o)))},[t,e])}function UT(t){let{to:e,replace:n,state:r,relative:i}=t;ws()||mt(!1);let{matches:o}=h.useContext(Pr),{pathname:s}=fo(),a=Kn(),l=ym(e,vm(o).map(c=>c.pathnameBase),s,i==="path"),u=JSON.stringify(l);return h.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:i}),[a,u,i,n,r]),null}function qt(t){mt(!1)}function VT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qr.Pop,navigator:o,static:s=!1}=t;ws()&&mt(!1);let a=e.replace(/^\/*/,"/"),l=h.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=_s(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:g="default"}=r,v=h.useMemo(()=>{let w=gm(u,a);return w==null?null:{location:{pathname:w,search:c,hash:d,state:f,key:g},navigationType:i}},[a,u,c,d,f,g,i]);return v==null?null:h.createElement(co.Provider,{value:l},h.createElement(Qc.Provider,{children:n,value:v}))}function $T(t){let{children:e,location:n}=t;return kT(Uh(e),n)}var iy;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(iy||(iy={}));new Promise(()=>{});function Uh(t,e){e===void 0&&(e=[]);let n=[];return h.Children.forEach(t,(r,i)=>{if(!h.isValidElement(r))return;let o=[...e,i];if(r.type===h.Fragment){n.push.apply(n,Uh(r.props.children,o));return}r.type!==qt&&mt(!1),!r.props.index||!r.props.children||mt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Uh(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.11.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zu.apply(this,arguments)}function Cw(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function BT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jT(t,e){return t.button===0&&(!e||e==="_self")&&!BT(t)}const zT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],HT=["aria-current","caseSensitive","className","end","style","to","children"];function WT(t){let{basename:e,children:n,window:r}=t,i=h.useRef();i.current==null&&(i.current=Xk({window:r,v5Compat:!0}));let o=i.current,[s,a]=h.useState({action:o.action,location:o.location});return h.useLayoutEffect(()=>o.listen(a),[o]),h.createElement(VT,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o})}const GT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hn=h.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c}=e,d=Cw(e,zT),{basename:f}=h.useContext(co),g,v=!1;if(typeof u=="string"&&KT.test(u)&&(g=u,GT))try{let p=new URL(window.location.href),_=u.startsWith("//")?new URL(p.protocol+u):new URL(u),b=gm(_.pathname,f);_.origin===p.origin&&b!=null?u=b+_.search+_.hash:v=!0}catch{}let w=ST(u,{relative:i}),C=qT(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i});function m(p){r&&r(p),p.defaultPrevented||C(p)}return h.createElement("a",Zu({},d,{href:g||w,onClick:v||o?r:m,ref:n,target:l}))}),er=h.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:l,children:u}=e,c=Cw(e,HT),d=_m(l,{relative:c.relative}),f=fo(),g=h.useContext(yw),{navigator:v}=h.useContext(co),w=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,C=f.pathname,m=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(C=C.toLowerCase(),m=m?m.toLowerCase():null,w=w.toLowerCase());let p=C===w||!s&&C.startsWith(w)&&C.charAt(w.length)==="/",_=m!=null&&(m===w||!s&&m.startsWith(w)&&m.charAt(w.length)==="/"),b=p?r:void 0,I;typeof o=="function"?I=o({isActive:p,isPending:_}):I=[o,p?"active":null,_?"pending":null].filter(Boolean).join(" ");let k=typeof a=="function"?a({isActive:p,isPending:_}):a;return h.createElement(Hn,Zu({},c,{"aria-current":b,className:I,ref:n,style:k,to:l}),typeof u=="function"?u({isActive:p,isPending:_}):u)});var oy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(oy||(oy={}));var sy;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sy||(sy={}));function qT(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=e===void 0?{}:e,a=Kn(),l=fo(),u=_m(t,{relative:s});return h.useCallback(c=>{if(jT(c,n)){c.preventDefault();let d=r!==void 0?r:Ju(l)===Ju(u);a(t,{replace:d,state:i,preventScrollReset:o,relative:s})}},[l,a,u,r,i,n,t,o,s])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(t,e){if(!t)throw Es(e)},Es=function(t){return new Error("Firebase Database ("+Sw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},YT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},wm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,g=u&63;l||(g=64,s||(f=64)),r.push(n[c],n[d],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new QT;const f=o<<2|a>>4;if(r.push(f),u!==64){const g=a<<4&240|u>>2;if(r.push(g),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Iw=function(t){const e=bw(t);return wm.encodeByteArray(e,!0)},ec=function(t){return Iw(t).replace(/\./g,"")},tc=function(t){try{return wm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t){return kw(void 0,t)}function kw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!XT(n)||(t[n]=kw(t[n],e[n]));return t}function XT(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=()=>ZT().__FIREBASE_DEFAULTS__,tx=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tc(t[1]);return e&&JSON.parse(e)},Em=()=>{try{return ex()||tx()||nx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Tw=t=>{var e,n;return(n=(e=Em())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rx=t=>{const e=Tw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xw=()=>{var t;return(t=Em())===null||t===void 0?void 0:t.config},Nw=t=>{var e;return(e=Em())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ec(JSON.stringify(n)),ec(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function ox(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Aw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sx(){const t=$t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Rw(){return Sw.NODE_ADMIN===!0}function ax(){try{return typeof indexedDB=="object"}catch{return!1}}function lx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="FirebaseError";class wi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ux,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ol.prototype.create)}}class ol{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?cx(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new wi(i,a,r)}}function cx(t,e){return t.replace(dx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const dx=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t){return JSON.parse(t)}function Et(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=Fa(tc(o[0])||""),n=Fa(tc(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},fx=function(t){const e=Pw(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},hx=function(t){const e=Pw(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function os(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function nc(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rc(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ic(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(ay(o)&&ay(s)){if(!ic(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ay(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ea(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ta(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^o&(s^a),c=1518500249):(u=o^s^a,c=1859775393):d<60?(u=o&s|a&(o|s),c=2400959708):(u=o^s^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function mx(t,e){const n=new gx(t,e);return n.subscribe.bind(n)}class gx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ff),i.error===void 0&&(i.error=ff),i.complete===void 0&&(i.complete=ff);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ff(){}function ss(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,G(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Jc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ex(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wx(t){return t===Ni?void 0:t}function Ex(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _x(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const Sx={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},bx=Ge.INFO,Ix={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},kx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Ix[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sm{constructor(e){this.name=e,this._logLevel=bx,this._logHandler=kx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const Tx=(t,e)=>e.some(n=>t instanceof n);let ly,uy;function xx(){return ly||(ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nx(){return uy||(uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ow=new WeakMap,Vh=new WeakMap,Dw=new WeakMap,hf=new WeakMap,bm=new WeakMap;function Ax(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(si(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Ow.set(n,t)}).catch(()=>{}),bm.set(e,t),e}function Rx(t){if(Vh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Vh.set(t,e)}let $h={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Dw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Px(t){$h=t($h)}function Ox(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pf(this),e,...n);return Dw.set(r,e.sort?e.sort():[e]),si(r)}:Nx().includes(t)?function(...e){return t.apply(pf(this),e),si(Ow.get(this))}:function(...e){return si(t.apply(pf(this),e))}}function Dx(t){return typeof t=="function"?Ox(t):(t instanceof IDBTransaction&&Rx(t),Tx(t,xx())?new Proxy(t,$h):t)}function si(t){if(t instanceof IDBRequest)return Ax(t);if(hf.has(t))return hf.get(t);const e=Dx(t);return e!==t&&(hf.set(t,e),bm.set(e,t)),e}const pf=t=>bm.get(t);function Mx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=si(s);return r&&s.addEventListener("upgradeneeded",l=>{r(si(s.result),l.oldVersion,l.newVersion,si(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Lx=["get","getKey","getAll","getAllKeys","count"],Fx=["put","add","delete","clear"],mf=new Map;function cy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mf.get(e))return mf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Fx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Lx.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return mf.set(e,o),o}Px(t=>({...t,get:(e,n,r)=>cy(e,n)||t.get(e,n,r),has:(e,n)=>!!cy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Vx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Vx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bh="@firebase/app",dy="0.9.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new Sm("@firebase/app"),$x="@firebase/app-compat",Bx="@firebase/analytics-compat",jx="@firebase/analytics",zx="@firebase/app-check-compat",Hx="@firebase/app-check",Wx="@firebase/auth",Gx="@firebase/auth-compat",Kx="@firebase/database",qx="@firebase/database-compat",Yx="@firebase/functions",Qx="@firebase/functions-compat",Jx="@firebase/installations",Xx="@firebase/installations-compat",Zx="@firebase/messaging",eN="@firebase/messaging-compat",tN="@firebase/performance",nN="@firebase/performance-compat",rN="@firebase/remote-config",iN="@firebase/remote-config-compat",oN="@firebase/storage",sN="@firebase/storage-compat",aN="@firebase/firestore",lN="@firebase/firestore-compat",uN="firebase",cN="10.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="[DEFAULT]",dN={[Bh]:"fire-core",[$x]:"fire-core-compat",[jx]:"fire-analytics",[Bx]:"fire-analytics-compat",[Hx]:"fire-app-check",[zx]:"fire-app-check-compat",[Wx]:"fire-auth",[Gx]:"fire-auth-compat",[Kx]:"fire-rtdb",[qx]:"fire-rtdb-compat",[Yx]:"fire-fn",[Qx]:"fire-fn-compat",[Jx]:"fire-iid",[Xx]:"fire-iid-compat",[Zx]:"fire-fcm",[eN]:"fire-fcm-compat",[tN]:"fire-perf",[nN]:"fire-perf-compat",[rN]:"fire-rc",[iN]:"fire-rc-compat",[oN]:"fire-gcs",[sN]:"fire-gcs-compat",[aN]:"fire-fst",[lN]:"fire-fst-compat","fire-js":"fire-js",[uN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,zh=new Map;function fN(t,e){try{t.container.addComponent(e)}catch(n){to.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function as(t){const e=t.name;if(zh.has(e))return to.debug(`There were multiple attempts to register component ${e}.`),!1;zh.set(e,t);for(const n of oc.values())fN(n,t);return!0}function Im(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ai=new ol("app","Firebase",hN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=cN;function Mw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ai.create("bad-app-name",{appName:String(i)});if(n||(n=xw()),!n)throw ai.create("no-options");const o=oc.get(i);if(o){if(ic(n,o.options)&&ic(r,o.config))return o;throw ai.create("duplicate-app",{appName:i})}const s=new Cx(i);for(const l of zh.values())s.addComponent(l);const a=new pN(n,r,s);return oc.set(i,a),a}function Lw(t=jh){const e=oc.get(t);if(!e&&t===jh&&xw())return Mw();if(!e)throw ai.create("no-app",{appName:t});return e}function li(t,e,n){var r;let i=(r=dN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),to.warn(a.join(" "));return}as(new eo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="firebase-heartbeat-database",gN=1,Ua="firebase-heartbeat-store";let gf=null;function Fw(){return gf||(gf=Mx(mN,gN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ua)}}}).catch(t=>{throw ai.create("idb-open",{originalErrorMessage:t.message})})),gf}async function vN(t){try{return await(await Fw()).transaction(Ua).objectStore(Ua).get(Uw(t))}catch(e){if(e instanceof wi)to.warn(e.message);else{const n=ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});to.warn(n.message)}}}async function fy(t,e){try{const r=(await Fw()).transaction(Ua,"readwrite");await r.objectStore(Ua).put(e,Uw(t)),await r.done}catch(n){if(n instanceof wi)to.warn(n.message);else{const r=ai.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});to.warn(r.message)}}}function Uw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=1024,_N=30*24*60*60*1e3;class wN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=hy();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=_N}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=hy(),{heartbeatsToSend:n,unsentEntries:r}=EN(this._heartbeatsCache.heartbeats),i=ec(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function hy(){return new Date().toISOString().substring(0,10)}function EN(t,e=yN){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),py(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),py(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ax()?lx().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await vN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function py(t){return ec(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t){as(new eo("platform-logger",e=>new Ux(e),"PRIVATE")),as(new eo("heartbeat",e=>new wN(e),"PRIVATE")),li(Bh,dy,t),li(Bh,dy,"esm2017"),li("fire-js","")}SN("");var bN="firebase",IN="10.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li(bN,IN,"app");function km(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Vw(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kN=Vw,$w=new ol("auth","Firebase",Vw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new Sm("@firebase/auth");function TN(t,...e){sc.logLevel<=Ge.WARN&&sc.warn(`Auth (${Ss}): ${t}`,...e)}function vu(t,...e){sc.logLevel<=Ge.ERROR&&sc.error(`Auth (${Ss}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t,...e){throw Tm(t,...e)}function or(t,...e){return Tm(t,...e)}function Bw(t,e,n){const r=Object.assign(Object.assign({},kN()),{[e]:n});return new ol("auth","Firebase",r).create(e,{appName:t.name})}function xN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Pn(t,"argument-error"),Bw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $w.create(t,...e)}function he(t,e,...n){if(!t)throw Tm(e,...n)}function wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vu(e),new Error(e)}function Nr(t,e){t||wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function NN(){return my()==="http:"||my()==="https:"}function my(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NN()||ox()||"connection"in navigator)?navigator.onLine:!0}function RN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Nr(n>e,"Short delay should be less than long delay!"),this.isMobile=Cm()||Aw()}get(){return AN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t,e){Nr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new sl(3e4,6e4);function ho(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function po(t,e,n,r,i={}){return zw(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Cs(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),jw.fetch()(Hw(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function zw(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},PN),e);try{const i=new DN(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw ql(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ql(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw ql(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw ql(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Bw(t,c,u);Pn(t,c)}}catch(i){if(i instanceof wi)throw i;Pn(t,"network-request-failed",{message:String(i)})}}async function al(t,e,n,r,i={}){const o=await po(t,e,n,r,i);return"mfaPendingCredential"in o&&Pn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Hw(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?xm(t.config,i):`${t.config.apiScheme}://${i}`}class DN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(or(this.auth,"network-request-failed")),ON.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ql(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=or(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(t,e){return po(t,"POST","/v1/accounts:delete",e)}async function LN(t,e){return po(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FN(t,e=!1){const n=jt(t),r=await n.getIdToken(e),i=Nm(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ha(vf(i.auth_time)),issuedAtTime:ha(vf(i.iat)),expirationTime:ha(vf(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function vf(t){return Number(t)*1e3}function Nm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vu("JWT malformed, contained fewer than 3 sections"),null;try{const i=tc(n);return i?JSON.parse(i):(vu("Failed to decode base64 JWT payload"),null)}catch(i){return vu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function UN(t){const e=Nm(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wi&&VN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function VN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ha(this.lastLoginAt),this.creationTime=ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Va(t,LN(n,{idToken:r}));he(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?zN(o.providerUserInfo):[],a=jN(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ww(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function BN(t){const e=jt(t);await ac(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function zN(t){return t.map(e=>{var{providerId:n}=e,r=km(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(t,e){const n=await zw(t,{},async()=>{const r=Cs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Hw(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",jw.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return he(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await HN(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new $a;return r&&(he(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(he(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=km(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $N(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ww(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Va(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FN(this,e)}reload(){return BN(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ac(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Va(this,MN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:b,isAnonymous:I,providerData:k,stsTokenManager:T}=n;he(_&&T,e,"internal-error");const D=$a.fromJSON(this.name,T);he(typeof _=="string",e,"internal-error"),$r(d,e.name),$r(f,e.name),he(typeof b=="boolean",e,"internal-error"),he(typeof I=="boolean",e,"internal-error"),$r(g,e.name),$r(v,e.name),$r(w,e.name),$r(C,e.name),$r(m,e.name),$r(p,e.name);const Y=new Wi({uid:_,auth:e,email:f,emailVerified:b,displayName:d,isAnonymous:I,photoURL:v,phoneNumber:g,tenantId:w,stsTokenManager:D,createdAt:m,lastLoginAt:p});return k&&Array.isArray(k)&&(Y.providerData=k.map(H=>Object.assign({},H))),C&&(Y._redirectEventId=C),Y}static async _fromIdTokenResponse(e,n,r=!1){const i=new $a;i.updateFromServerResponse(n);const o=new Wi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ac(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=new Map;function Er(t){Nr(t instanceof Function,"Expected a class definition");let e=gy.get(t);return e?(Nr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Gw.type="NONE";const vy=Gw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t,e,n){return`firebase:${t}:${e}:${n}`}class Go{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=yu(this.userKey,i.apiKey,o),this.fullPersistenceKey=yu("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Go(Er(vy),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Er(vy);const s=yu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=Wi._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Go(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Go(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jw(e))return"Blackberry";if(Xw(e))return"Webos";if(Am(e))return"Safari";if((e.includes("chrome/")||qw(e))&&!e.includes("edge/"))return"Chrome";if(Qw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Kw(t=$t()){return/firefox\//i.test(t)}function Am(t=$t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qw(t=$t()){return/crios\//i.test(t)}function Yw(t=$t()){return/iemobile/i.test(t)}function Qw(t=$t()){return/android/i.test(t)}function Jw(t=$t()){return/blackberry/i.test(t)}function Xw(t=$t()){return/webos/i.test(t)}function Xc(t=$t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WN(t=$t()){var e;return Xc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GN(){return sx()&&document.documentMode===10}function Zw(t=$t()){return Xc(t)||Qw(t)||Xw(t)||Jw(t)||/windows phone/i.test(t)||Yw(t)}function KN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t,e=[]){let n;switch(t){case"Browser":n=yy($t());break;case"Worker":n=`${yy($t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ss}/${r}`}async function tE(t,e){return po(t,"GET","/v2/recaptchaConfig",ho(t,e))}function _y(t){return t!==void 0&&t.enterprise!==void 0}class nE{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function rE(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=or("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",qN().appendChild(r)})}function YN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const QN="https://www.google.com/recaptcha/enterprise.js?render=",JN="recaptcha-enterprise",XN="NO_RECAPTCHA";class iE{constructor(e){this.type=JN,this.auth=Ei(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{tE(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new nE(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;_y(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(XN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&_y(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}rE(QN+a).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}async function ls(t,e,n,r=!1){const i=new iE(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wy(this),this.idTokenSubscription=new wy(this),this.beforeStateQueue=new ZN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$w,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Er(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ac(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?jt(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}async initializeRecaptchaConfig(){const e=await tE(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new nE(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new iE(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ol("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Er(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[Er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return he(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&TN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ei(t){return jt(t)}class wy{constructor(e){this.auth=e,this.observer=null,this.addObserver=mx(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t,e){const n=Im(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ic(o,e??{}))return i;Pn(i,"already-initialized")}return n.initialize({options:e})}function nA(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Er);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rA(t,e,n){const r=Ei(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=oE(e),{host:s,port:a}=iA(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||oA()}function oE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iA(t){const e=oE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Ey(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Ey(s)}}}function Ey(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,n){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}async function sA(t,e){return po(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yf(t,e){return al(t,"POST","/v1/accounts:signInWithPassword",ho(t,e))}async function sE(t,e){return po(t,"POST","/v1/accounts:sendOobCode",ho(t,e))}async function aA(t,e){return sE(t,e)}async function _f(t,e){return sE(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(t,e){return al(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}async function uA(t,e){return al(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Rm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ba(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ba(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await ls(e,r,"signInWithPassword");return yf(e,i)}else return yf(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await ls(e,r,"signInWithPassword");return yf(e,o)}else return Promise.reject(i)});case"emailLink":return lA(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return sA(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return uA(e,{idToken:n,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(t,e){return al(t,"POST","/v1/accounts:signInWithIdp",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="http://localhost";class no extends Rm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new no(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=km(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new no(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ko(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ko(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ko(e,n)}buildRequest(){const e={requestUri:cA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cs(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fA(t){const e=ea(ta(t)).link,n=e?ea(ta(e)).deep_link_id:null,r=ea(ta(t)).deep_link_id;return(r?ea(ta(r)).link:null)||r||n||e||t}class Pm{constructor(e){var n,r,i,o,s,a;const l=ea(ta(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=dA((i=l.mode)!==null&&i!==void 0?i:null);he(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=fA(e);try{return new Pm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.providerId=bs.PROVIDER_ID}static credential(e,n){return Ba._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Pm.parseLink(n);return he(r,"argument-error"),Ba._fromEmailAndCode(e,r.code,r.tenantId)}}bs.PROVIDER_ID="password";bs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends Om{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends ll{constructor(){super("facebook.com")}static credential(e){return no._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return no._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vr.credential(n,r)}catch{return null}}}vr.GOOGLE_SIGN_IN_METHOD="google.com";vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends ll{constructor(){super("github.com")}static credential(e){return no._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends ll{constructor(){super("twitter.com")}static credential(e,n){return no._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Kr.credential(n,r)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(t,e){return al(t,"POST","/v1/accounts:signUp",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Wi._fromIdTokenResponse(e,r,i),s=Cy(r);return new ro({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Cy(r);return new ro({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Cy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends wi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new lc(e,n,r,i)}}function aE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?lc._fromErrorAndOperation(t,o,e,r):o})}async function hA(t,e,n=!1){const r=await Va(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ro._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await Va(t,aE(r,i,e,t),n);he(o.idToken,r,"internal-error");const s=Nm(o.idToken);he(s,r,"internal-error");const{sub:a}=s;return he(t.uid===a,r,"user-mismatch"),ro._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Pn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lE(t,e,n=!1){const r="signIn",i=await aE(t,r,e),o=await ro._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function mA(t,e){return lE(Ei(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t,e,n){var r;he(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),he(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(he(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(he(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA(t,e,n){var r;const i=Ei(t),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const s=await ls(i,o,"getOobCode",!0);n&&_u(i,s,n),await _f(i,s)}else n&&_u(i,o,n),await _f(i,o).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await ls(i,o,"getOobCode",!0);n&&_u(i,a,n),await _f(i,a)}else return Promise.reject(s)})}async function vA(t,e,n){var r;const i=Ei(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await ls(i,o,"signUpPassword");s=wf(i,u)}else s=wf(i,o).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await ls(i,o,"signUpPassword");return wf(i,c)}else return Promise.reject(u)});const a=await s.catch(u=>Promise.reject(u)),l=await ro._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function yA(t,e,n){return mA(jt(t),bs.credential(e,n))}async function Dm(t,e){const n=jt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&_u(n.auth,i,e);const{email:o}=await aA(n.auth,i);o!==t.email&&await t.reload()}function _A(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function wA(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}const uc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uc,"1"),this.storage.removeItem(uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(){const t=$t();return Am(t)||Xc(t)}const CA=1e3,SA=10;class cE extends uE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=EA()&&KN(),this.fallbackToPolling=Zw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);GN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,SA):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},CA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cE.type="LOCAL";const bA=cE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE extends uE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dE.type="SESSION";const fE=dE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Zc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await IA(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Mm("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return window}function TA(t){sr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}async function xA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function AA(){return hE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="firebaseLocalStorageDb",RA=1,cc="firebaseLocalStorage",mE="fbase_key";class ul{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ed(t,e){return t.transaction([cc],e?"readwrite":"readonly").objectStore(cc)}function PA(){const t=indexedDB.deleteDatabase(pE);return new ul(t).toPromise()}function Wh(){const t=indexedDB.open(pE,RA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cc,{keyPath:mE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cc)?e(r):(r.close(),await PA(),e(await Wh()))})})}async function Sy(t,e,n){const r=ed(t,!0).put({[mE]:e,value:n});return new ul(r).toPromise()}async function OA(t,e){const n=ed(t,!1).get(e),r=await new ul(n).toPromise();return r===void 0?null:r.value}function by(t,e){const n=ed(t,!0).delete(e);return new ul(n).toPromise()}const DA=800,MA=3;class gE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>MA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zc._getInstance(AA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await xA(),!this.activeServiceWorker)return;this.sender=new kA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wh();return await Sy(e,uc,"1"),await by(e,uc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Sy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>OA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>by(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=ed(i,!1).getAll();return new ul(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gE.type="LOCAL";const LA=gE;new sl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t,e){return e?Er(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm extends Rm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ko(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ko(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FA(t){return lE(t.auth,new Lm(t),t.bypassAuthState)}function UA(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),pA(n,new Lm(t),t.bypassAuthState)}async function VA(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),hA(n,new Lm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FA;case"linkViaPopup":case"linkViaRedirect":return VA;case"reauthViaPopup":case"reauthViaRedirect":return UA;default:Pn(this.auth,"internal-error")}}resolve(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=new sl(2e3,1e4);async function Iy(t,e,n){const r=Ei(t);xN(t,e,Om);const i=vE(r,n);return new Li(r,"signInViaPopup",e,i).executeNotNull()}class Li extends yE{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Li.currentPopupAction&&Li.currentPopupAction.cancel(),Li.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const e=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Li.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$A.get())};e()}}Li.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="pendingRedirect",wu=new Map;class jA extends yE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wu.get(this.auth._key());if(!e){try{const r=await zA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wu.set(this.auth._key(),e)}return this.bypassAuthState||wu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zA(t,e){const n=GA(e),r=WA(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function HA(t,e){wu.set(t._key(),e)}function WA(t){return Er(t._redirectPersistence)}function GA(t){return yu(BA,t.config.apiKey,t.name)}async function KA(t,e,n=!1){const r=Ei(t),i=vE(r,e),s=await new jA(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=10*60*1e3;class YA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_E(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(or(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qA&&this.cachedEventUids.clear(),this.cachedEventUids.has(ky(e))}saveEventToCache(e){this.cachedEventUids.add(ky(e)),this.lastProcessedEventTime=Date.now()}}function ky(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _E({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _E(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(t,e={}){return po(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZA=/^https?/;async function eR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JA(t);for(const n of e)try{if(tR(n))return}catch{}Pn(t,"unauthorized-domain")}function tR(t){const e=Hh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!ZA.test(n))return!1;if(XA.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=new sl(3e4,6e4);function Ty(){const t=sr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rR(t){return new Promise((e,n)=>{var r,i,o;function s(){Ty(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ty(),n(or(t,"network-request-failed"))},timeout:nR.get()})}if(!((i=(r=sr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=sr().gapi)===null||o===void 0)&&o.load)s();else{const a=YN("iframefcb");return sr()[a]=()=>{gapi.load?s():n(or(t,"network-request-failed"))},rE(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Eu=null,e})}let Eu=null;function iR(t){return Eu=Eu||rR(t),Eu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=new sl(5e3,15e3),sR="__/auth/iframe",aR="emulator/auth/iframe",lR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cR(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xm(e,aR):`https://${t.config.authDomain}/${sR}`,r={apiKey:e.apiKey,appName:t.name,v:Ss},i=uR.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Cs(r).slice(1)}`}async function dR(t){const e=await iR(t),n=sr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:cR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lR,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=or(t,"network-request-failed"),a=sr().setTimeout(()=>{o(s)},oR.get());function l(){sr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hR=500,pR=600,mR="_blank",gR="http://localhost";class xy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vR(t,e,n,r=hR,i=pR){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},fR),{width:r.toString(),height:i.toString(),top:o,left:s}),u=$t().toLowerCase();n&&(a=qw(u)?mR:n),Kw(u)&&(e=e||gR,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[g,v])=>`${f}${g}=${v},`,"");if(WN(u)&&a!=="_self")return yR(e||"",a),new xy(null);const d=window.open(e||"",a,c);he(d,t,"popup-blocked");try{d.focus()}catch{}return new xy(d)}function yR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="__/auth/handler",wR="emulator/auth/handler",ER=encodeURIComponent("fac");async function Ny(t,e,n,r,i,o){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ss,eventId:i};if(e instanceof Om){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",nc(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(o||{}))s[c]=d}if(e instanceof ll){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${ER}=${encodeURIComponent(l)}`:"";return`${CR(t)}?${Cs(a).slice(1)}${u}`}function CR({config:t}){return t.emulator?xm(t,wR):`https://${t.authDomain}/${_R}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="webStorageSupport";class SR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fE,this._completeRedirectFn=KA,this._overrideRedirectResult=HA}async _openPopup(e,n,r,i){var o;Nr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Ny(e,n,r,Hh(),i);return vR(e,s,Mm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Ny(e,n,r,Hh(),i);return TA(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Nr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dR(e),r=new YA(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ef,{type:Ef},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Ef];s!==void 0&&n(!!s),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Zw()||Am()||Xc()}}const bR=SR;var Ay="@firebase/auth",Ry="1.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function TR(t){as(new eo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;he(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eE(t)},u=new eA(r,i,o,l);return nA(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),as(new eo("auth-internal",e=>{const n=Ei(e.getProvider("auth").getImmediate());return(r=>new IR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),li(Ay,Ry,kR(t)),li(Ay,Ry,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=5*60,NR=Nw("authIdTokenMaxAge")||xR;let Py=null;const AR=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>NR)return;const i=n==null?void 0:n.token;Py!==i&&(Py=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function wE(t=Lw()){const e=Im(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tA(t,{popupRedirectResolver:bR,persistence:[LA,bA,fE]}),r=Nw("authTokenSyncURL");if(r){const o=AR(r);wA(n,o,()=>o(n.currentUser)),_A(n,s=>o(s))}const i=Tw("auth");return i&&rA(n,`http://${i}`),n}TR("Browser");const Oy="@firebase/database",Dy="1.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EE="";function RR(t){EE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Et(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Fa(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return cr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new PR(e)}}catch{}return new OR},Fi=CE("localStorage"),Gh=CE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new Sm("@firebase/database"),DR=function(){let t=1;return function(){return t++}}(),SE=function(t){const e=yx(t),n=new px;n.update(e);const r=n.digest();return wm.encodeByteArray(r)},cl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=cl.apply(null,r):typeof r=="object"?e+=Et(r):e+=r,e+=" "}return e};let Gi=null,My=!0;const MR=function(t,e){G(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(qo.logLevel=Ge.VERBOSE,Gi=qo.log.bind(qo),e&&Gh.set("logging_enabled",!0)):typeof t=="function"?Gi=t:(Gi=null,Gh.remove("logging_enabled"))},Pt=function(...t){if(My===!0&&(My=!1,Gi===null&&Gh.get("logging_enabled")===!0&&MR(!0)),Gi){const e=cl.apply(null,t);Gi(e)}},dl=function(t){return function(...e){Pt(t,...e)}},Kh=function(...t){const e="FIREBASE INTERNAL ERROR: "+cl(...t);qo.error(e)},Ar=function(...t){const e=`FIREBASE FATAL ERROR: ${cl(...t)}`;throw qo.error(e),new Error(e)},on=function(...t){const e="FIREBASE WARNING: "+cl(...t);qo.warn(e)},LR=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&on("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},td=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},FR=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},us="[MIN_NAME]",io="[MAX_NAME]",mo=function(t,e){if(t===e)return 0;if(t===us||e===io)return-1;if(e===us||t===io)return 1;{const n=Ly(t),r=Ly(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},UR=function(t,e){return t===e?0:t<e?-1:1},zs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Et(e))},Fm=function(t){if(typeof t!="object"||t===null)return Et(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Et(e[r]),n+=":",n+=Fm(t[e[r]]);return n+="}",n},bE=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Bt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const IE=function(t){G(!td(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},VR=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$R=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function BR(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const jR=new RegExp("^-?(0*)\\d{1,10}$"),zR=-2147483648,HR=2147483647,Ly=function(t){if(jR.test(t)){const e=Number(t);if(e>=zR&&e<=HR)return e}return null},Is=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw on("Exception was thrown by user callback.",n),e},Math.floor(0))}},WR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},pa=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){on(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',on(e)}}class Yo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Yo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="5",kE="v",TE="s",xE="r",NE="f",AE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,RE="ls",PE="p",qh="ac",OE="websocket",DE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Fi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function qR(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function LE(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let r;if(e===OE)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===DE)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);qR(t)&&(n.ns=t.namespace);const i=[];return Bt(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.counters_={}}incrementCounter(e,n=1){cr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return JT(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf={},Sf={};function Vm(t){const e=t.toString();return Cf[e]||(Cf[e]=new YR),Cf[e]}function QR(t,e){const n=t.toString();return Sf[n]||(Sf[n]=e()),Sf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Is(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="start",XR="close",ZR="pLPCommand",eP="pRTLPCB",FE="id",UE="pw",VE="ser",tP="cb",nP="seg",rP="ts",iP="d",oP="dframe",$E=1870,BE=30,sP=$E-BE,aP=25e3,lP=3e4;class Vo{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=dl(e),this.stats_=Vm(n),this.urlFn=l=>(this.appCheckToken&&(l[qh]=this.appCheckToken),LE(n,DE,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new JR(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lP)),FR(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $m((...o)=>{const[s,a,l,u,c]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Fy)this.id=a,this.password=l;else if(s===XR)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Fy]="t",r[VE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[tP]=this.scriptTagHolder.uniqueCallbackIdentifier),r[kE]=Um,this.transportSessionId&&(r[TE]=this.transportSessionId),this.lastSessionId&&(r[RE]=this.lastSessionId),this.applicationId&&(r[PE]=this.applicationId),this.appCheckToken&&(r[qh]=this.appCheckToken),typeof location<"u"&&location.hostname&&AE.test(location.hostname)&&(r[xE]=NE);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vo.forceAllow_=!0}static forceDisallow(){Vo.forceDisallow_=!0}static isAvailable(){return Vo.forceAllow_?!0:!Vo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!VR()&&!$R()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Et(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Iw(n),i=bE(r,sP);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[oP]="t",r[FE]=e,r[UE]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Et(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class $m{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=DR(),window[ZR+this.uniqueCallbackIdentifier]=e,window[eP+this.uniqueCallbackIdentifier]=n,this.myIFrame=$m.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Pt("frame writing exception"),a.stack&&Pt(a.stack),Pt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Pt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[FE]=this.myID,e[UE]=this.myPW,e[VE]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+BE+r.length<=$E;){const s=this.pendingSegs.shift();r=r+"&"+nP+i+"="+s.seg+"&"+rP+i+"="+s.ts+"&"+iP+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(aP)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Pt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=16384,cP=45e3;let dc=null;typeof MozWebSocket<"u"?dc=MozWebSocket:typeof WebSocket<"u"&&(dc=WebSocket);class $n{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=dl(this.connId),this.stats_=Vm(n),this.connURL=$n.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[kE]=Um,typeof location<"u"&&location.hostname&&AE.test(location.hostname)&&(s[xE]=NE),n&&(s[TE]=n),r&&(s[RE]=r),i&&(s[qh]=i),o&&(s[PE]=o),LE(e,OE,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fi.set("previous_websocket_failure",!0);try{let r;Rw(),this.mySock=new dc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){$n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&dc!==null&&!$n.forceDisallow_}static previouslyFailed(){return Fi.isInMemoryStorage||Fi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Fa(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Et(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=bE(n,uP);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(cP))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}$n.responsesRequiredToBeHealthy=2;$n.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Vo,$n]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=$n&&$n.isAvailable();let r=n&&!$n.previouslyFailed();if(e.webSocketOnly&&(n||on("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[$n];else{const i=this.transports_=[];for(const o of ja.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);ja.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ja.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=6e4,fP=5e3,hP=10*1024,pP=100*1024,bf="t",Uy="d",mP="s",Vy="r",gP="e",$y="o",By="a",jy="n",zy="p",vP="h";class yP{constructor(e,n,r,i,o,s,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=dl("c:"+this.id+":"),this.transportManager_=new ja(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=pa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>pP?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>hP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(bf in e){const n=e[bf];n===By?this.upgradeIfSecondaryHealthy_():n===Vy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===$y&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=zs("t",e),r=zs("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:zy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:By,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:jy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=zs("t",e),r=zs("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=zs(bf,e);if(Uy in e){const r=e[Uy];if(n===vP){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===jy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===mP?this.onConnectionShutdown_(r):n===Vy?this.onReset_(r):n===gP?Kh("Server Error: "+r):n===$y?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Kh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Um!==r&&on("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),pa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(dP))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(fP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:zy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends zE{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Cm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new fc}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=32,Wy=768;class He{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function De(){return new He("")}function Se(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function hi(t){return t.pieces_.length-t.pieceNum_}function Ye(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new He(t.pieces_,e)}function Bm(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function _P(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function za(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function HE(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new He(e,0)}function pt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof He)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new He(n,0)}function be(t){return t.pieceNum_>=t.pieces_.length}function Ht(t,e){const n=Se(t),r=Se(e);if(n===null)return e;if(n===r)return Ht(Ye(t),Ye(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function wP(t,e){const n=za(t,0),r=za(e,0);for(let i=0;i<n.length&&i<r.length;i++){const o=mo(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function jm(t,e){if(hi(t)!==hi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Tn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(hi(t)>hi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class EP{constructor(e,n){this.errorPrefix_=n,this.parts_=za(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Jc(this.parts_[r]);WE(this)}}function CP(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Jc(e),WE(t)}function SP(t){const e=t.parts_.pop();t.byteLength_-=Jc(e),t.parts_.length>0&&(t.byteLength_-=1)}function WE(t){if(t.byteLength_>Wy)throw new Error(t.errorPrefix_+"has a key path longer than "+Wy+" bytes ("+t.byteLength_+").");if(t.parts_.length>Hy)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Hy+") or object contains a cycle "+Ai(t))}function Ai(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends zE{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new zm}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=1e3,bP=60*5*1e3,Gy=30*1e3,IP=1.3,kP=3e4,TP="server_kill",Ky=3;class br extends jE{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=br.nextPersistentConnectionId_++,this.log_=dl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hs,this.maxReconnectDelay_=bP,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Rw())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&fc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(Et(o)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new mr,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,u=a.s;br.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&cr(e,"w")){const r=os(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();on(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||hx(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Gy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=fx(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Et(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Kh("Unrecognized action received from server: "+Et(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>kP&&(this.reconnectDelay_=Hs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*IP)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+br.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},u=function(d){G(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?Pt("getToken() completed but was canceled"):(Pt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new yP(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{on(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(TP)},o))}catch(d){this.log_("Failed to get token: "+d),s||(this.repoInfo_.nodeAdmin&&on(d),l())}}}interrupt(e){Pt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Pt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],nc(this.interruptReasons_)&&(this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>Fm(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new He(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Pt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ky&&(this.reconnectDelay_=Gy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Pt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ky&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+EE.replace(/\./g,"-")]=1,Cm()?e["framework.cordova"]=1:Aw()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fc.getInstance().currentlyOnline();return nc(this.interruptReasons_)&&e}}br.nextPersistentConnectionId_=0;br.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ie(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ie(us,e),i=new Ie(us,n);return this.compare(r,i)!==0}minPost(){return Ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl;class GE extends nd{static get __EMPTY_NODE(){return Yl}static set __EMPTY_NODE(e){Yl=e}compare(e,n){return mo(e.name,n.name)}isDefinedOn(e){throw Es("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ie.MIN}maxPost(){return new Ie(io,Yl)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new Ie(e,Yl)}toString(){return".key"}}const Qo=new GE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class It{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??It.RED,this.left=i??en.EMPTY_NODE,this.right=o??en.EMPTY_NODE}copy(e,n,r,i,o){return new It(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return en.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return en.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}It.RED=!0;It.BLACK=!1;class xP{copy(e,n,r,i,o){return this}insert(e,n,r){return new It(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class en{constructor(e,n=en.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new en(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,It.BLACK,null,null))}remove(e){return new en(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,It.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ql(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ql(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ql(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ql(this.root_,null,this.comparator_,!0,e)}}en.EMPTY_NODE=new xP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t,e){return mo(t.name,e.name)}function Hm(t,e){return mo(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh;function AP(t){Yh=t}const KE=function(t){return typeof t=="number"?"number:"+IE(t):"string:"+t},qE=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&cr(e,".sv"),"Priority must be a string or number.")}else G(t===Yh||t.isEmpty(),"priority of unexpected type.");G(t===Yh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qy;class St{constructor(e,n=St.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),qE(this.priorityNode_)}static set __childrenNodeConstructor(e){qy=e}static get __childrenNodeConstructor(){return qy}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new St(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:St.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return be(e)?this:Se(e)===".priority"?this.priorityNode_:St.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:St.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Se(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(G(r!==".priority"||hi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,St.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ye(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+KE(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=IE(this.value_):e+=this.value_,this.lazyHash_=SE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===St.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof St.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=St.VALUE_TYPE_ORDER.indexOf(n),o=St.VALUE_TYPE_ORDER.indexOf(r);return G(i>=0,"Unknown leaf type: "+n),G(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}St.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YE,QE;function RP(t){YE=t}function PP(t){QE=t}class OP extends nd{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?mo(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ie.MIN}maxPost(){return new Ie(io,new St("[PRIORITY-POST]",QE))}makePost(e,n){const r=YE(e);return new Ie(n,new St("[PRIORITY-POST]",r))}toString(){return".priority"}}const at=new OP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=Math.log(2);class MP{constructor(e){const n=o=>parseInt(Math.log(o)/DP,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const hc=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=t[l],f=n?n(d):d,new It(f,d.node,It.BLACK,null,null);{const g=parseInt(c/2,10)+l,v=i(l,g),w=i(g+1,u);return d=t[g],f=n?n(d):d,new It(f,d.node,It.BLACK,v,w)}},o=function(l){let u=null,c=null,d=t.length;const f=function(v,w){const C=d-v,m=d;d-=v;const p=i(C+1,m),_=t[C],b=n?n(_):_;g(new It(b,_.node,w,null,p))},g=function(v){u?(u.left=v,u=v):(c=v,u=v)};for(let v=0;v<l.count;++v){const w=l.nextBitIsOne(),C=Math.pow(2,l.count-(v+1));w?f(C,It.BLACK):(f(C,It.BLACK),f(C,It.RED))}return c},s=new MP(t.length),a=o(s);return new en(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If;const Eo={};class Cr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return G(Eo&&at,"ChildrenNode.ts has not been loaded"),If=If||new Cr({".priority":Eo},{".priority":at}),If}get(e){const n=os(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof en?n:null}hasIndex(e){return cr(this.indexSet_,e.toString())}addIndex(e,n){G(e!==Qo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(Ie.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=hc(r,e.getCompare()):a=Eo;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Cr(c,u)}addToIndexes(e,n){const r=rc(this.indexes_,(i,o)=>{const s=os(this.indexSet_,o);if(G(s,"Missing index implementation for "+o),i===Eo)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ie.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),hc(a,s.getCompare())}else return Eo;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Ie(e.name,a))),l.insert(e,e.node)}});return new Cr(r,this.indexSet_)}removeFromIndexes(e,n){const r=rc(this.indexes_,i=>{if(i===Eo)return i;{const o=n.get(e.name);return o?i.remove(new Ie(e.name,o)):i}});return new Cr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ws;class ge{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&qE(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ws||(Ws=new ge(new en(Hm),null,Cr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ws}updatePriority(e){return this.children_.isEmpty()?this:new ge(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ws:n}}getChild(e){const n=Se(e);return n===null?this:this.getImmediateChild(n).getChild(Ye(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ie(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?Ws:this.priorityNode_;return new ge(i,s,o)}}updateChild(e,n){const r=Se(e);if(r===null)return n;{G(Se(e)!==".priority"||hi(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Ye(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(at,(s,a)=>{n[s]=a.val(e),r++,o&&ge.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+KE(this.getPriority().val())+":"),this.forEachChild(at,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":SE(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new Ie(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ie(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ie(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Ie.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Ie.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===fl?-1:0}withIndex(e){if(e===Qo||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ge(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Qo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(at),i=n.getIterator(at);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Qo?null:this.indexMap_.get(e.toString())}}ge.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class LP extends ge{constructor(){super(new en(Hm),ge.EMPTY_NODE,Cr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ge.EMPTY_NODE}isEmpty(){return!1}}const fl=new LP;Object.defineProperties(Ie,{MIN:{value:new Ie(us,ge.EMPTY_NODE)},MAX:{value:new Ie(io,fl)}});GE.__EMPTY_NODE=ge.EMPTY_NODE;St.__childrenNodeConstructor=ge;AP(fl);PP(fl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=!0;function ht(t,e=null){if(t===null)return ge.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new St(n,ht(e))}if(!(t instanceof Array)&&FP){const n=[];let r=!1;if(Bt(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=ht(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ie(s,l)))}}),n.length===0)return ge.EMPTY_NODE;const o=hc(n,NP,s=>s.name,Hm);if(r){const s=hc(n,at.getCompare());return new ge(o,ht(e),new Cr({".priority":s},{".priority":at}))}else return new ge(o,ht(e),Cr.Default)}else{let n=ge.EMPTY_NODE;return Bt(t,(r,i)=>{if(cr(t,r)&&r.substring(0,1)!=="."){const o=ht(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(ht(e))}}RP(ht);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP extends nd{constructor(e){super(),this.indexPath_=e,G(!be(e)&&Se(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?mo(e.name,n.name):o}makePost(e,n){const r=ht(e),i=ge.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ie(n,i)}maxPost(){const e=ge.EMPTY_NODE.updateChild(this.indexPath_,fl);return new Ie(io,e)}toString(){return za(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP extends nd{compare(e,n){const r=e.node.compareTo(n.node);return r===0?mo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ie.MIN}maxPost(){return Ie.MAX}makePost(e,n){const r=ht(e);return new Ie(n,r)}toString(){return".value"}}const $P=new VP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t){return{type:"value",snapshotNode:t}}function cs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ha(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Wa(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function BP(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){G(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Ha(n,a)):G(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(cs(n,r)):s.trackChildChange(Wa(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(at,(i,o)=>{n.hasChild(i)||r.trackChildChange(Ha(i,o))}),n.isLeafNode()||n.forEachChild(at,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Wa(i,o,s))}else r.trackChildChange(cs(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ge.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.indexedFilter_=new Wm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ga.getStartPost_(e),this.endPost_=Ga.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new Ie(n,r))||(r=ge.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ge.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ge.EMPTY_NODE);const o=this;return n.forEachChild(at,(s,a)=>{o.matches(new Ie(s,a))||(i=i.updateImmediateChild(s,ge.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ga(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new Ie(n,r))||(r=ge.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=ge.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ge.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(ge.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,ge.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const d=this.index_.getCompare();s=(f,g)=>d(g,f)}else s=this.index_.getCompare();const a=e;G(a.numChildren()===this.limit_,"");const l=new Ie(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const g=f==null?1:s(f,l);if(c&&!r.isEmpty()&&g>=0)return o!=null&&o.trackChildChange(Wa(n,r,d)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(Ha(n,d));const w=a.updateImmediateChild(n,ge.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o!=null&&o.trackChildChange(cs(f.name,f.node)),w.updateImmediateChild(f.name,f.node)):w}}else return r.isEmpty()?e:c&&s(u,l)>=0?(o!=null&&(o.trackChildChange(Ha(u.name,u.node)),o.trackChildChange(cs(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,ge.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=at}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:us}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:io}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===at}copy(){const e=new Gm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function zP(t){return t.loadsAllData()?new Wm(t.getIndex()):t.hasLimit()?new jP(t):new Ga(t)}function Yy(t){const e={};if(t.isDefault())return e;let n;if(t.index_===at?n="$priority":t.index_===$P?n="$value":t.index_===Qo?n="$key":(G(t.index_ instanceof UP,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Et(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Et(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Et(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Et(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Et(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Qy(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==at&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends jE{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=dl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=pc.getListenId_(e,r),a={};this.listens_[s]=a;const l=Yy(e._queryParams);this.restRequest_(o+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(o,d,!1,r),os(this.listens_,s)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=pc.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Yy(e._queryParams),r=e._path.toString(),i=new mr;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Cs(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Fa(a.responseText)}catch{on("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&on("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(){this.rootNode_=ge.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(){return{value:null,children:new Map}}function ks(t,e,n){if(be(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Se(e);t.children.has(r)||t.children.set(r,mc());const i=t.children.get(r);e=Ye(e),ks(i,e,n)}}function Qh(t,e){if(be(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(at,(r,i)=>{ks(t,new He(r),i)}),Qh(t,e)}}else if(t.children.size>0){const n=Se(e);return e=Ye(e),t.children.has(n)&&Qh(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function Jh(t,e,n){t.value!==null?n(e,t.value):WP(t,(r,i)=>{const o=new He(e.toString()+"/"+r);Jh(i,o,n)})}function WP(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Bt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=10*1e3,KP=30*1e3,qP=5*60*1e3;class YP{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new GP(e);const r=Jy+(KP-Jy)*Math.random();pa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Bt(e,(i,o)=>{o>0&&cr(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),pa(this.reportStats_.bind(this),Math.floor(Math.random()*2*qP))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Bn||(Bn={}));function XE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Km(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function qm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Bn.ACK_USER_WRITE,this.source=XE()}operationForChild(e){if(be(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new He(e));return new gc(De(),n,this.revert)}}else return G(Se(this.path)===e,"operationForChild called for unrelated child."),new gc(Ye(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n){this.source=e,this.path=n,this.type=Bn.LISTEN_COMPLETE}operationForChild(e){return be(this.path)?new Ka(this.source,De()):new Ka(this.source,Ye(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Bn.OVERWRITE}operationForChild(e){return be(this.path)?new oo(this.source,De(),this.snap.getImmediateChild(e)):new oo(this.source,Ye(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Bn.MERGE}operationForChild(e){if(be(this.path)){const n=this.children.subtree(new He(e));return n.isEmpty()?null:n.value?new oo(this.source,De(),n.value):new qa(this.source,De(),n)}else return G(Se(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new qa(this.source,Ye(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(be(e))return this.isFullyInitialized()&&!this.filtered_;const n=Se(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function JP(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(BP(s.childName,s.snapshotNode))}),Gs(t,i,"child_removed",e,r,n),Gs(t,i,"child_added",e,r,n),Gs(t,i,"child_moved",o,r,n),Gs(t,i,"child_changed",e,r,n),Gs(t,i,"value",e,r,n),i}function Gs(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>ZP(t,a,l)),s.forEach(a=>{const l=XP(t,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function XP(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function ZP(t,e,n){if(e.childName==null||n.childName==null)throw Es("Should only compare child_ events.");const r=new Ie(e.childName,e.snapshotNode),i=new Ie(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(t,e){return{eventCache:t,serverCache:e}}function ma(t,e,n,r){return rd(new pi(e,n,r),t.serverCache)}function ZE(t,e,n,r){return rd(t.eventCache,new pi(e,n,r))}function vc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function so(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf;const eO=()=>(kf||(kf=new en(UR)),kf);class et{constructor(e,n=eO()){this.value=e,this.children=n}static fromObject(e){let n=new et(null);return Bt(e,(r,i)=>{n=n.set(new He(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:De(),value:this.value};if(be(e))return null;{const r=Se(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(Ye(e),n);return o!=null?{path:pt(new He(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(be(e))return this;{const n=Se(e),r=this.children.get(n);return r!==null?r.subtree(Ye(e)):new et(null)}}set(e,n){if(be(e))return new et(n,this.children);{const r=Se(e),o=(this.children.get(r)||new et(null)).set(Ye(e),n),s=this.children.insert(r,o);return new et(this.value,s)}}remove(e){if(be(e))return this.children.isEmpty()?new et(null):new et(null,this.children);{const n=Se(e),r=this.children.get(n);if(r){const i=r.remove(Ye(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new et(null):new et(this.value,o)}else return this}}get(e){if(be(e))return this.value;{const n=Se(e),r=this.children.get(n);return r?r.get(Ye(e)):null}}setTree(e,n){if(be(e))return n;{const r=Se(e),o=(this.children.get(r)||new et(null)).setTree(Ye(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new et(this.value,s)}}fold(e){return this.fold_(De(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(pt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,De(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(be(e))return null;{const o=Se(e),s=this.children.get(o);return s?s.findOnPath_(Ye(e),pt(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,De(),n)}foreachOnPath_(e,n,r){if(be(e))return this;{this.value&&r(n,this.value);const i=Se(e),o=this.children.get(i);return o?o.foreachOnPath_(Ye(e),pt(n,i),r):new et(null)}}foreach(e){this.foreach_(De(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(pt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.writeTree_=e}static empty(){return new Wn(new et(null))}}function ga(t,e,n){if(be(e))return new Wn(new et(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=Ht(i,e);return o=o.updateChild(s,n),new Wn(t.writeTree_.set(i,o))}else{const i=new et(n),o=t.writeTree_.setTree(e,i);return new Wn(o)}}}function Xy(t,e,n){let r=t;return Bt(n,(i,o)=>{r=ga(r,pt(e,i),o)}),r}function Zy(t,e){if(be(e))return Wn.empty();{const n=t.writeTree_.setTree(e,new et(null));return new Wn(n)}}function Xh(t,e){return go(t,e)!=null}function go(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ht(n.path,e)):null}function e0(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(at,(r,i)=>{e.push(new Ie(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Ie(r,i.value))}),e}function ui(t,e){if(be(e))return t;{const n=go(t,e);return n!=null?new Wn(new et(n)):new Wn(t.writeTree_.subtree(e))}}function Zh(t){return t.writeTree_.isEmpty()}function ds(t,e){return eC(De(),t.writeTree_,e)}function eC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(G(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=eC(pt(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(pt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t,e){return iC(e,t)}function tO(t,e,n,r,i){G(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ga(t.visibleWrites,e,n)),t.lastWriteId=r}function nO(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function rO(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&iO(a,r.path)?i=!1:Tn(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return oO(t),!0;if(r.snap)t.visibleWrites=Zy(t.visibleWrites,r.path);else{const a=r.children;Bt(a,l=>{t.visibleWrites=Zy(t.visibleWrites,pt(r.path,l))})}return!0}else return!1}function iO(t,e){if(t.snap)return Tn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Tn(pt(t.path,n),e))return!0;return!1}function oO(t){t.visibleWrites=tC(t.allWrites,sO,De()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function sO(t){return t.visible}function tC(t,e,n){let r=Wn.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)Tn(n,s)?(a=Ht(n,s),r=ga(r,a,o.snap)):Tn(s,n)&&(a=Ht(s,n),r=ga(r,De(),o.snap.getChild(a)));else if(o.children){if(Tn(n,s))a=Ht(n,s),r=Xy(r,a,o.children);else if(Tn(s,n))if(a=Ht(s,n),be(a))r=Xy(r,De(),o.children);else{const l=os(o.children,Se(a));if(l){const u=l.getChild(Ye(a));r=ga(r,De(),u)}}}else throw Es("WriteRecord should have .snap or .children")}}return r}function nC(t,e,n,r,i){if(!r&&!i){const o=go(t.visibleWrites,e);if(o!=null)return o;{const s=ui(t.visibleWrites,e);if(Zh(s))return n;if(n==null&&!Xh(s,De()))return null;{const a=n||ge.EMPTY_NODE;return ds(s,a)}}}else{const o=ui(t.visibleWrites,e);if(!i&&Zh(o))return n;if(!i&&n==null&&!Xh(o,De()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Tn(u.path,e)||Tn(e,u.path))},a=tC(t.allWrites,s,e),l=n||ge.EMPTY_NODE;return ds(a,l)}}}function aO(t,e,n){let r=ge.EMPTY_NODE;const i=go(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(at,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=ui(t.visibleWrites,e);return n.forEachChild(at,(s,a)=>{const l=ds(ui(o,new He(s)),a);r=r.updateImmediateChild(s,l)}),e0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=ui(t.visibleWrites,e);return e0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function lO(t,e,n,r,i){G(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=pt(e,n);if(Xh(t.visibleWrites,o))return null;{const s=ui(t.visibleWrites,o);return Zh(s)?i.getChild(n):ds(s,i.getChild(n))}}function uO(t,e,n,r){const i=pt(e,n),o=go(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=ui(t.visibleWrites,i);return ds(s,r.getNode().getImmediateChild(n))}else return null}function cO(t,e){return go(t.visibleWrites,e)}function dO(t,e,n,r,i,o,s){let a;const l=ui(t.visibleWrites,e),u=go(l,De());if(u!=null)a=u;else if(n!=null)a=ds(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let g=f.getNext();for(;g&&c.length<i;)d(g,r)!==0&&c.push(g),g=f.getNext();return c}else return[]}function fO(){return{visibleWrites:Wn.empty(),allWrites:[],lastWriteId:-1}}function yc(t,e,n,r){return nC(t.writeTree,t.treePath,e,n,r)}function Ym(t,e){return aO(t.writeTree,t.treePath,e)}function t0(t,e,n,r){return lO(t.writeTree,t.treePath,e,n,r)}function _c(t,e){return cO(t.writeTree,pt(t.treePath,e))}function hO(t,e,n,r,i,o){return dO(t.writeTree,t.treePath,e,n,r,i,o)}function Qm(t,e,n){return uO(t.writeTree,t.treePath,e,n)}function rC(t,e){return iC(pt(t.treePath,e),t.writeTree)}function iC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Wa(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Ha(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,cs(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Wa(r,e.snapshotNode,i.oldSnap));else throw Es("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const oC=new mO;class Jm{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new pi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qm(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:so(this.viewCache_),o=hO(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t){return{filter:t}}function vO(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function yO(t,e,n,r,i){const o=new pO;let s,a;if(n.type===Bn.OVERWRITE){const u=n;u.source.fromUser?s=ep(t,e,u.path,u.snap,r,i,o):(G(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!be(u.path),s=wc(t,e,u.path,u.snap,r,i,a,o))}else if(n.type===Bn.MERGE){const u=n;u.source.fromUser?s=wO(t,e,u.path,u.children,r,i,o):(G(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=tp(t,e,u.path,u.children,r,i,a,o))}else if(n.type===Bn.ACK_USER_WRITE){const u=n;u.revert?s=SO(t,e,u.path,r,i,o):s=EO(t,e,u.path,u.affectedTree,r,i,o)}else if(n.type===Bn.LISTEN_COMPLETE)s=CO(t,e,n.path,r,o);else throw Es("Unknown operation type: "+n.type);const l=o.getChanges();return _O(e,s,l),{viewCache:s,changes:l}}function _O(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=vc(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(JE(vc(e)))}}function sC(t,e,n,r,i,o){const s=e.eventCache;if(_c(r,n)!=null)return e;{let a,l;if(be(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=so(e),c=u instanceof ge?u:ge.EMPTY_NODE,d=Ym(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const u=yc(r,so(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=Se(n);if(u===".priority"){G(hi(n)===1,"Can't have a priority with additional path components");const c=s.getNode();l=e.serverCache.getNode();const d=t0(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=s.getNode()}else{const c=Ye(n);let d;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const f=t0(r,n,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(u).updateChild(c,f):d=s.getNode().getImmediateChild(u)}else d=Qm(r,u,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),u,d,c,i,o):a=s.getNode()}}return ma(e,a,s.isFullyInitialized()||be(n),t.filter.filtersNodes())}}function wc(t,e,n,r,i,o,s,a){const l=e.serverCache;let u;const c=s?t.filter:t.filter.getIndexedFilter();if(be(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const g=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),g,null)}else{const g=Se(n);if(!l.isCompleteForPath(n)&&hi(n)>1)return e;const v=Ye(n),C=l.getNode().getImmediateChild(g).updateChild(v,r);g===".priority"?u=c.updatePriority(l.getNode(),C):u=c.updateChild(l.getNode(),g,C,v,oC,null)}const d=ZE(e,u,l.isFullyInitialized()||be(n),c.filtersNodes()),f=new Jm(i,d,o);return sC(t,d,n,i,f,a)}function ep(t,e,n,r,i,o,s){const a=e.eventCache;let l,u;const c=new Jm(i,e,o);if(be(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=ma(e,u,!0,t.filter.filtersNodes());else{const d=Se(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=ma(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=Ye(n),g=a.getNode().getImmediateChild(d);let v;if(be(f))v=r;else{const w=c.getCompleteChild(d);w!=null?Bm(f)===".priority"&&w.getChild(HE(f)).isEmpty()?v=w:v=w.updateChild(f,r):v=ge.EMPTY_NODE}if(g.equals(v))l=e;else{const w=t.filter.updateChild(a.getNode(),d,v,f,c,s);l=ma(e,w,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function n0(t,e){return t.eventCache.isCompleteForChild(e)}function wO(t,e,n,r,i,o,s){let a=e;return r.foreach((l,u)=>{const c=pt(n,l);n0(e,Se(c))&&(a=ep(t,a,c,u,i,o,s))}),r.foreach((l,u)=>{const c=pt(n,l);n0(e,Se(c))||(a=ep(t,a,c,u,i,o,s))}),a}function r0(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function tp(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;be(n)?u=r:u=new et(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const g=e.serverCache.getNode().getImmediateChild(d),v=r0(t,g,f);l=wc(t,l,new He(d),v,i,o,s,a)}}),u.children.inorderTraversal((d,f)=>{const g=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!g){const v=e.serverCache.getNode().getImmediateChild(d),w=r0(t,v,f);l=wc(t,l,new He(d),w,i,o,s,a)}}),l}function EO(t,e,n,r,i,o,s){if(_c(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(be(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return wc(t,e,n,l.getNode().getChild(n),i,o,a,s);if(be(n)){let u=new et(null);return l.getNode().forEachChild(Qo,(c,d)=>{u=u.set(new He(c),d)}),tp(t,e,n,u,i,o,a,s)}else return e}else{let u=new et(null);return r.foreach((c,d)=>{const f=pt(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),tp(t,e,n,u,i,o,a,s)}}function CO(t,e,n,r,i){const o=e.serverCache,s=ZE(e,o.getNode(),o.isFullyInitialized()||be(n),o.isFiltered());return sC(t,s,n,r,oC,i)}function SO(t,e,n,r,i,o){let s;if(_c(r,n)!=null)return e;{const a=new Jm(r,e,i),l=e.eventCache.getNode();let u;if(be(n)||Se(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=yc(r,so(e));else{const d=e.serverCache.getNode();G(d instanceof ge,"serverChildren would be complete if leaf node"),c=Ym(r,d)}c=c,u=t.filter.updateFullNode(l,c,o)}else{const c=Se(n);let d=Qm(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,Ye(n),a,o):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,ge.EMPTY_NODE,Ye(n),a,o):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=yc(r,so(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||_c(r,De())!=null,ma(e,u,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Wm(r.getIndex()),o=zP(r);this.processor_=gO(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(ge.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(ge.EMPTY_NODE,a.getNode(),null),c=new pi(l,s.isFullyInitialized(),i.filtersNodes()),d=new pi(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=rd(d,c),this.eventGenerator_=new QP(this.query_)}get query(){return this.query_}}function IO(t){return t.viewCache_.serverCache.getNode()}function kO(t){return vc(t.viewCache_)}function TO(t,e){const n=so(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!be(e)&&!n.getImmediateChild(Se(e)).isEmpty())?n.getChild(e):null}function i0(t){return t.eventRegistrations_.length===0}function xO(t,e){t.eventRegistrations_.push(e)}function o0(t,e,n){const r=[];if(n){G(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function s0(t,e,n,r){e.type===Bn.MERGE&&e.source.queryId!==null&&(G(so(t.viewCache_),"We should always have a full cache before handling merges"),G(vc(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=yO(t.processor_,i,e,n,r);return vO(t.processor_,o.viewCache),G(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,aC(t,o.changes,o.viewCache.eventCache.getNode(),null)}function NO(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(at,(o,s)=>{r.push(cs(o,s))}),n.isFullyInitialized()&&r.push(JE(n.getNode())),aC(t,r,n.getNode(),e)}function aC(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return JP(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec;class lC{constructor(){this.views=new Map}}function AO(t){G(!Ec,"__referenceConstructor has already been defined"),Ec=t}function RO(){return G(Ec,"Reference.ts has not been loaded"),Ec}function PO(t){return t.views.size===0}function Xm(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return G(o!=null,"SyncTree gave us an op for an invalid query."),s0(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(s0(s,e,n,r));return o}}function uC(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=yc(n,i?r:null),l=!1;a?l=!0:r instanceof ge?(a=Ym(n,r),l=!1):(a=ge.EMPTY_NODE,l=!1);const u=rd(new pi(a,l,!1),new pi(r,i,!1));return new bO(e,u)}return s}function OO(t,e,n,r,i,o){const s=uC(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),xO(s,n),NO(s,n)}function DO(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=mi(t);if(i==="default")for(const[l,u]of t.views.entries())s=s.concat(o0(u,n,r)),i0(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const l=t.views.get(i);l&&(s=s.concat(o0(l,n,r)),i0(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!mi(t)&&o.push(new(RO())(e._repo,e._path)),{removed:o,events:s}}function cC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ci(t,e){let n=null;for(const r of t.views.values())n=n||TO(r,e);return n}function dC(t,e){if(e._queryParams.loadsAllData())return sd(t);{const r=e._queryIdentifier;return t.views.get(r)}}function fC(t,e){return dC(t,e)!=null}function mi(t){return sd(t)!=null}function sd(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc;function MO(t){G(!Cc,"__referenceConstructor has already been defined"),Cc=t}function LO(){return G(Cc,"Reference.ts has not been loaded"),Cc}let FO=1;class a0{constructor(e){this.listenProvider_=e,this.syncPointTree_=new et(null),this.pendingWriteTree_=fO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hC(t,e,n,r,i){return tO(t.pendingWriteTree_,e,n,r,i),i?pl(t,new oo(XE(),e,n)):[]}function Ui(t,e,n=!1){const r=nO(t.pendingWriteTree_,e);if(rO(t.pendingWriteTree_,e)){let o=new et(null);return r.snap!=null?o=o.set(De(),!0):Bt(r.children,s=>{o=o.set(new He(s),!0)}),pl(t,new gc(r.path,o,n))}else return[]}function hl(t,e,n){return pl(t,new oo(Km(),e,n))}function UO(t,e,n){const r=et.fromObject(n);return pl(t,new qa(Km(),e,r))}function VO(t,e){return pl(t,new Ka(Km(),e))}function $O(t,e,n){const r=eg(t,n);if(r){const i=tg(r),o=i.path,s=i.queryId,a=Ht(o,e),l=new Ka(qm(s),a);return ng(t,o,l)}else return[]}function Sc(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&(e._queryIdentifier==="default"||fC(s,e))){const l=DO(s,e,n,r);PO(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,g)=>mi(g));if(c&&!d){const f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){const g=zO(f);for(let v=0;v<g.length;++v){const w=g[v],C=w.query,m=vC(t,w);t.listenProvider_.startListening(va(C),Ya(t,C),m.hashFn,m.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(va(e),null):u.forEach(f=>{const g=t.queryToTagMap.get(ad(f));t.listenProvider_.stopListening(va(f),g)}))}HO(t,u)}return a}function pC(t,e,n,r){const i=eg(t,r);if(i!=null){const o=tg(i),s=o.path,a=o.queryId,l=Ht(s,e),u=new oo(qm(a),l,n);return ng(t,s,u)}else return[]}function BO(t,e,n,r){const i=eg(t,r);if(i){const o=tg(i),s=o.path,a=o.queryId,l=Ht(s,e),u=et.fromObject(n),c=new qa(qm(a),l,u);return ng(t,s,c)}else return[]}function np(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,g)=>{const v=Ht(f,i);o=o||ci(g,v),s=s||mi(g)});let a=t.syncPointTree_.get(i);a?(s=s||mi(a),o=o||ci(a,De())):(a=new lC,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=ge.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((g,v)=>{const w=ci(v,De());w&&(o=o.updateImmediateChild(g,w))}));const u=fC(a,e);if(!u&&!e._queryParams.loadsAllData()){const f=ad(e);G(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const g=WO();t.queryToTagMap.set(f,g),t.tagToQueryMap.set(g,f)}const c=od(t.pendingWriteTree_,i);let d=OO(a,e,n,c,o,l);if(!u&&!s&&!r){const f=dC(a,e);d=d.concat(GO(t,e,f))}return d}function Zm(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=Ht(s,e),u=ci(a,l);if(u)return u});return nC(i,e,o,n,!0)}function jO(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=Ht(u,n);r=r||ci(c,d)});let i=t.syncPointTree_.get(n);i?r=r||ci(i,De()):(i=new lC,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=r!=null,s=o?new pi(r,!0,!1):null,a=od(t.pendingWriteTree_,e._path),l=uC(i,e,a,o?s.getNode():ge.EMPTY_NODE,o);return kO(l)}function pl(t,e){return mC(e,t.syncPointTree_,null,od(t.pendingWriteTree_,De()))}function mC(t,e,n,r){if(be(t.path))return gC(t,e,n,r);{const i=e.get(De());n==null&&i!=null&&(n=ci(i,De()));let o=[];const s=Se(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,c=rC(r,s);o=o.concat(mC(a,l,u,c))}return i&&(o=o.concat(Xm(i,t,r,n))),o}}function gC(t,e,n,r){const i=e.get(De());n==null&&i!=null&&(n=ci(i,De()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=rC(r,s),c=t.operationForChild(s);c&&(o=o.concat(gC(c,a,l,u)))}),i&&(o=o.concat(Xm(i,t,r,n))),o}function vC(t,e){const n=e.query,r=Ya(t,n);return{hashFn:()=>(IO(e)||ge.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?$O(t,n._path,r):VO(t,n._path);{const o=BR(i,n);return Sc(t,n,null,o)}}}}function Ya(t,e){const n=ad(e);return t.queryToTagMap.get(n)}function ad(t){return t._path.toString()+"$"+t._queryIdentifier}function eg(t,e){return t.tagToQueryMap.get(e)}function tg(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new He(t.substr(0,e))}}function ng(t,e,n){const r=t.syncPointTree_.get(e);G(r,"Missing sync point for query tag that we're tracking");const i=od(t.pendingWriteTree_,e);return Xm(r,n,i,null)}function zO(t){return t.fold((e,n,r)=>{if(n&&mi(n))return[sd(n)];{let i=[];return n&&(i=cC(n)),Bt(r,(o,s)=>{i=i.concat(s)}),i}})}function va(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(LO())(t._repo,t._path):t}function HO(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=ad(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function WO(){return FO++}function GO(t,e,n){const r=e._path,i=Ya(t,e),o=vC(t,n),s=t.listenProvider_.startListening(va(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)G(!mi(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!be(u)&&c&&mi(c))return[sd(c).query];{let f=[];return c&&(f=f.concat(cC(c).map(g=>g.query))),Bt(d,(g,v)=>{f=f.concat(v)}),f}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(va(c),Ya(t,c))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new rg(n)}node(){return this.node_}}class ig{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=pt(this.path_,e);return new ig(this.syncTree_,n)}node(){return Zm(this.syncTree_,this.path_)}}const KO=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},l0=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return qO(t[".sv"],e,n);if(typeof t[".sv"]=="object")return YO(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},qO=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},YO=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);const i=e.node();if(G(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},QO=function(t,e,n,r){return og(e,new ig(n,t),r)},yC=function(t,e,n){return og(t,new rg(e),n)};function og(t,e,n){const r=t.getPriority().val(),i=l0(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=l0(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new St(a,ht(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new St(i))),s.forEachChild(at,(a,l)=>{const u=og(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function ag(t,e){let n=e instanceof He?e:new He(e),r=t,i=Se(n);for(;i!==null;){const o=os(r.node.children,i)||{children:{},childCount:0};r=new sg(i,r,o),n=Ye(n),i=Se(n)}return r}function Ts(t){return t.node.value}function _C(t,e){t.node.value=e,rp(t)}function wC(t){return t.node.childCount>0}function JO(t){return Ts(t)===void 0&&!wC(t)}function ld(t,e){Bt(t.node.children,(n,r)=>{e(new sg(n,t,r))})}function EC(t,e,n,r){n&&!r&&e(t),ld(t,i=>{EC(i,e,!0,r)}),n&&r&&e(t)}function XO(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ml(t){return new He(t.parent===null?t.name:ml(t.parent)+"/"+t.name)}function rp(t){t.parent!==null&&ZO(t.parent,t.name,t)}function ZO(t,e,n){const r=JO(n),i=cr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,rp(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,rp(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=/[\[\].#$\/\u0000-\u001F\u007F]/,t2=/[\[\].#$\u0000-\u001F\u007F]/,Tf=10*1024*1024,lg=function(t){return typeof t=="string"&&t.length!==0&&!e2.test(t)},CC=function(t){return typeof t=="string"&&t.length!==0&&!t2.test(t)},n2=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),CC(t)},SC=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!td(t)||t&&typeof t=="object"&&cr(t,".sv")},bc=function(t,e,n,r){r&&e===void 0||ud(ss(t,"value"),e,n)},ud=function(t,e,n){const r=n instanceof He?new EP(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ai(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ai(r)+" with contents = "+e.toString());if(td(e))throw new Error(t+"contains "+e.toString()+" "+Ai(r));if(typeof e=="string"&&e.length>Tf/3&&Jc(e)>Tf)throw new Error(t+"contains a string greater than "+Tf+" utf8 bytes "+Ai(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Bt(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!lg(s)))throw new Error(t+" contains an invalid key ("+s+") "+Ai(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);CP(r,s),ud(t,a,r),SP(r)}),i&&o)throw new Error(t+' contains ".value" child '+Ai(r)+" in addition to actual children.")}},r2=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const o=za(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!lg(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(wP);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Tn(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},i2=function(t,e,n,r){if(r&&e===void 0)return;const i=ss(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];Bt(e,(s,a)=>{const l=new He(s);if(ud(i,a,pt(n,l)),Bm(l)===".priority"&&!SC(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),r2(i,o)},o2=function(t,e,n){if(!(n&&e===void 0)){if(td(e))throw new Error(ss(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!SC(e))throw new Error(ss(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},bC=function(t,e,n,r){if(!(r&&n===void 0)&&!CC(n))throw new Error(ss(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},s2=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),bC(t,e,n,r)},Vi=function(t,e){if(Se(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},a2=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!lg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!n2(n))throw new Error(ss(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ug(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!jm(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function IC(t,e,n){ug(t,n),kC(t,r=>jm(r,e))}function ur(t,e,n){ug(t,n),kC(t,r=>Tn(r,e)||Tn(e,r))}function kC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(u2(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function u2(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Gi&&Pt("event: "+n.toString()),Is(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="repo_interrupt",d2=25;class f2{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new l2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mc(),this.transactionQueueTree_=new sg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function h2(t,e,n){if(t.stats_=Vm(t.repoInfo_),t.forceRestClient_||WR())t.server_=new pc(t.repoInfo_,(r,i,o,s)=>{u0(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>c0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Et(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new br(t.repoInfo_,e,(r,i,o,s)=>{u0(t,r,i,o,s)},r=>{c0(t,r)},r=>{p2(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=QR(t.repoInfo_,()=>new YP(t.stats_,t.server_)),t.infoData_=new HP,t.infoSyncTree_=new a0({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=hl(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),dg(t,"connected",!1),t.serverSyncTree_=new a0({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);ur(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function TC(t){const n=t.infoData_.getNode(new He(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function cg(t){return KO({timestamp:TC(t)})}function u0(t,e,n,r,i){t.dataUpdateCount++;const o=new He(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=rc(n,u=>ht(u));s=BO(t.serverSyncTree_,o,l,i)}else{const l=ht(n);s=pC(t.serverSyncTree_,o,l,i)}else if(r){const l=rc(n,u=>ht(u));s=UO(t.serverSyncTree_,o,l)}else{const l=ht(n);s=hl(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=dd(t,o)),ur(t.eventQueue_,a,s)}function c0(t,e){dg(t,"connected",e),e===!1&&v2(t)}function p2(t,e){Bt(e,(n,r)=>{dg(t,n,r)})}function dg(t,e,n){const r=new He("/.info/"+e),i=ht(n);t.infoData_.updateSnapshot(r,i);const o=hl(t.infoSyncTree_,r,i);ur(t.eventQueue_,r,o)}function xC(t){return t.nextWriteId_++}function m2(t,e,n){const r=jO(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const o=ht(i).withIndex(e._queryParams.getIndex());np(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=hl(t.serverSyncTree_,e._path,o);else{const a=Ya(t.serverSyncTree_,e);s=pC(t.serverSyncTree_,e._path,o,a)}return ur(t.eventQueue_,e._path,s),Sc(t.serverSyncTree_,e,n,null,!0),o},i=>(cd(t,"get for query "+Et(e)+" failed: "+i),Promise.reject(new Error(i))))}function g2(t,e,n,r,i){cd(t,"set",{path:e.toString(),value:n,priority:r});const o=cg(t),s=ht(n,r),a=Zm(t.serverSyncTree_,e),l=yC(s,a,o),u=xC(t),c=hC(t.serverSyncTree_,e,l,u,!0);ug(t.eventQueue_,c),t.server_.put(e.toString(),s.val(!0),(f,g)=>{const v=f==="ok";v||on("set at "+e+" failed: "+f);const w=Ui(t.serverSyncTree_,u,!v);ur(t.eventQueue_,e,w),fs(t,i,f,g)});const d=OC(t,e);dd(t,d),ur(t.eventQueue_,d,[])}function v2(t){cd(t,"onDisconnectEvents");const e=cg(t),n=mc();Jh(t.onDisconnect_,De(),(i,o)=>{const s=QO(i,o,t.serverSyncTree_,e);ks(n,i,s)});let r=[];Jh(n,De(),(i,o)=>{r=r.concat(hl(t.serverSyncTree_,i,o));const s=OC(t,i);dd(t,s)}),t.onDisconnect_=mc(),ur(t.eventQueue_,De(),r)}function y2(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&Qh(t.onDisconnect_,e),fs(t,n,r,i)})}function d0(t,e,n,r){const i=ht(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,s)=>{o==="ok"&&ks(t.onDisconnect_,e,i),fs(t,r,o,s)})}function _2(t,e,n,r,i){const o=ht(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{s==="ok"&&ks(t.onDisconnect_,e,o),fs(t,i,s,a)})}function w2(t,e,n,r){if(nc(n)){Pt("onDisconnect().update() called with empty data.  Don't do anything."),fs(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{i==="ok"&&Bt(n,(s,a)=>{const l=ht(a);ks(t.onDisconnect_,pt(e,s),l)}),fs(t,r,i,o)})}function E2(t,e,n){let r;Se(e._path)===".info"?r=np(t.infoSyncTree_,e,n):r=np(t.serverSyncTree_,e,n),IC(t.eventQueue_,e._path,r)}function f0(t,e,n){let r;Se(e._path)===".info"?r=Sc(t.infoSyncTree_,e,n):r=Sc(t.serverSyncTree_,e,n),IC(t.eventQueue_,e._path,r)}function C2(t){t.persistentConnection_&&t.persistentConnection_.interrupt(c2)}function cd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Pt(n,...e)}function fs(t,e,n,r){e&&Is(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function NC(t,e,n){return Zm(t.serverSyncTree_,e,n)||ge.EMPTY_NODE}function fg(t,e=t.transactionQueueTree_){if(e||fd(t,e),Ts(e)){const n=RC(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&S2(t,ml(e),n)}else wC(e)&&ld(e,n=>{fg(t,n)})}function S2(t,e,n){const r=n.map(u=>u.currentWriteId),i=NC(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const c=n[u];G(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Ht(e,c.path);o=o.updateChild(d,c.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{cd(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(Ui(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();fd(t,ag(t.transactionQueueTree_,e)),fg(t,t.transactionQueueTree_),ur(t.eventQueue_,e,c);for(let f=0;f<d.length;f++)Is(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{on("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}dd(t,e)}},s)}function dd(t,e){const n=AC(t,e),r=ml(n),i=RC(t,n);return b2(t,i,r),r}function b2(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Ht(n,l.path);let c=!1,d;if(G(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(Ui(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=d2)c=!0,d="maxretry",i=i.concat(Ui(t.serverSyncTree_,l.currentWriteId,!0));else{const f=NC(t,l.path,s);l.currentInputSnapshot=f;const g=e[a].update(f.val());if(g!==void 0){ud("transaction failed: Data returned ",g,l.path);let v=ht(g);typeof g=="object"&&g!=null&&cr(g,".priority")||(v=v.updatePriority(f.getPriority()));const C=l.currentWriteId,m=cg(t),p=yC(v,f,m);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=p,l.currentWriteId=xC(t),s.splice(s.indexOf(C),1),i=i.concat(hC(t.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),i=i.concat(Ui(t.serverSyncTree_,C,!0))}else c=!0,d="nodata",i=i.concat(Ui(t.serverSyncTree_,l.currentWriteId,!0))}ur(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}fd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Is(r[a]);fg(t,t.transactionQueueTree_)}function AC(t,e){let n,r=t.transactionQueueTree_;for(n=Se(e);n!==null&&Ts(r)===void 0;)r=ag(r,n),e=Ye(e),n=Se(e);return r}function RC(t,e){const n=[];return PC(t,e,n),n.sort((r,i)=>r.order-i.order),n}function PC(t,e,n){const r=Ts(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ld(e,i=>{PC(t,i,n)})}function fd(t,e){const n=Ts(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,_C(e,n.length>0?n:void 0)}ld(e,r=>{fd(t,r)})}function OC(t,e){const n=ml(AC(t,e)),r=ag(t.transactionQueueTree_,e);return XO(r,i=>{xf(t,i)}),xf(t,r),EC(r,i=>{xf(t,i)}),n}function xf(t,e){const n=Ts(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(G(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(G(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Ui(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?_C(e,void 0):n.length=o+1,ur(t.eventQueue_,ml(e),i);for(let s=0;s<r.length;s++)Is(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function k2(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):on(`Invalid query segment '${n}' in query '${t}'`)}return e}const h0=function(t,e){const n=T2(t),r=n.namespace;n.domain==="firebase.com"&&Ar(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ar("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||LR();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ME(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new He(n.pathString)}},T2=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=I2(t.substring(c,d)));const f=k2(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const g=e.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",x2=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const o=new Array(8);for(i=7;i>=0;i--)o[i]=p0.charAt(n%64),n=Math.floor(n/64);G(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=p0.charAt(e[i]);return G(s.length===20,"nextPushId: Length should be 20."),s}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Et(this.snapshot.exportVal())}}class MC{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new mr;return y2(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Vi("OnDisconnect.remove",this._path);const e=new mr;return d0(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Vi("OnDisconnect.set",this._path),bc("OnDisconnect.set",e,this._path,!1);const n=new mr;return d0(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Vi("OnDisconnect.setWithPriority",this._path),bc("OnDisconnect.setWithPriority",e,this._path,!1),o2("OnDisconnect.setWithPriority",n,!1);const r=new mr;return _2(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Vi("OnDisconnect.update",this._path),i2("OnDisconnect.update",e,this._path,!1);const n=new mr;return w2(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return be(this._path)?null:Bm(this._path)}get ref(){return new dr(this._repo,this._path)}get _queryIdentifier(){const e=Qy(this._queryParams),n=Fm(e);return n==="{}"?"default":n}get _queryObject(){return Qy(this._queryParams)}isEqual(e){if(e=jt(e),!(e instanceof hg))return!1;const n=this._repo===e._repo,r=jm(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+_P(this._path)}}class dr extends hg{constructor(e,n){super(e,n,new Gm,!1)}get parent(){const e=HE(this._path);return e===null?null:new dr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class hs{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new He(e),r=ps(this.ref,e);return new hs(this._node.getChild(n),r,at)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new hs(i,ps(this.ref,r),at)))}hasChild(e){const n=new He(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Yt(t,e){return t=jt(t),t._checkNotDeleted("ref"),e!==void 0?ps(t._root,e):t._root}function ps(t,e){return t=jt(t),Se(t._path)===null?s2("child","path",e,!1):bC("child","path",e,!1),new dr(t._repo,pt(t._path,e))}function m0(t){return t=jt(t),new N2(t._repo,t._path)}function g0(t,e){t=jt(t),Vi("push",t._path),bc("push",e,t._path,!0);const n=TC(t._repo),r=x2(n),i=ps(t,r),o=ps(t,r);let s;return e!=null?s=gi(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function A2(t){return Vi("remove",t._path),gi(t,null)}function gi(t,e){t=jt(t),Vi("set",t._path),bc("set",e,t._path,!1);const n=new mr;return g2(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Ks(t){t=jt(t);const e=new LC(()=>{}),n=new hd(e);return m2(t._repo,t,n).then(r=>new hs(r,new dr(t._repo,t._path),t._queryParams.getIndex()))}class hd{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new DC("value",this,new hs(e.snapshotNode,new dr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new MC(this,e,n):null}matches(e){return e instanceof hd?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class pg{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new MC(this,e,n):null}createEvent(e,n){G(e.childName!=null,"Child events should have a childName.");const r=ps(new dr(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new DC(e.type,this,new hs(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof pg?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function mg(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){const l=n,u=(c,d)=>{f0(t._repo,t,a),l(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const s=new LC(n,o||void 0),a=e==="value"?new hd(s):new pg(e,s);return E2(t._repo,t,a),()=>f0(t._repo,t,a)}function FC(t,e,n,r){return mg(t,"value",e,n,r)}function R2(t,e,n,r){return mg(t,"child_added",e,n,r)}function P2(t,e,n,r){return mg(t,"child_removed",e,n,r)}AO(dr);MO(dr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="FIREBASE_DATABASE_EMULATOR_HOST",ip={};let D2=!1;function M2(t,e,n,r){t.repoInfo_=new ME(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function L2(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Ar("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pt("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=h0(o,i),a=s.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[O2]),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=h0(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const c=i&&l?new Yo(Yo.OWNER):new KR(t.name,t.options,e);a2("Invalid Firebase Database URL",s),be(s.path)||Ar("Database URL must point to the root of a Firebase Database (not including a child path).");const d=U2(a,t,c,new GR(t.name,n));return new V2(d,t)}function F2(t,e){const n=ip[e];(!n||n[t.key]!==t)&&Ar(`Database ${e}(${t.repoInfo_}) has already been deleted.`),C2(t),delete n[t.key]}function U2(t,e,n,r){let i=ip[e.name];i||(i={},ip[e.name]=i);let o=i[t.toURLString()];return o&&Ar("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new f2(t,D2,n,r),i[t.toURLString()]=o,o}class V2{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(h2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new dr(this._repo,De())),this._rootInternal}_delete(){return this._rootInternal!==null&&(F2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ar("Cannot call "+e+" on a deleted database.")}}function $2(t=Lw(),e){const n=Im(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=rx("database");r&&B2(n,...r)}return n}function B2(t,e,n,r={}){t=jt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ar("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ar('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Yo(Yo.OWNER);else if(r.mockUserToken){const s=typeof r.mockUserToken=="string"?r.mockUserToken:ix(r.mockUserToken,t.app.options.projectId);o=new Yo(s)}M2(i,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t){RR(Ss),as(new eo("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return L2(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),li(Oy,Dy,t),li(Oy,Dy,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2={".sv":"timestamp"};function UC(){return z2}br.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};br.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};j2();const H2={apiKey:"AIzaSyCMrFZfIT2N4iFuKPrpRmRbwRHKldT5534",authDomain:"csduck-24ba1.firebaseapp.com",projectId:"csduck-24ba1",storageBucket:"csduck-24ba1.appspot.com",messagingSenderId:"724400202088",appId:"1:724400202088:web:fe78ddac3e52ac2634f6dd",measurementId:"G-ZYS4MBVE7L",databaseURL:"https://csduck-24ba1-default-rtdb.asia-southeast1.firebasedatabase.app/"},VC=Mw(H2),Q=wE(VC),Qt=$2(VC);function W2(t){return h.useEffect(()=>{const e=Q.currentUser;if(e){const n=e.uid,r=Yt(Qt,"users/"+n+"/connection"),i=Yt(Qt,"users/"+n+"/lastOnline"),o=Yt(Qt,".info/connected");FC(o,function(s){s.val()&&(gi(r,"Online"),m0(r).set("Offline"),m0(i).set(UC()))})}},[t.auth]),y(tt,{})}function G2(t){if(t){const e=t.uid,n=Yt(Qt,"users/"+e+"/connection"),r=Yt(Qt,"users/"+e+"/lastOnline");gi(n,"Offline"),gi(r,UC())}}const K2="/assets/iconicDuck-79e10497.png",Ve="https://csduck-flyctl.fly.dev";function q2(t){const e=Kn();h.useEffect(()=>Q.onAuthStateChanged(()=>t.setAuth(Q.currentUser!=null)),[]);async function n(){G2(Q.currentUser),await Q.signOut(),e("/login")}return y("div",{children:K("nav",{className:"navbar navbar-expand ",style:{backgroundColor:"#ffffff",boxShadow:"0px 5px 10px lightgrey"},children:[y(er,{className:"navbar navbar-brand",to:"/",children:y("img",{style:{height:"5rem",borderRadius:"10px",marginLeft:"30%",boxShadow:"0px 5px 10px lightgrey"},src:K2})}),y("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:y("span",{className:"navbar-toggler-icon"})}),y("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:y("ul",{className:"navbar-nav ml-auto",children:y("li",{className:"nav-item "})})}),K("form",{className:"container-fluid justify-content-start d-flex flex-row-reverse",children:[!t.auth&&y(er,{className:"btn btn-sm btn-outline-secondary",to:"/register",children:"Register"}),t.auth?K(tt,{children:[y("button",{className:"btn btn-outline-success me-2",type:"button",onClick:n,children:"Logout"}),y(er,{className:"btn btn-outline-success me-2",to:"/mytasks",children:"My Tasks"}),y("a",{className:"btn btn-outline-success me-2",href:`${Ve}/googlecalendar`,target:"_blank",role:"button",children:"Connect to google calendar 📅"}),y(er,{className:"btn btn-outline-success me-2",to:"/settings/profile",children:"Settings"})]}):y(er,{className:"btn btn-outline-success me-2",to:"/login",name:"login-btn",children:"Login"})]})]})})}function ao(t){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ao(t)}function Y2(t,e){if(ao(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ao(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $C(t){var e=Y2(t,"string");return ao(e)==="symbol"?e:String(e)}function na(t,e,n){return e=$C(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v0(Object(n),!0).forEach(function(r){na(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q2(t){if(Array.isArray(t))return t}function J2(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function op(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BC(t,e){if(t){if(typeof t=="string")return op(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return op(t,e)}}function X2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nn(t,e){return Q2(t)||J2(t,e)||BC(t,e)||X2()}function gg(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function On(t,e){if(t==null)return{};var n=gg(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var Z2=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function eD(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,o=t.defaultValue,s=o===void 0?null:o,a=t.inputValue,l=t.menuIsOpen,u=t.onChange,c=t.onInputChange,d=t.onMenuClose,f=t.onMenuOpen,g=t.value,v=On(t,Z2),w=h.useState(a!==void 0?a:n),C=Nn(w,2),m=C[0],p=C[1],_=h.useState(l!==void 0?l:i),b=Nn(_,2),I=b[0],k=b[1],T=h.useState(g!==void 0?g:s),D=Nn(T,2),Y=D[0],H=D[1],pe=h.useCallback(function(N,F){typeof u=="function"&&u(N,F),H(N)},[u]),me=h.useCallback(function(N,F){var x;typeof c=="function"&&(x=c(N,F)),p(x!==void 0?x:N)},[c]),Ce=h.useCallback(function(){typeof f=="function"&&f(),k(!0)},[f]),M=h.useCallback(function(){typeof d=="function"&&d(),k(!1)},[d]),P=a!==void 0?a:m,L=l!==void 0?l:I,U=g!==void 0?g:Y;return ae(ae({},v),{},{inputValue:P,menuIsOpen:L,onChange:pe,onInputChange:me,onMenuClose:M,onMenuOpen:Ce,value:U})}function re(){return re=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},re.apply(this,arguments)}function tD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$C(r.key),r)}}function nD(t,e,n){return e&&y0(t.prototype,e),n&&y0(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ic(t,e){return Ic=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ic(t,e)}function rD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ic(t,e)}function kc(t){return kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kc(t)}function iD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oD(t,e){if(e&&(ao(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jC(t)}function sD(t){var e=iD();return function(){var r=kc(t),i;if(e){var o=kc(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return oD(this,i)}}function aD(t){if(Array.isArray(t))return op(t)}function lD(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zC(t){return aD(t)||lD(t)||BC(t)||uD()}function cD(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function dD(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var fD=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(dD(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=cD(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ft="-ms-",Tc="-moz-",Fe="-webkit-",HC="comm",vg="rule",yg="decl",hD="@import",WC="@keyframes",pD="@layer",mD=Math.abs,pd=String.fromCharCode,gD=Object.assign;function vD(t,e){return Rt(t,0)^45?(((e<<2^Rt(t,0))<<2^Rt(t,1))<<2^Rt(t,2))<<2^Rt(t,3):0}function GC(t){return t.trim()}function yD(t,e){return(t=e.exec(t))?t[0]:t}function Ue(t,e,n){return t.replace(e,n)}function sp(t,e){return t.indexOf(e)}function Rt(t,e){return t.charCodeAt(e)|0}function Qa(t,e,n){return t.slice(e,n)}function Jn(t){return t.length}function _g(t){return t.length}function Jl(t,e){return e.push(t),t}function _D(t,e){return t.map(e).join("")}var md=1,ms=1,KC=0,sn=0,vt=0,xs="";function gd(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:md,column:ms,length:s,return:""}}function qs(t,e){return gD(gd("",null,null,"",null,null,0),t,{length:-t.length},e)}function wD(){return vt}function ED(){return vt=sn>0?Rt(xs,--sn):0,ms--,vt===10&&(ms=1,md--),vt}function gn(){return vt=sn<KC?Rt(xs,sn++):0,ms++,vt===10&&(ms=1,md++),vt}function ar(){return Rt(xs,sn)}function Cu(){return sn}function gl(t,e){return Qa(xs,t,e)}function Ja(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qC(t){return md=ms=1,KC=Jn(xs=t),sn=0,[]}function YC(t){return xs="",t}function Su(t){return GC(gl(sn-1,ap(t===91?t+2:t===40?t+1:t)))}function CD(t){for(;(vt=ar())&&vt<33;)gn();return Ja(t)>2||Ja(vt)>3?"":" "}function SD(t,e){for(;--e&&gn()&&!(vt<48||vt>102||vt>57&&vt<65||vt>70&&vt<97););return gl(t,Cu()+(e<6&&ar()==32&&gn()==32))}function ap(t){for(;gn();)switch(vt){case t:return sn;case 34:case 39:t!==34&&t!==39&&ap(vt);break;case 40:t===41&&ap(t);break;case 92:gn();break}return sn}function bD(t,e){for(;gn()&&t+vt!==47+10;)if(t+vt===42+42&&ar()===47)break;return"/*"+gl(e,sn-1)+"*"+pd(t===47?t:gn())}function ID(t){for(;!Ja(ar());)gn();return gl(t,sn)}function kD(t){return YC(bu("",null,null,null,[""],t=qC(t),0,[0],t))}function bu(t,e,n,r,i,o,s,a,l){for(var u=0,c=0,d=s,f=0,g=0,v=0,w=1,C=1,m=1,p=0,_="",b=i,I=o,k=r,T=_;C;)switch(v=p,p=gn()){case 40:if(v!=108&&Rt(T,d-1)==58){sp(T+=Ue(Su(p),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:T+=Su(p);break;case 9:case 10:case 13:case 32:T+=CD(v);break;case 92:T+=SD(Cu()-1,7);continue;case 47:switch(ar()){case 42:case 47:Jl(TD(bD(gn(),Cu()),e,n),l);break;default:T+="/"}break;case 123*w:a[u++]=Jn(T)*m;case 125*w:case 59:case 0:switch(p){case 0:case 125:C=0;case 59+c:m==-1&&(T=Ue(T,/\f/g,"")),g>0&&Jn(T)-d&&Jl(g>32?w0(T+";",r,n,d-1):w0(Ue(T," ","")+";",r,n,d-2),l);break;case 59:T+=";";default:if(Jl(k=_0(T,e,n,u,c,i,a,_,b=[],I=[],d),o),p===123)if(c===0)bu(T,e,k,k,b,o,d,a,I);else switch(f===99&&Rt(T,3)===110?100:f){case 100:case 108:case 109:case 115:bu(t,k,k,r&&Jl(_0(t,k,k,0,0,i,a,_,i,b=[],d),I),i,I,d,a,r?b:I);break;default:bu(T,k,k,k,[""],I,0,a,I)}}u=c=g=0,w=m=1,_=T="",d=s;break;case 58:d=1+Jn(T),g=v;default:if(w<1){if(p==123)--w;else if(p==125&&w++==0&&ED()==125)continue}switch(T+=pd(p),p*w){case 38:m=c>0?1:(T+="\f",-1);break;case 44:a[u++]=(Jn(T)-1)*m,m=1;break;case 64:ar()===45&&(T+=Su(gn())),f=ar(),c=d=Jn(_=T+=ID(Cu())),p++;break;case 45:v===45&&Jn(T)==2&&(w=0)}}return o}function _0(t,e,n,r,i,o,s,a,l,u,c){for(var d=i-1,f=i===0?o:[""],g=_g(f),v=0,w=0,C=0;v<r;++v)for(var m=0,p=Qa(t,d+1,d=mD(w=s[v])),_=t;m<g;++m)(_=GC(w>0?f[m]+" "+p:Ue(p,/&\f/g,f[m])))&&(l[C++]=_);return gd(t,e,n,i===0?vg:a,l,u,c)}function TD(t,e,n){return gd(t,e,n,HC,pd(wD()),Qa(t,2,-2),0)}function w0(t,e,n,r){return gd(t,e,n,yg,Qa(t,0,r),Qa(t,r+1,-1),r)}function Jo(t,e){for(var n="",r=_g(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function xD(t,e,n,r){switch(t.type){case pD:if(t.children.length)break;case hD:case yg:return t.return=t.return||t.value;case HC:return"";case WC:return t.return=t.value+"{"+Jo(t.children,r)+"}";case vg:t.value=t.props.join(",")}return Jn(n=Jo(t.children,r))?t.return=t.value+"{"+n+"}":""}function ND(t){var e=_g(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function AD(t){return function(e){e.root||(e=e.return)&&t(e)}}function RD(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var PD=function(e,n,r){for(var i=0,o=0;i=o,o=ar(),i===38&&o===12&&(n[r]=1),!Ja(o);)gn();return gl(e,sn)},OD=function(e,n){var r=-1,i=44;do switch(Ja(i)){case 0:i===38&&ar()===12&&(n[r]=1),e[r]+=PD(sn-1,n,r);break;case 2:e[r]+=Su(i);break;case 4:if(i===44){e[++r]=ar()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=pd(i)}while(i=gn());return e},DD=function(e,n){return YC(OD(qC(e),n))},E0=new WeakMap,MD=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!E0.get(r))&&!i){E0.set(e,!0);for(var o=[],s=DD(n,o),a=r.props,l=0,u=0;l<s.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=o[l]?s[l].replace(/&\f/g,a[c]):a[c]+" "+s[l]}}},LD=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function QC(t,e){switch(vD(t,e)){case 5103:return Fe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Fe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Fe+t+Tc+t+Ft+t+t;case 6828:case 4268:return Fe+t+Ft+t+t;case 6165:return Fe+t+Ft+"flex-"+t+t;case 5187:return Fe+t+Ue(t,/(\w+).+(:[^]+)/,Fe+"box-$1$2"+Ft+"flex-$1$2")+t;case 5443:return Fe+t+Ft+"flex-item-"+Ue(t,/flex-|-self/,"")+t;case 4675:return Fe+t+Ft+"flex-line-pack"+Ue(t,/align-content|flex-|-self/,"")+t;case 5548:return Fe+t+Ft+Ue(t,"shrink","negative")+t;case 5292:return Fe+t+Ft+Ue(t,"basis","preferred-size")+t;case 6060:return Fe+"box-"+Ue(t,"-grow","")+Fe+t+Ft+Ue(t,"grow","positive")+t;case 4554:return Fe+Ue(t,/([^-])(transform)/g,"$1"+Fe+"$2")+t;case 6187:return Ue(Ue(Ue(t,/(zoom-|grab)/,Fe+"$1"),/(image-set)/,Fe+"$1"),t,"")+t;case 5495:case 3959:return Ue(t,/(image-set\([^]*)/,Fe+"$1$`$1");case 4968:return Ue(Ue(t,/(.+:)(flex-)?(.*)/,Fe+"box-pack:$3"+Ft+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Fe+t+t;case 4095:case 3583:case 4068:case 2532:return Ue(t,/(.+)-inline(.+)/,Fe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Jn(t)-1-e>6)switch(Rt(t,e+1)){case 109:if(Rt(t,e+4)!==45)break;case 102:return Ue(t,/(.+:)(.+)-([^]+)/,"$1"+Fe+"$2-$3$1"+Tc+(Rt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~sp(t,"stretch")?QC(Ue(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Rt(t,e+1)!==115)break;case 6444:switch(Rt(t,Jn(t)-3-(~sp(t,"!important")&&10))){case 107:return Ue(t,":",":"+Fe)+t;case 101:return Ue(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Fe+(Rt(t,14)===45?"inline-":"")+"box$3$1"+Fe+"$2$3$1"+Ft+"$2box$3")+t}break;case 5936:switch(Rt(t,e+11)){case 114:return Fe+t+Ft+Ue(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Fe+t+Ft+Ue(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Fe+t+Ft+Ue(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Fe+t+Ft+t+t}return t}var FD=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case yg:e.return=QC(e.value,e.length);break;case WC:return Jo([qs(e,{value:Ue(e.value,"@","@"+Fe)})],i);case vg:if(e.length)return _D(e.props,function(o){switch(yD(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Jo([qs(e,{props:[Ue(o,/:(read-\w+)/,":"+Tc+"$1")]})],i);case"::placeholder":return Jo([qs(e,{props:[Ue(o,/:(plac\w+)/,":"+Fe+"input-$1")]}),qs(e,{props:[Ue(o,/:(plac\w+)/,":"+Tc+"$1")]}),qs(e,{props:[Ue(o,/:(plac\w+)/,Ft+"input-$1")]})],i)}return""})}},UD=[FD],VD=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var C=w.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=e.stylisPlugins||UD,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var C=w.getAttribute("data-emotion").split(" "),m=1;m<C.length;m++)o[C[m]]=!0;a.push(w)});var l,u=[MD,LD];{var c,d=[xD,AD(function(w){c.insert(w)})],f=ND(u.concat(i,d)),g=function(C){return Jo(kD(C),f)};l=function(C,m,p,_){c=p,g(C?C+"{"+m.styles+"}":m.styles),_&&(v.inserted[m.name]=!0)}}var v={key:n,sheet:new fD({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return v.sheet.hydrate(a),v},JC={exports:{}},We={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tt=typeof Symbol=="function"&&Symbol.for,wg=Tt?Symbol.for("react.element"):60103,Eg=Tt?Symbol.for("react.portal"):60106,vd=Tt?Symbol.for("react.fragment"):60107,yd=Tt?Symbol.for("react.strict_mode"):60108,_d=Tt?Symbol.for("react.profiler"):60114,wd=Tt?Symbol.for("react.provider"):60109,Ed=Tt?Symbol.for("react.context"):60110,Cg=Tt?Symbol.for("react.async_mode"):60111,Cd=Tt?Symbol.for("react.concurrent_mode"):60111,Sd=Tt?Symbol.for("react.forward_ref"):60112,bd=Tt?Symbol.for("react.suspense"):60113,$D=Tt?Symbol.for("react.suspense_list"):60120,Id=Tt?Symbol.for("react.memo"):60115,kd=Tt?Symbol.for("react.lazy"):60116,BD=Tt?Symbol.for("react.block"):60121,jD=Tt?Symbol.for("react.fundamental"):60117,zD=Tt?Symbol.for("react.responder"):60118,HD=Tt?Symbol.for("react.scope"):60119;function wn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case wg:switch(t=t.type,t){case Cg:case Cd:case vd:case _d:case yd:case bd:return t;default:switch(t=t&&t.$$typeof,t){case Ed:case Sd:case kd:case Id:case wd:return t;default:return e}}case Eg:return e}}}function XC(t){return wn(t)===Cd}We.AsyncMode=Cg;We.ConcurrentMode=Cd;We.ContextConsumer=Ed;We.ContextProvider=wd;We.Element=wg;We.ForwardRef=Sd;We.Fragment=vd;We.Lazy=kd;We.Memo=Id;We.Portal=Eg;We.Profiler=_d;We.StrictMode=yd;We.Suspense=bd;We.isAsyncMode=function(t){return XC(t)||wn(t)===Cg};We.isConcurrentMode=XC;We.isContextConsumer=function(t){return wn(t)===Ed};We.isContextProvider=function(t){return wn(t)===wd};We.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===wg};We.isForwardRef=function(t){return wn(t)===Sd};We.isFragment=function(t){return wn(t)===vd};We.isLazy=function(t){return wn(t)===kd};We.isMemo=function(t){return wn(t)===Id};We.isPortal=function(t){return wn(t)===Eg};We.isProfiler=function(t){return wn(t)===_d};We.isStrictMode=function(t){return wn(t)===yd};We.isSuspense=function(t){return wn(t)===bd};We.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===vd||t===Cd||t===_d||t===yd||t===bd||t===$D||typeof t=="object"&&t!==null&&(t.$$typeof===kd||t.$$typeof===Id||t.$$typeof===wd||t.$$typeof===Ed||t.$$typeof===Sd||t.$$typeof===jD||t.$$typeof===zD||t.$$typeof===HD||t.$$typeof===BD)};We.typeOf=wn;JC.exports=We;var WD=JC.exports,ZC=WD,GD={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},KD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},eS={};eS[ZC.ForwardRef]=GD;eS[ZC.Memo]=KD;var qD=!0;function YD(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var tS=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||qD===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},QD=function(e,n,r){tS(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function JD(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var XD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ZD=/[A-Z]|^ms/g,eM=/_EMO_([^_]+?)_([^]*?)_EMO_/g,nS=function(e){return e.charCodeAt(1)===45},C0=function(e){return e!=null&&typeof e!="boolean"},Nf=RD(function(t){return nS(t)?t:t.replace(ZD,"-$&").toLowerCase()}),S0=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(eM,function(r,i,o){return Xn={name:i,styles:o,next:Xn},i})}return XD[e]!==1&&!nS(e)&&typeof n=="number"&&n!==0?n+"px":n};function Xa(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Xn={name:n.name,styles:n.styles,next:Xn},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Xn={name:r.name,styles:r.styles,next:Xn},r=r.next;var i=n.styles+";";return i}return tM(t,e,n)}case"function":{if(t!==void 0){var o=Xn,s=n(t);return Xn=o,Xa(t,e,s)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function tM(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Xa(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")e!=null&&e[s]!==void 0?r+=o+"{"+e[s]+"}":C0(s)&&(r+=Nf(o)+":"+S0(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var a=0;a<s.length;a++)C0(s[a])&&(r+=Nf(o)+":"+S0(o,s[a])+";");else{var l=Xa(t,e,s);switch(o){case"animation":case"animationName":{r+=Nf(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var b0=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Xn,rS=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";Xn=void 0;var s=e[0];s==null||s.raw===void 0?(i=!1,o+=Xa(r,n,s)):o+=s[0];for(var a=1;a<e.length;a++)o+=Xa(r,n,e[a]),i&&(o+=s[a]);b0.lastIndex=0;for(var l="",u;(u=b0.exec(o))!==null;)l+="-"+u[1];var c=JD(o)+l;return{name:c,styles:o,next:Xn}},nM=function(e){return e()},rM=Kg["useInsertionEffect"]?Kg["useInsertionEffect"]:!1,iM=rM||nM,Sg={}.hasOwnProperty,iS=h.createContext(typeof HTMLElement<"u"?VD({key:"css"}):null);iS.Provider;var oM=function(e){return h.forwardRef(function(n,r){var i=h.useContext(iS);return e(n,i,r)})},sM=h.createContext({}),lp="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",aM=function(e,n){var r={};for(var i in n)Sg.call(n,i)&&(r[i]=n[i]);return r[lp]=e,r},lM=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return tS(n,r,i),iM(function(){return QD(n,r,i)}),null},uM=oM(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[lp],o=[r],s="";typeof t.className=="string"?s=YD(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=rS(o,void 0,h.useContext(sM));s+=e.key+"-"+a.name;var l={};for(var u in t)Sg.call(t,u)&&u!=="css"&&u!==lp&&(l[u]=t[u]);return l.ref=n,l.className=s,h.createElement(h.Fragment,null,h.createElement(lM,{cache:e,serialized:a,isStringTag:typeof i=="string"}),h.createElement(i,l))}),cM=uM,fe=function(e,n){var r=arguments;if(n==null||!Sg.call(n,"css"))return h.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=cM,o[1]=aM(e,n);for(var s=2;s<i;s++)o[s]=r[s];return h.createElement.apply(null,o)};function bg(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return rS(e)}var dM=function(){var e=bg.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function fM(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function hM(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const pM=["top","right","bottom","left"];pM.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function lr(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function oS(t){return lr(t).getComputedStyle(t)}function sS(t){return t instanceof lr(t).Node}function aS(t){return sS(t)?(t.nodeName||"").toLowerCase():""}function Ig(t){return t instanceof lr(t).HTMLElement}function $i(t){return t instanceof lr(t).Element}function I0(t){return typeof ShadowRoot>"u"?!1:t instanceof lr(t).ShadowRoot||t instanceof ShadowRoot}function lS(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=oS(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function mM(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function gM(t){return["html","body","#document"].includes(aS(t))}const xc=Math.round;function vM(t){const e=oS(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ig(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=xc(n)!==o||xc(r)!==s;return a&&(n=o,r=s),{width:n,height:r,fallback:a}}function uS(t){return $i(t)?t:t.contextElement}const cS={x:1,y:1};function Af(t){const e=uS(t);if(!Ig(e))return cS;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:o}=vM(e);let s=(o?xc(n.width):n.width)/r,a=(o?xc(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const k0={x:0,y:0};function yM(t,e,n){var r,i;if(e===void 0&&(e=!0),!mM())return k0;const o=t?lr(t):window;return!n||e&&n!==o?k0:{x:((r=o.visualViewport)==null?void 0:r.offsetLeft)||0,y:((i=o.visualViewport)==null?void 0:i.offsetTop)||0}}function T0(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=uS(t);let s=cS;e&&(r?$i(r)&&(s=Af(r)):s=Af(t));const a=yM(o,n,r);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,c=i.width/s.x,d=i.height/s.y;if(o){const f=lr(o),g=r&&$i(r)?lr(r):r;let v=f.frameElement;for(;v&&r&&g!==f;){const w=Af(v),C=v.getBoundingClientRect(),m=getComputedStyle(v);C.x+=(v.clientLeft+parseFloat(m.paddingLeft))*w.x,C.y+=(v.clientTop+parseFloat(m.paddingTop))*w.y,l*=w.x,u*=w.y,c*=w.x,d*=w.y,l+=C.x,u+=C.y,v=lr(v).frameElement}}return hM({width:c,height:d,x:l,y:u})}function _M(t){return((sS(t)?t.ownerDocument:t.document)||window.document).documentElement}function wM(t){if(aS(t)==="html")return t;const e=t.assignedSlot||t.parentNode||I0(t)&&t.host||_M(t);return I0(e)?e.host:e}function dS(t){const e=wM(t);return gM(e)?e.ownerDocument.body:Ig(e)&&lS(e)?e:dS(e)}function Iu(t,e){var n;e===void 0&&(e=[]);const r=dS(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=lr(r);return i?e.concat(o,o.visualViewport||[],lS(r)?r:[]):e.concat(r,Iu(r))}function EM(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=!0,animationFrame:a=!1}=r,l=i||o?[...$i(t)?Iu(t):t.contextElement?Iu(t.contextElement):[],...Iu(e)]:[];l.forEach(f=>{const g=!$i(f)&&f.toString().includes("V");!i||a&&!g||f.addEventListener("scroll",n,{passive:!0}),o&&f.addEventListener("resize",n)});let u,c=null;s&&(c=new ResizeObserver(()=>{n()}),$i(t)&&!a&&c.observe(t),$i(t)||!t.contextElement||a||c.observe(t.contextElement),c.observe(e));let d=a?T0(t):null;return a&&function f(){const g=T0(t);!d||g.x===d.x&&g.y===d.y&&g.width===d.width&&g.height===d.height||n(),d=g,u=requestAnimationFrame(f)}(),n(),()=>{var f;l.forEach(g=>{i&&g.removeEventListener("scroll",n),o&&g.removeEventListener("resize",n)}),(f=c)==null||f.disconnect(),c=null,a&&cancelAnimationFrame(u)}}var up=h.useLayoutEffect,CM=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Nc=function(){};function SM(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function bM(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(e&&t)for(var s in e)e.hasOwnProperty(s)&&e[s]&&o.push("".concat(SM(t,s)));return o.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var x0=function(e){return OM(e)?e.filter(Boolean):ao(e)==="object"&&e!==null?[e]:[]},fS=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=On(e,CM);return ae({},n)},dt=function(e,n,r){var i=e.cx,o=e.getStyles,s=e.getClassNames,a=e.className;return{css:o(n,e),className:i(r??{},s(n,e),a)}};function Td(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function IM(t){return Td(t)?window.innerHeight:t.clientHeight}function hS(t){return Td(t)?window.pageYOffset:t.scrollTop}function Ac(t,e){if(Td(t)){window.scrollTo(0,e);return}t.scrollTop=e}function kM(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function TM(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Xl(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Nc,i=hS(t),o=e-i,s=10,a=0;function l(){a+=s;var u=TM(a,i,o,n);Ac(t,u),a<n?window.requestAnimationFrame(l):r(t)}l()}function N0(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?Ac(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&Ac(t,Math.max(e.offsetTop-i,0))}function xM(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function A0(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function NM(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var pS=!1,AM={get passive(){return pS=!0}},Zl=typeof window<"u"?window:{};Zl.addEventListener&&Zl.removeEventListener&&(Zl.addEventListener("p",Nc,AM),Zl.removeEventListener("p",Nc,!1));var RM=pS;function PM(t){return t!=null}function OM(t){return Array.isArray(t)}function eu(t,e,n){return t?e:n}var DM=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=Object.entries(e).filter(function(s){var a=Nn(s,1),l=a[0];return!r.includes(l)});return o.reduce(function(s,a){var l=Nn(a,2),u=l[0],c=l[1];return s[u]=c,s},{})};function MM(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,o=t.shouldScroll,s=t.isFixedPosition,a=t.controlHeight,l=kM(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var c=l.getBoundingClientRect(),d=c.height,f=n.getBoundingClientRect(),g=f.bottom,v=f.height,w=f.top,C=n.offsetParent.getBoundingClientRect(),m=C.top,p=s?window.innerHeight:IM(l),_=hS(l),b=parseInt(getComputedStyle(n).marginBottom,10),I=parseInt(getComputedStyle(n).marginTop,10),k=m-I,T=p-w,D=k+_,Y=d-_-w,H=g-p+_+b,pe=_+w-I,me=160;switch(i){case"auto":case"bottom":if(T>=v)return{placement:"bottom",maxHeight:e};if(Y>=v&&!s)return o&&Xl(l,H,me),{placement:"bottom",maxHeight:e};if(!s&&Y>=r||s&&T>=r){o&&Xl(l,H,me);var Ce=s?T-b:Y-b;return{placement:"bottom",maxHeight:Ce}}if(i==="auto"||s){var M=e,P=s?k:D;return P>=r&&(M=Math.min(P-b-a,e)),{placement:"top",maxHeight:M}}if(i==="bottom")return o&&Ac(l,H),{placement:"bottom",maxHeight:e};break;case"top":if(k>=v)return{placement:"top",maxHeight:e};if(D>=v&&!s)return o&&Xl(l,pe,me),{placement:"top",maxHeight:e};if(!s&&D>=r||s&&k>=r){var L=e;return(!s&&D>=r||s&&k>=r)&&(L=s?k-I:D-I),o&&Xl(l,pe,me),{placement:"top",maxHeight:L}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}function LM(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var mS=function(e){return e==="auto"?"bottom":e},FM=function(e,n){var r,i=e.placement,o=e.theme,s=o.borderRadius,a=o.spacing,l=o.colors;return ae((r={label:"menu"},na(r,LM(i),"100%"),na(r,"position","absolute"),na(r,"width","100%"),na(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},gS=h.createContext(null),UM=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,o=e.menuPlacement,s=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,u=h.useContext(gS)||{},c=u.setPortalPlacement,d=h.useRef(null),f=h.useState(i),g=Nn(f,2),v=g[0],w=g[1],C=h.useState(null),m=Nn(C,2),p=m[0],_=m[1],b=l.spacing.controlHeight;return up(function(){var I=d.current;if(I){var k=s==="fixed",T=a&&!k,D=MM({maxHeight:i,menuEl:I,minHeight:r,placement:o,shouldScroll:T,isFixedPosition:k,controlHeight:b});w(D.maxHeight),_(D.placement),c==null||c(D.placement)}},[i,o,s,a,r,c,b]),n({ref:d,placerProps:ae(ae({},e),{},{placement:p||mS(o),maxHeight:v})})},VM=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return fe("div",re({},dt(e,"menu",{menu:!0}),{ref:r},i),n)},$M=VM,BM=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return ae({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},jM=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,o=e.isMulti;return fe("div",re({},dt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:i},r),n)},vS=function(e,n){var r=e.theme,i=r.spacing.baseUnit,o=r.colors;return ae({textAlign:"center"},n?{}:{color:o.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},zM=vS,HM=vS,yS=function(e){var n=e.children,r=e.innerProps;return fe("div",re({},dt(e,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)};yS.defaultProps={children:"No options"};var _S=function(e){var n=e.children,r=e.innerProps;return fe("div",re({},dt(e,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)};_S.defaultProps={children:"Loading..."};var WM=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},GM=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,o=e.innerProps,s=e.menuPlacement,a=e.menuPosition,l=h.useRef(null),u=h.useRef(null),c=h.useState(mS(s)),d=Nn(c,2),f=d[0],g=d[1],v=h.useMemo(function(){return{setPortalPlacement:g}},[]),w=h.useState(null),C=Nn(w,2),m=C[0],p=C[1],_=h.useCallback(function(){if(i){var T=xM(i),D=a==="fixed"?0:window.pageYOffset,Y=T[f]+D;(Y!==(m==null?void 0:m.offset)||T.left!==(m==null?void 0:m.rect.left)||T.width!==(m==null?void 0:m.rect.width))&&p({offset:Y,rect:T})}},[i,a,f,m==null?void 0:m.offset,m==null?void 0:m.rect.left,m==null?void 0:m.rect.width]);up(function(){_()},[_]);var b=h.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),i&&l.current&&(u.current=EM(i,l.current,_,{elementResize:"ResizeObserver"in window}))},[i,_]);up(function(){b()},[b]);var I=h.useCallback(function(T){l.current=T,b()},[b]);if(!n&&a!=="fixed"||!m)return null;var k=fe("div",re({ref:I},dt(ae(ae({},e),{},{offset:m.offset,position:a,rect:m.rect}),"menuPortal",{"menu-portal":!0}),o),r);return fe(gS.Provider,{value:v},n?pm.createPortal(k,n):k)},KM=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},qM=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,o=e.isRtl;return fe("div",re({},dt(e,"container",{"--is-disabled":i,"--is-rtl":o}),r),n)},YM=function(e,n){var r=e.theme.spacing,i=e.isMulti,o=e.hasValue,s=e.selectProps.controlShouldRenderValue;return ae({alignItems:"center",display:i&&o&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},QM=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,o=e.hasValue;return fe("div",re({},dt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":o}),r),n)},JM=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},XM=function(e){var n=e.children,r=e.innerProps;return fe("div",re({},dt(e,"indicatorsContainer",{indicators:!0}),r),n)},R0,ZM=["size"],eL={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},wS=function(e){var n=e.size,r=On(e,ZM);return fe("svg",re({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:eL},r))},kg=function(e){return fe(wS,re({size:20},e),fe("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},ES=function(e){return fe(wS,re({size:20},e),fe("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},CS=function(e,n){var r=e.isFocused,i=e.theme,o=i.spacing.baseUnit,s=i.colors;return ae({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?s.neutral60:s.neutral20,padding:o*2,":hover":{color:r?s.neutral80:s.neutral40}})},tL=CS,nL=function(e){var n=e.children,r=e.innerProps;return fe("div",re({},dt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||fe(ES,null))},rL=CS,iL=function(e){var n=e.children,r=e.innerProps;return fe("div",re({},dt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||fe(kg,null))},oL=function(e,n){var r=e.isDisabled,i=e.theme,o=i.spacing.baseUnit,s=i.colors;return ae({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?s.neutral10:s.neutral20,marginBottom:o*2,marginTop:o*2})},sL=function(e){var n=e.innerProps;return fe("span",re({},n,dt(e,"indicatorSeparator",{"indicator-separator":!0})))},aL=dM(R0||(R0=fM([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),lL=function(e,n){var r=e.isFocused,i=e.size,o=e.theme,s=o.colors,a=o.spacing.baseUnit;return ae({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?s.neutral60:s.neutral20,padding:a*2})},Rf=function(e){var n=e.delay,r=e.offset;return fe("span",{css:bg({animation:"".concat(aL," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},SS=function(e){var n=e.innerProps,r=e.isRtl;return fe("div",re({},dt(e,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),fe(Rf,{delay:0,offset:r}),fe(Rf,{delay:160,offset:!0}),fe(Rf,{delay:320,offset:!r}))};SS.defaultProps={size:4};var uL=function(e,n){var r=e.isDisabled,i=e.isFocused,o=e.theme,s=o.colors,a=o.borderRadius,l=o.spacing;return ae({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?s.neutral5:s.neutral0,borderColor:r?s.neutral10:i?s.primary:s.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:i?s.primary:s.neutral30}})},cL=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,o=e.innerRef,s=e.innerProps,a=e.menuIsOpen;return fe("div",re({ref:o},dt(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),s),n)},dL=cL,fL=["data"],hL=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},pL=function(e){var n=e.children,r=e.cx,i=e.getStyles,o=e.getClassNames,s=e.Heading,a=e.headingProps,l=e.innerProps,u=e.label,c=e.theme,d=e.selectProps;return fe("div",re({},dt(e,"group",{group:!0}),l),fe(s,re({},a,{selectProps:d,theme:c,getStyles:i,getClassNames:o,cx:r}),u),fe("div",null,n))},mL=function(e,n){var r=e.theme,i=r.colors,o=r.spacing;return ae({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},gL=function(e){var n=fS(e);n.data;var r=On(n,fL);return fe("div",re({},dt(e,"groupHeading",{"group-heading":!0}),r))},vL=pL,yL=["innerRef","isDisabled","isHidden","inputClassName"],_L=function(e,n){var r=e.isDisabled,i=e.value,o=e.theme,s=o.spacing,a=o.colors;return ae(ae({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},wL),n?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:a.neutral80})},bS={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},wL={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ae({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},bS)},EL=function(e){return ae({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},bS)},CL=function(e){var n=e.cx,r=e.value,i=fS(e),o=i.innerRef,s=i.isDisabled,a=i.isHidden,l=i.inputClassName,u=On(i,yL);return fe("div",re({},dt(e,"input",{"input-container":!0}),{"data-value":r||""}),fe("input",re({className:n({input:!0},l),ref:o,style:EL(a),disabled:s},u)))},SL=CL,bL=function(e,n){var r=e.theme,i=r.spacing,o=r.borderRadius,s=r.colors;return ae({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:s.neutral10,borderRadius:o/2,margin:i.baseUnit/2})},IL=function(e,n){var r=e.theme,i=r.borderRadius,o=r.colors,s=e.cropWithEllipsis;return ae({overflow:"hidden",textOverflow:s||s===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},kL=function(e,n){var r=e.theme,i=r.spacing,o=r.borderRadius,s=r.colors,a=e.isFocused;return ae({alignItems:"center",display:"flex"},n?{}:{borderRadius:o/2,backgroundColor:a?s.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},IS=function(e){var n=e.children,r=e.innerProps;return fe("div",r,n)},TL=IS,xL=IS;function NL(t){var e=t.children,n=t.innerProps;return fe("div",re({role:"button"},n),e||fe(kg,{size:14}))}var AL=function(e){var n=e.children,r=e.components,i=e.data,o=e.innerProps,s=e.isDisabled,a=e.removeProps,l=e.selectProps,u=r.Container,c=r.Label,d=r.Remove;return fe(u,{data:i,innerProps:ae(ae({},dt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),o),selectProps:l},fe(c,{data:i,innerProps:ae({},dt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),fe(d,{data:i,innerProps:ae(ae({},dt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},RL=AL,PL=function(e,n){var r=e.isDisabled,i=e.isFocused,o=e.isSelected,s=e.theme,a=s.spacing,l=s.colors;return ae({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:o?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:o?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?l.primary:l.primary50}})},OL=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,o=e.isSelected,s=e.innerRef,a=e.innerProps;return fe("div",re({},dt(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":o}),{ref:s,"aria-disabled":r},a),n)},DL=OL,ML=function(e,n){var r=e.theme,i=r.spacing,o=r.colors;return ae({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:o.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},LL=function(e){var n=e.children,r=e.innerProps;return fe("div",re({},dt(e,"placeholder",{placeholder:!0}),r),n)},FL=LL,UL=function(e,n){var r=e.isDisabled,i=e.theme,o=i.spacing,s=i.colors;return ae({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?s.neutral40:s.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},VL=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return fe("div",re({},dt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},$L=VL,BL={ClearIndicator:iL,Control:dL,DropdownIndicator:nL,DownChevron:ES,CrossIcon:kg,Group:vL,GroupHeading:gL,IndicatorsContainer:XM,IndicatorSeparator:sL,Input:SL,LoadingIndicator:SS,Menu:$M,MenuList:jM,MenuPortal:GM,LoadingMessage:_S,NoOptionsMessage:yS,MultiValue:RL,MultiValueContainer:TL,MultiValueLabel:xL,MultiValueRemove:NL,Option:DL,Placeholder:FL,SelectContainer:qM,SingleValue:$L,ValueContainer:QM},kS=function(e){return ae(ae({},BL),e.components)},P0=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function jL(t,e){return!!(t===e||P0(t)&&P0(e))}function zL(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!jL(t[n],e[n]))return!1;return!0}function TS(t,e){e===void 0&&(e=zL);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var s=t.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}var HL={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},WL=function(e){return fe("span",re({css:HL},e))},O0=WL,GL={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.isDisabled,o=e.tabSelectsValue,s=e.context;switch(s){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(o?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,o=e.labels,s=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return s?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,o=e.label,s=o===void 0?"":o,a=e.selectValue,l=e.isDisabled,u=e.isSelected,c=function(v,w){return v&&v.length?"".concat(v.indexOf(w)+1," of ").concat(v.length):""};if(n==="value"&&a)return"value ".concat(s," focused, ").concat(c(a,r),".");if(n==="menu"){var d=l?" disabled":"",f="".concat(u?"selected":"focused").concat(d);return"option ".concat(s," ").concat(f,", ").concat(c(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},KL=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,o=e.focusableOptions,s=e.isFocused,a=e.selectValue,l=e.selectProps,u=e.id,c=l.ariaLiveMessages,d=l.getOptionLabel,f=l.inputValue,g=l.isMulti,v=l.isOptionDisabled,w=l.isSearchable,C=l.menuIsOpen,m=l.options,p=l.screenReaderStatus,_=l.tabSelectsValue,b=l["aria-label"],I=l["aria-live"],k=h.useMemo(function(){return ae(ae({},GL),c||{})},[c]),T=h.useMemo(function(){var M="";if(n&&k.onChange){var P=n.option,L=n.options,U=n.removedValue,N=n.removedValues,F=n.value,x=function(oe){return Array.isArray(oe)?null:oe},A=U||P||x(F),V=A?d(A):"",q=L||N||void 0,j=q?q.map(d):[],S=ae({isDisabled:A&&v(A,a),label:V,labels:j},n);M=k.onChange(S)}return M},[n,k,v,a,d]),D=h.useMemo(function(){var M="",P=r||i,L=!!(r&&a&&a.includes(r));if(P&&k.onFocus){var U={focused:P,label:d(P),isDisabled:v(P,a),isSelected:L,options:o,context:P===r?"menu":"value",selectValue:a};M=k.onFocus(U)}return M},[r,i,d,v,k,o,a]),Y=h.useMemo(function(){var M="";if(C&&m.length&&k.onFilter){var P=p({count:o.length});M=k.onFilter({inputValue:f,resultsMessage:P})}return M},[o,f,C,k,m,p]),H=h.useMemo(function(){var M="";if(k.guidance){var P=i?"value":C?"menu":"input";M=k.guidance({"aria-label":b,context:P,isDisabled:r&&v(r,a),isMulti:g,isSearchable:w,tabSelectsValue:_})}return M},[b,r,i,g,v,w,C,k,a,_]),pe="".concat(D," ").concat(Y," ").concat(H),me=fe(h.Fragment,null,fe("span",{id:"aria-selection"},T),fe("span",{id:"aria-context"},pe)),Ce=(n==null?void 0:n.action)==="initial-input-focus";return fe(h.Fragment,null,fe(O0,{id:u},Ce&&me),fe(O0,{"aria-live":I,"aria-atomic":"false","aria-relevant":"additions text"},s&&!Ce&&me))},qL=KL,cp=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],YL=new RegExp("["+cp.map(function(t){return t.letters}).join("")+"]","g"),xS={};for(var Pf=0;Pf<cp.length;Pf++)for(var Of=cp[Pf],Df=0;Df<Of.letters.length;Df++)xS[Of.letters[Df]]=Of.base;var NS=function(e){return e.replace(YL,function(n){return xS[n]})},QL=TS(NS),D0=function(e){return e.replace(/^\s+|\s+$/g,"")},JL=function(e){return"".concat(e.label," ").concat(e.value)},XL=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=ae({ignoreCase:!0,ignoreAccents:!0,stringify:JL,trim:!0,matchFrom:"any"},e),o=i.ignoreCase,s=i.ignoreAccents,a=i.stringify,l=i.trim,u=i.matchFrom,c=l?D0(r):r,d=l?D0(a(n)):a(n);return o&&(c=c.toLowerCase(),d=d.toLowerCase()),s&&(c=QL(c),d=NS(d)),u==="start"?d.substr(0,c.length)===c:d.indexOf(c)>-1}},ZL=["innerRef"];function eF(t){var e=t.innerRef,n=On(t,ZL),r=DM(n,"onExited","in","enter","exit","appear");return fe("input",re({ref:e},r,{css:bg({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var tF=function(e){e.preventDefault(),e.stopPropagation()};function nF(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,o=t.onTopLeave,s=h.useRef(!1),a=h.useRef(!1),l=h.useRef(0),u=h.useRef(null),c=h.useCallback(function(C,m){if(u.current!==null){var p=u.current,_=p.scrollTop,b=p.scrollHeight,I=p.clientHeight,k=u.current,T=m>0,D=b-I-_,Y=!1;D>m&&s.current&&(r&&r(C),s.current=!1),T&&a.current&&(o&&o(C),a.current=!1),T&&m>D?(n&&!s.current&&n(C),k.scrollTop=b,Y=!0,s.current=!0):!T&&-m>_&&(i&&!a.current&&i(C),k.scrollTop=0,Y=!0,a.current=!0),Y&&tF(C)}},[n,r,i,o]),d=h.useCallback(function(C){c(C,C.deltaY)},[c]),f=h.useCallback(function(C){l.current=C.changedTouches[0].clientY},[]),g=h.useCallback(function(C){var m=l.current-C.changedTouches[0].clientY;c(C,m)},[c]),v=h.useCallback(function(C){if(C){var m=RM?{passive:!1}:!1;C.addEventListener("wheel",d,m),C.addEventListener("touchstart",f,m),C.addEventListener("touchmove",g,m)}},[g,f,d]),w=h.useCallback(function(C){C&&(C.removeEventListener("wheel",d,!1),C.removeEventListener("touchstart",f,!1),C.removeEventListener("touchmove",g,!1))},[g,f,d]);return h.useEffect(function(){if(e){var C=u.current;return v(C),function(){w(C)}}},[e,v,w]),function(C){u.current=C}}var M0=["boxSizing","height","overflow","paddingRight","position"],L0={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function F0(t){t.preventDefault()}function U0(t){t.stopPropagation()}function V0(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function $0(){return"ontouchstart"in window||navigator.maxTouchPoints}var B0=!!(typeof window<"u"&&window.document&&window.document.createElement),Ys=0,Co={capture:!1,passive:!1};function rF(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=h.useRef({}),o=h.useRef(null),s=h.useCallback(function(l){if(B0){var u=document.body,c=u&&u.style;if(r&&M0.forEach(function(v){var w=c&&c[v];i.current[v]=w}),r&&Ys<1){var d=parseInt(i.current.paddingRight,10)||0,f=document.body?document.body.clientWidth:0,g=window.innerWidth-f+d||0;Object.keys(L0).forEach(function(v){var w=L0[v];c&&(c[v]=w)}),c&&(c.paddingRight="".concat(g,"px"))}u&&$0()&&(u.addEventListener("touchmove",F0,Co),l&&(l.addEventListener("touchstart",V0,Co),l.addEventListener("touchmove",U0,Co))),Ys+=1}},[r]),a=h.useCallback(function(l){if(B0){var u=document.body,c=u&&u.style;Ys=Math.max(Ys-1,0),r&&Ys<1&&M0.forEach(function(d){var f=i.current[d];c&&(c[d]=f)}),u&&$0()&&(u.removeEventListener("touchmove",F0,Co),l&&(l.removeEventListener("touchstart",V0,Co),l.removeEventListener("touchmove",U0,Co)))}},[r]);return h.useEffect(function(){if(e){var l=o.current;return s(l),function(){a(l)}}},[e,s,a]),function(l){o.current=l}}var iF=function(){return document.activeElement&&document.activeElement.blur()},oF={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function sF(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,o=t.onBottomArrive,s=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,u=nF({isEnabled:i,onBottomArrive:o,onBottomLeave:s,onTopArrive:a,onTopLeave:l}),c=rF({isEnabled:n}),d=function(g){u(g),c(g)};return fe(h.Fragment,null,n&&fe("div",{onClick:iF,css:oF}),e(d))}var aF={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},lF=function(e){var n=e.name,r=e.onFocus;return fe("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:aF,value:"",onChange:function(){}})},uF=lF,cF=function(e){return e.label},dF=function(e){return e.label},fF=function(e){return e.value},hF=function(e){return!!e.isDisabled},pF={clearIndicator:rL,container:KM,control:uL,dropdownIndicator:tL,group:hL,groupHeading:mL,indicatorsContainer:JM,indicatorSeparator:oL,input:_L,loadingIndicator:lL,loadingMessage:HM,menu:FM,menuList:BM,menuPortal:WM,multiValue:bL,multiValueLabel:IL,multiValueRemove:kL,noOptionsMessage:zM,option:PL,placeholder:ML,singleValue:UL,valueContainer:YM},mF={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},gF=4,AS=4,vF=38,yF=AS*2,_F={baseUnit:AS,controlHeight:vF,menuGutter:yF},Mf={borderRadius:gF,colors:mF,spacing:_F},wF={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:A0(),captureMenuScroll:!A0(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:XL(),formatGroupLabel:cF,getOptionLabel:dF,getOptionValue:fF,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:hF,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!NM(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function j0(t,e,n,r){var i=DS(t,e,n),o=MS(t,e,n),s=OS(t,e),a=Rc(t,e);return{type:"option",data:e,isDisabled:i,isSelected:o,label:s,value:a,index:r}}function RS(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(s,a){return j0(t,s,e,a)}).filter(function(s){return z0(t,s)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=j0(t,n,e,r);return z0(t,o)?o:void 0}).filter(PM)}function PS(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,zC(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function EF(t,e){return PS(RS(t,e))}function z0(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,o=e.isSelected,s=e.label,a=e.value;return(!FS(t)||!o)&&LS(t,{label:s,value:a,data:i},r)}function CF(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var o=e.indexOf(n);if(o>-1)return n;if(i<e.length)return e[i]}return null}function SF(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var OS=function(e,n){return e.getOptionLabel(n)},Rc=function(e,n){return e.getOptionValue(n)};function DS(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function MS(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Rc(t,e);return n.some(function(i){return Rc(t,i)===r})}function LS(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var FS=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},bF=1,US=function(t){rD(n,t);var e=sD(n);function n(r){var i;if(tD(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(a){i.controlRef=a},i.focusedOptionRef=null,i.getFocusedOptionRef=function(a){i.focusedOptionRef=a},i.menuListRef=null,i.getMenuListRef=function(a){i.menuListRef=a},i.inputRef=null,i.getInputRef=function(a){i.inputRef=a},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(a,l){var u=i.props,c=u.onChange,d=u.name;l.name=d,i.ariaOnChange(a,l),c(a,l)},i.setValue=function(a,l,u){var c=i.props,d=c.closeMenuOnSelect,f=c.isMulti,g=c.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:g}),d&&(i.setState({inputIsHiddenAfterUpdate:!f}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(a,{action:l,option:u})},i.selectOption=function(a){var l=i.props,u=l.blurInputOnSelect,c=l.isMulti,d=l.name,f=i.state.selectValue,g=c&&i.isOptionSelected(a,f),v=i.isOptionDisabled(a,f);if(g){var w=i.getOptionValue(a);i.setValue(f.filter(function(C){return i.getOptionValue(C)!==w}),"deselect-option",a)}else if(!v)c?i.setValue([].concat(zC(f),[a]),"select-option",a):i.setValue(a,"select-option");else{i.ariaOnChange(a,{action:"select-option",option:a,name:d});return}u&&i.blurInput()},i.removeValue=function(a){var l=i.props.isMulti,u=i.state.selectValue,c=i.getOptionValue(a),d=u.filter(function(g){return i.getOptionValue(g)!==c}),f=eu(l,d,d[0]||null);i.onChange(f,{action:"remove-value",removedValue:a}),i.focusInput()},i.clearValue=function(){var a=i.state.selectValue;i.onChange(eu(i.props.isMulti,[],null),{action:"clear",removedValues:a})},i.popValue=function(){var a=i.props.isMulti,l=i.state.selectValue,u=l[l.length-1],c=l.slice(0,l.length-1),d=eu(a,c,c[0]||null);i.onChange(d,{action:"pop-value",removedValue:u})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return bM.apply(void 0,[i.props.classNamePrefix].concat(l))},i.getOptionLabel=function(a){return OS(i.props,a)},i.getOptionValue=function(a){return Rc(i.props,a)},i.getStyles=function(a,l){var u=i.props.unstyled,c=pF[a](l,u);c.boxSizing="border-box";var d=i.props.styles[a];return d?d(c,l):c},i.getClassNames=function(a,l){var u,c;return(u=(c=i.props.classNames)[a])===null||u===void 0?void 0:u.call(c,l)},i.getElementId=function(a){return"".concat(i.instancePrefix,"-").concat(a)},i.getComponents=function(){return kS(i.props)},i.buildCategorizedOptions=function(){return RS(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return PS(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(a,l){i.setState({ariaSelection:ae({value:a},l)})},i.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(a){i.blockOptionHover=!1},i.onControlMouseDown=function(a){if(!a.defaultPrevented){var l=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&i.onMenuClose():l&&i.openMenu("first"):(l&&(i.openAfterFocus=!0),i.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},i.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!i.props.isDisabled){var l=i.props,u=l.isMulti,c=l.menuIsOpen;i.focusInput(),c?(i.setState({inputIsHiddenAfterUpdate:!u}),i.onMenuClose()):i.openMenu("first"),a.preventDefault()}},i.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(i.clearValue(),a.preventDefault(),i.openAfterFocus=!1,a.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(a){typeof i.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&Td(a.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(a)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(a){var l=a.touches,u=l&&l.item(0);u&&(i.initialTouchX=u.clientX,i.initialTouchY=u.clientY,i.userIsDragging=!1)},i.onTouchMove=function(a){var l=a.touches,u=l&&l.item(0);if(u){var c=Math.abs(u.clientX-i.initialTouchX),d=Math.abs(u.clientY-i.initialTouchY),f=5;i.userIsDragging=c>f||d>f}},i.onTouchEnd=function(a){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(a.target)&&i.menuListRef&&!i.menuListRef.contains(a.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(a){i.userIsDragging||i.onControlMouseDown(a)},i.onClearIndicatorTouchEnd=function(a){i.userIsDragging||i.onClearIndicatorMouseDown(a)},i.onDropdownIndicatorTouchEnd=function(a){i.userIsDragging||i.onDropdownIndicatorMouseDown(a)},i.handleInputChange=function(a){var l=i.props.inputValue,u=a.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(u,{action:"input-change",prevInputValue:l}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(a){i.props.onFocus&&i.props.onFocus(a),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(a){var l=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(a),i.onInputChange("",{action:"input-blur",prevInputValue:l}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(a){i.blockOptionHover||i.state.focusedOption===a||i.setState({focusedOption:a})},i.shouldHideSelectedOptions=function(){return FS(i.props)},i.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),i.focus()},i.onKeyDown=function(a){var l=i.props,u=l.isMulti,c=l.backspaceRemovesValue,d=l.escapeClearsValue,f=l.inputValue,g=l.isClearable,v=l.isDisabled,w=l.menuIsOpen,C=l.onKeyDown,m=l.tabSelectsValue,p=l.openMenuOnFocus,_=i.state,b=_.focusedOption,I=_.focusedValue,k=_.selectValue;if(!v&&!(typeof C=="function"&&(C(a),a.defaultPrevented))){switch(i.blockOptionHover=!0,a.key){case"ArrowLeft":if(!u||f)return;i.focusValue("previous");break;case"ArrowRight":if(!u||f)return;i.focusValue("next");break;case"Delete":case"Backspace":if(f)return;if(I)i.removeValue(I);else{if(!c)return;u?i.popValue():g&&i.clearValue()}break;case"Tab":if(i.isComposing||a.shiftKey||!w||!m||!b||p&&i.isOptionSelected(b,k))return;i.selectOption(b);break;case"Enter":if(a.keyCode===229)break;if(w){if(!b||i.isComposing)return;i.selectOption(b);break}return;case"Escape":w?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:f}),i.onMenuClose()):g&&d&&i.clearValue();break;case" ":if(f)return;if(!w){i.openMenu("first");break}if(!b)return;i.selectOption(b);break;case"ArrowUp":w?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":w?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!w)return;i.focusOption("pageup");break;case"PageDown":if(!w)return;i.focusOption("pagedown");break;case"Home":if(!w)return;i.focusOption("first");break;case"End":if(!w)return;i.focusOption("last");break;default:return}a.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++bF),i.state.selectValue=x0(r.value),r.menuIsOpen&&i.state.selectValue.length){var o=i.buildFocusableOptions(),s=o.indexOf(i.state.selectValue[0]);i.state.focusedOption=o[s]}return i}return nD(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&N0(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isDisabled,a=o.menuIsOpen,l=this.state.isFocused;(l&&!s&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&s&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!s&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(N0(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,s=this.state,a=s.selectValue,l=s.isFocused,u=this.buildFocusableOptions(),c=i==="first"?0:u.length-1;if(!this.props.isMulti){var d=u.indexOf(a[0]);d>-1&&(c=d)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c]},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,s=o.selectValue,a=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=s.indexOf(a);a||(l=-1);var u=s.length-1,c=-1;if(s.length){switch(i){case"previous":l===0?c=0:l===-1?c=u:c=l-1;break;case"next":l>-1&&l<u&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:s[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,s=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,u=a.indexOf(s);s||(u=-1),i==="up"?l=u>0?u-1:a.length-1:i==="down"?l=(u+1)%a.length:i==="pageup"?(l=u-o,l<0&&(l=0)):i==="pagedown"?(l=u+o,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Mf):ae(ae({},Mf),this.props.theme):Mf}},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,s=this.getStyles,a=this.getClassNames,l=this.getValue,u=this.selectOption,c=this.setValue,d=this.props,f=d.isMulti,g=d.isRtl,v=d.options,w=this.hasValue();return{clearValue:i,cx:o,getStyles:s,getClassNames:a,getValue:l,hasValue:w,isMulti:f,isRtl:g,options:v,selectOption:u,selectProps:d,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,s=i.isMulti;return o===void 0?s:o}},{key:"isOptionDisabled",value:function(i,o){return DS(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return MS(this.props,i,o)}},{key:"filterOption",value:function(i,o){return LS(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var s=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:s,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,o=i.isDisabled,s=i.isSearchable,a=i.inputId,l=i.inputValue,u=i.tabIndex,c=i.form,d=i.menuIsOpen,f=i.required,g=this.getComponents(),v=g.Input,w=this.state,C=w.inputIsHidden,m=w.ariaSelection,p=this.commonProps,_=a||this.getElementId("input"),b=ae(ae(ae({"aria-autocomplete":"list","aria-expanded":d,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":f,role:"combobox"},d&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!s&&{"aria-readonly":!0}),this.hasValue()?(m==null?void 0:m.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return s?h.createElement(v,re({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:_,innerRef:this.getInputRef,isDisabled:o,isHidden:C,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:l},b)):h.createElement(eF,re({id:_,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Nc,onFocus:this.onInputFocus,disabled:o,tabIndex:u,inputMode:"none",form:c,value:""},b))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),s=o.MultiValue,a=o.MultiValueContainer,l=o.MultiValueLabel,u=o.MultiValueRemove,c=o.SingleValue,d=o.Placeholder,f=this.commonProps,g=this.props,v=g.controlShouldRenderValue,w=g.isDisabled,C=g.isMulti,m=g.inputValue,p=g.placeholder,_=this.state,b=_.selectValue,I=_.focusedValue,k=_.isFocused;if(!this.hasValue()||!v)return m?null:h.createElement(d,re({},f,{key:"placeholder",isDisabled:w,isFocused:k,innerProps:{id:this.getElementId("placeholder")}}),p);if(C)return b.map(function(D,Y){var H=D===I,pe="".concat(i.getOptionLabel(D),"-").concat(i.getOptionValue(D));return h.createElement(s,re({},f,{components:{Container:a,Label:l,Remove:u},isFocused:H,isDisabled:w,key:pe,index:Y,removeProps:{onClick:function(){return i.removeValue(D)},onTouchEnd:function(){return i.removeValue(D)},onMouseDown:function(Ce){Ce.preventDefault()}},data:D}),i.formatOptionLabel(D,"value"))});if(m)return null;var T=b[0];return h.createElement(c,re({},f,{data:T,isDisabled:w}),this.formatOptionLabel(T,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),o=i.ClearIndicator,s=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!o||l||!this.hasValue()||u)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return h.createElement(o,re({},s,{innerProps:d,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),o=i.LoadingIndicator,s=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!o||!u)return null;var d={"aria-hidden":"true"};return h.createElement(o,re({},s,{innerProps:d,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,s=i.IndicatorSeparator;if(!o||!s)return null;var a=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return h.createElement(s,re({},a,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator;if(!o)return null;var s=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return h.createElement(o,re({},s,{innerProps:u,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),s=o.Group,a=o.GroupHeading,l=o.Menu,u=o.MenuList,c=o.MenuPortal,d=o.LoadingMessage,f=o.NoOptionsMessage,g=o.Option,v=this.commonProps,w=this.state.focusedOption,C=this.props,m=C.captureMenuScroll,p=C.inputValue,_=C.isLoading,b=C.loadingMessage,I=C.minMenuHeight,k=C.maxMenuHeight,T=C.menuIsOpen,D=C.menuPlacement,Y=C.menuPosition,H=C.menuPortalTarget,pe=C.menuShouldBlockScroll,me=C.menuShouldScrollIntoView,Ce=C.noOptionsMessage,M=C.onMenuScrollToTop,P=C.onMenuScrollToBottom;if(!T)return null;var L=function(q,j){var S=q.type,ie=q.data,oe=q.isDisabled,ve=q.isSelected,ke=q.label,Ae=q.value,xe=w===ie,Re=oe?void 0:function(){return i.onOptionHover(ie)},Be=oe?void 0:function(){return i.selectOption(ie)},ce="".concat(i.getElementId("option"),"-").concat(j),O={id:ce,onClick:Be,onMouseMove:Re,onMouseOver:Re,tabIndex:-1};return h.createElement(g,re({},v,{innerProps:O,data:ie,isDisabled:oe,isSelected:ve,key:ce,label:ke,type:S,value:Ae,isFocused:xe,innerRef:xe?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(q.data,"menu"))},U;if(this.hasOptions())U=this.getCategorizedOptions().map(function(V){if(V.type==="group"){var q=V.data,j=V.options,S=V.index,ie="".concat(i.getElementId("group"),"-").concat(S),oe="".concat(ie,"-heading");return h.createElement(s,re({},v,{key:ie,data:q,options:j,Heading:a,headingProps:{id:oe,data:V.data},label:i.formatGroupLabel(V.data)}),V.options.map(function(ve){return L(ve,"".concat(S,"-").concat(ve.index))}))}else if(V.type==="option")return L(V,"".concat(V.index))});else if(_){var N=b({inputValue:p});if(N===null)return null;U=h.createElement(d,v,N)}else{var F=Ce({inputValue:p});if(F===null)return null;U=h.createElement(f,v,F)}var x={minMenuHeight:I,maxMenuHeight:k,menuPlacement:D,menuPosition:Y,menuShouldScrollIntoView:me},A=h.createElement(UM,re({},v,x),function(V){var q=V.ref,j=V.placerProps,S=j.placement,ie=j.maxHeight;return h.createElement(l,re({},v,x,{innerRef:q,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove,id:i.getElementId("listbox")},isLoading:_,placement:S}),h.createElement(sF,{captureEnabled:m,onTopArrive:M,onBottomArrive:P,lockEnabled:pe},function(oe){return h.createElement(u,re({},v,{innerRef:function(ke){i.getMenuListRef(ke),oe(ke)},isLoading:_,maxHeight:ie,focusedOption:w}),U)}))});return H||Y==="fixed"?h.createElement(c,re({},v,{appendTo:H,controlElement:this.controlRef,menuPlacement:D,menuPosition:Y}),A):A}},{key:"renderFormField",value:function(){var i=this,o=this.props,s=o.delimiter,a=o.isDisabled,l=o.isMulti,u=o.name,c=o.required,d=this.state.selectValue;if(c&&!this.hasValue()&&!a)return h.createElement(uF,{name:u,onFocus:this.onValueInputFocus});if(!(!u||a))if(l)if(s){var f=d.map(function(w){return i.getOptionValue(w)}).join(s);return h.createElement("input",{name:u,type:"hidden",value:f})}else{var g=d.length>0?d.map(function(w,C){return h.createElement("input",{key:"i-".concat(C),name:u,type:"hidden",value:i.getOptionValue(w)})}):h.createElement("input",{name:u,type:"hidden",value:""});return h.createElement("div",null,g)}else{var v=d[0]?this.getOptionValue(d[0]):"";return h.createElement("input",{name:u,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,s=o.ariaSelection,a=o.focusedOption,l=o.focusedValue,u=o.isFocused,c=o.selectValue,d=this.getFocusableOptions();return h.createElement(qL,re({},i,{id:this.getElementId("live-region"),ariaSelection:s,focusedOption:a,focusedValue:l,isFocused:u,selectValue:c,focusableOptions:d}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,s=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,u=this.props,c=u.className,d=u.id,f=u.isDisabled,g=u.menuIsOpen,v=this.state.isFocused,w=this.commonProps=this.getCommonProps();return h.createElement(a,re({},w,{className:c,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:f,isFocused:v}),this.renderLiveRegion(),h.createElement(o,re({},w,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:f,isFocused:v,menuIsOpen:g}),h.createElement(l,re({},w,{isDisabled:f}),this.renderPlaceholderOrValue(),this.renderInput()),h.createElement(s,re({},w,{isDisabled:f}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,o){var s=o.prevProps,a=o.clearFocusValueOnUpdate,l=o.inputIsHiddenAfterUpdate,u=o.ariaSelection,c=o.isFocused,d=o.prevWasFocused,f=i.options,g=i.value,v=i.menuIsOpen,w=i.inputValue,C=i.isMulti,m=x0(g),p={};if(s&&(g!==s.value||f!==s.options||v!==s.menuIsOpen||w!==s.inputValue)){var _=v?EF(i,m):[],b=a?CF(o,m):null,I=SF(o,_);p={selectValue:m,focusedOption:I,focusedValue:b,clearFocusValueOnUpdate:!1}}var k=l!=null&&i!==s?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},T=u,D=c&&d;return c&&!D&&(T={value:eu(C,m,m[0]||null),options:m,action:"initial-input-focus"},D=!d),(u==null?void 0:u.action)==="initial-input-focus"&&(T=null),ae(ae(ae({},p),k),{},{prevProps:i,ariaSelection:T,prevWasFocused:D})}}]),n}(h.Component);US.defaultProps=wF;var IF=h.forwardRef(function(t,e){var n=eD(t);return h.createElement(US,re({ref:e},n))}),kF=IF;function VS(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ic(t,e)}var $S={exports:{}},TF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xF=TF,NF=xF;function BS(){}function jS(){}jS.resetWarningCache=BS;var AF=function(){function t(r,i,o,s,a,l){if(l!==NF){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:jS,resetWarningCache:BS};return n.PropTypes=n,n};$S.exports=AF();var RF=$S.exports;const Lf=Za(RF);function PF(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function OF(t,e){t.classList?t.classList.add(e):PF(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function H0(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function DF(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=H0(t.className,e):t.setAttribute("class",H0(t.className&&t.className.baseVal||"",e))}const W0={disabled:!1},Pc=Xt.createContext(null);var MF=function(e){return e.scrollTop},ra="unmounted",Ri="exited",zr="entering",Pi="entered",dp="exiting",Or=function(t){VS(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Ri,o.appearStatus=zr):l=Pi:r.unmountOnExit||r.mountOnEnter?l=ra:l=Ri,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===ra?{status:Ri}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==zr&&s!==Pi&&(o=zr):(s===zr||s===Pi)&&(o=dp)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===zr){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Uo.findDOMNode(this);s&&MF(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ri&&this.setState({status:ra})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Uo.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!s||W0.disabled){this.safeSetState({status:Pi},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:zr},function(){o.props.onEntering(u,c),o.onTransitionEnd(f,function(){o.safeSetState({status:Pi},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Uo.findDOMNode(this);if(!o||W0.disabled){this.safeSetState({status:Ri},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:dp},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Ri},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Uo.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ra)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=gg(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Xt.createElement(Pc.Provider,{value:null},typeof s=="function"?s(i,a):Xt.cloneElement(Xt.Children.only(s),a))},e}(Xt.Component);Or.contextType=Pc;Or.propTypes={};function So(){}Or.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:So,onEntering:So,onEntered:So,onExit:So,onExiting:So,onExited:So};Or.UNMOUNTED=ra;Or.EXITED=Ri;Or.ENTERING=zr;Or.ENTERED=Pi;Or.EXITING=dp;const Tg=Or;function xg(t,e){var n=function(o){return e&&h.isValidElement(o)?e(o):o},r=Object.create(null);return t&&h.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function LF(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var u=r[l][s];a[r[l][s]]=n(u)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function Bi(t,e,n){return n[e]!=null?n[e]:t.props[e]}function FF(t,e){return xg(t.children,function(n){return h.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Bi(n,"appear",t),enter:Bi(n,"enter",t),exit:Bi(n,"exit",t)})})}function UF(t,e,n){var r=xg(t.children),i=LF(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(h.isValidElement(s)){var a=o in e,l=o in r,u=e[o],c=h.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[o]=h.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Bi(s,"exit",t),enter:Bi(s,"enter",t)}):!l&&a&&!c?i[o]=h.cloneElement(s,{in:!1}):l&&a&&h.isValidElement(u)&&(i[o]=h.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:Bi(s,"exit",t),enter:Bi(s,"enter",t)}))}}),i}var VF=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},$F={component:"div",childFactory:function(e){return e}},Ng=function(t){VS(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(jC(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?FF(i,a):UF(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=xg(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=re({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=gg(i,["component","childFactory"]),l=this.state.contextValue,u=VF(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?Xt.createElement(Pc.Provider,{value:l},u):Xt.createElement(Pc.Provider,{value:l},Xt.createElement(o,a,u))},e}(Xt.Component);Ng.propTypes={};Ng.defaultProps=$F;const zS=Ng;var BF=["in","onExited","appear","enter","exit"],jF=function(e){return function(n){n.in,n.onExited,n.appear,n.enter,n.exit;var r=On(n,BF);return h.createElement(e,r)}},zF=jF,HF=["component","duration","in","onExited"],HS=function(e){var n=e.component,r=e.duration,i=r===void 0?1:r,o=e.in;e.onExited;var s=On(e,HF),a=h.useRef(null),l={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(i,"ms")},exiting:{opacity:0},exited:{opacity:0}};return h.createElement(Tg,{mountOnEnter:!0,unmountOnExit:!0,in:o,timeout:i,nodeRef:a},function(u){var c={style:ae({},l[u]),ref:a};return h.createElement(n,re({innerProps:c},s))})},fp=260,WF=function(e){var n=e.children,r=e.in,i=e.onExited,o=h.useRef(null),s=h.useState("auto"),a=Nn(s,2),l=a[0],u=a[1];h.useEffect(function(){var d=o.current;if(d){var f=window.requestAnimationFrame(function(){return u(d.getBoundingClientRect().width)});return function(){return window.cancelAnimationFrame(f)}}},[]);var c=function(f){switch(f){default:return{width:l};case"exiting":return{width:0,transition:"width ".concat(fp,"ms ease-out")};case"exited":return{width:0}}};return h.createElement(Tg,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:r,onExited:function(){var f=o.current;f&&(i==null||i(f))},timeout:fp,nodeRef:o},function(d){return h.createElement("div",{ref:o,style:ae({overflow:"hidden",whiteSpace:"nowrap"},c(d))},n)})},GF=["in","onExited"],KF=function(e){return function(n){var r=n.in,i=n.onExited,o=On(n,GF);return h.createElement(WF,{in:r,onExited:i},h.createElement(e,re({cropWithEllipsis:r},o)))}},qF=KF,YF=function(e){return function(n){return h.createElement(HS,re({component:e,duration:n.isMulti?fp:1},n))}},QF=YF,JF=function(e){return function(n){return h.createElement(HS,re({component:e},n))}},XF=JF,ZF=["component"],e3=["children"],t3=function(e){return function(n){return n.isMulti?h.createElement(n3,re({component:e},n)):h.createElement(zS,re({component:e},n))}},n3=function(e){var n=e.component,r=On(e,ZF),i=r3(r);return h.createElement(zS,re({component:n},i))},r3=function(e){var n=e.children,r=On(e,e3),i=r.isMulti,o=r.hasValue,s=r.innerProps,a=r.selectProps,l=a.components,u=a.controlShouldRenderValue,c=h.useState(i&&u&&o),d=Nn(c,2),f=d[0],g=d[1],v=h.useState(!1),w=Nn(v,2),C=w[0],m=w[1];h.useEffect(function(){o&&!f&&g(!0)},[o,f]),h.useEffect(function(){C&&!o&&f&&g(!1),m(!1)},[C,o,f]);var p=function(){return m(!0)},_=function(T){if(i&&h.isValidElement(T)){if(T.type===l.MultiValue)return h.cloneElement(T,{onExited:p});if(T.type===l.Placeholder&&f)return null}return T},b=ae(ae({},s),{},{style:ae(ae({},s==null?void 0:s.style),{},{display:i&&o||f?"flex":"grid"})}),I=ae(ae({},r),{},{innerProps:b,children:h.Children.toArray(n).map(_)});return I},i3=t3,o3=["Input","MultiValue","Placeholder","SingleValue","ValueContainer"],WS=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=kS({components:e}),r=n.Input,i=n.MultiValue,o=n.Placeholder,s=n.SingleValue,a=n.ValueContainer,l=On(n,o3);return ae({Input:zF(r),MultiValue:qF(i),Placeholder:QF(o),SingleValue:XF(s),ValueContainer:i3(a)},l)},vl=WS();vl.Input;vl.MultiValue;vl.Placeholder;vl.SingleValue;vl.ValueContainer;var s3=TS(WS);function a3(t,e){if(t.length==0)return[];const n=new Map;return e.forEach(r=>{n.set(r._id,r)}),t.map(r=>n.get(r))}function GS(t){const e=s3(),[n,r]=h.useState([]),[i,o]=h.useState([]);async function s(){const a=Q==null?void 0:Q.currentUser,l=await a.getIdToken(),c=await(await fetch(`${Ve}/dropdown?UID=${a.uid}`,{method:"GET",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}})).json();o(c),r(()=>c.map(d=>({value:d._id,label:d.name})))}return y(tt,{children:K("div",{onMouseEnter:s,"data-testid":"dropdown",children:[y("label",{children:"Tasks that should be done before this (Optional)"}),y(kF,{closeMenuOnSelect:!1,components:e,isMulti:!0,options:n,hideSelectedOptions:!0,onChange:a=>t.updateTask({doBefore:a3(a.map(l=>l.value),i)})})]})})}var $e=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})},Le=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},dn=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Mn=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},G0=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(e){e===void 0&&(e=t.minComparator);var n=this;this.compare=e,this.heapArray=[],this._limit=0,this.offer=this.add,this.element=this.peek,this.poll=this.pop,this._invertedCompare=function(r,i){return n.compare(r,i).then(function(o){return-1*o})}}return t.getChildrenIndexOf=function(e){return[e*2+1,e*2+2]},t.getParentIndexOf=function(e){if(e<=0)return-1;var n=e%2?1:2;return Math.floor((e-n)/2)},t.getSiblingIndexOf=function(e){if(e<=0)return-1;var n=e%2?1:-1;return e+n},t.minComparator=function(e,n){return $e(this,void 0,void 0,function(){return Le(this,function(r){return e>n?[2,1]:e<n?[2,-1]:[2,0]})})},t.maxComparator=function(e,n){return $e(this,void 0,void 0,function(){return Le(this,function(r){return n>e?[2,1]:n<e?[2,-1]:[2,0]})})},t.minComparatorNumber=function(e,n){return $e(this,void 0,void 0,function(){return Le(this,function(r){return[2,e-n]})})},t.maxComparatorNumber=function(e,n){return $e(this,void 0,void 0,function(){return Le(this,function(r){return[2,n-e]})})},t.defaultIsEqual=function(e,n){return $e(this,void 0,void 0,function(){return Le(this,function(r){return[2,e===n]})})},t.print=function(e){function n(c){var d=t.getParentIndexOf(c);return Math.floor(Math.log2(d+1))}function r(c,d){for(var f="";d>0;--d)f+=c;return f}for(var i=0,o=[],s=n(e.length-1)+2,a=0;i<e.length;){var l=n(i)+1;i===0&&(l=0);var u=String(e.get(i));u.length>a&&(a=u.length),o[l]=o[l]||[],o[l].push(u),i+=1}return o.map(function(c,d){var f=Math.pow(2,s-d)-1;return r(" ",Math.floor(f/2)*a)+c.map(function(g){var v=(a-g.length)/2;return r(" ",Math.ceil(v))+g+r(" ",Math.floor(v))}).join(r(" ",f*a))}).join(`
`)},t.heapify=function(e,n){return $e(this,void 0,void 0,function(){var r;return Le(this,function(i){switch(i.label){case 0:return r=new t(n),r.heapArray=e,[4,r.init()];case 1:return i.sent(),[2,r]}})})},t.heappop=function(e,n){var r=new t(n);return r.heapArray=e,r.pop()},t.heappush=function(e,n,r){return $e(this,void 0,void 0,function(){var i;return Le(this,function(o){switch(o.label){case 0:return i=new t(r),i.heapArray=e,[4,i.push(n)];case 1:return o.sent(),[2]}})})},t.heappushpop=function(e,n,r){var i=new t(r);return i.heapArray=e,i.pushpop(n)},t.heapreplace=function(e,n,r){var i=new t(r);return i.heapArray=e,i.replace(n)},t.heaptop=function(e,n,r){n===void 0&&(n=1);var i=new t(r);return i.heapArray=e,i.top(n)},t.heapbottom=function(e,n,r){n===void 0&&(n=1);var i=new t(r);return i.heapArray=e,i.bottom(n)},t.nlargest=function(e,n,r){return $e(this,void 0,void 0,function(){var i;return Le(this,function(o){switch(o.label){case 0:return i=new t(r),i.heapArray=Mn([],dn(n),!1),[4,i.init()];case 1:return o.sent(),[2,i.top(e)]}})})},t.nsmallest=function(e,n,r){return $e(this,void 0,void 0,function(){var i;return Le(this,function(o){switch(o.label){case 0:return i=new t(r),i.heapArray=Mn([],dn(n),!1),[4,i.init()];case 1:return o.sent(),[2,i.bottom(e)]}})})},t.prototype.add=function(e){return $e(this,void 0,void 0,function(){return Le(this,function(n){switch(n.label){case 0:return[4,this._sortNodeUp(this.heapArray.push(e)-1)];case 1:return n.sent(),this._applyLimit(),[2,!0]}})})},t.prototype.addAll=function(e){return $e(this,void 0,void 0,function(){var n,r,i;return Le(this,function(o){switch(o.label){case 0:n=this.length,(i=this.heapArray).push.apply(i,Mn([],dn(e),!1)),r=this.length,o.label=1;case 1:return n<r?[4,this._sortNodeUp(n)]:[3,4];case 2:o.sent(),o.label=3;case 3:return++n,[3,1];case 4:return this._applyLimit(),[2,!0]}})})},t.prototype.bottom=function(e){return e===void 0&&(e=1),$e(this,void 0,void 0,function(){return Le(this,function(n){return this.heapArray.length===0||e<=0?[2,[]]:this.heapArray.length===1?[2,[this.heapArray[0]]]:e>=this.heapArray.length?[2,Mn([],dn(this.heapArray),!1)]:[2,this._bottomN_push(~~e)]})})},t.prototype.check=function(){return $e(this,void 0,void 0,function(){var e,n,r,i,o,s,a,l,u;return Le(this,function(c){switch(c.label){case 0:e=0,c.label=1;case 1:if(!(e<this.heapArray.length))return[3,10];n=this.heapArray[e],r=this.getChildrenOf(e),c.label=2;case 2:c.trys.push([2,7,8,9]),i=(l=void 0,G0(r)),o=i.next(),c.label=3;case 3:return o.done?[3,6]:(s=o.value,[4,this.compare(n,s)]);case 4:if(c.sent()>0)return[2,n];c.label=5;case 5:return o=i.next(),[3,3];case 6:return[3,9];case 7:return a=c.sent(),l={error:a},[3,9];case 8:try{o&&!o.done&&(u=i.return)&&u.call(i)}finally{if(l)throw l.error}return[7];case 9:return++e,[3,1];case 10:return[2]}})})},t.prototype.clear=function(){this.heapArray=[]},t.prototype.clone=function(){var e=new t(this.comparator());return e.heapArray=this.toArray(),e._limit=this._limit,e},t.prototype.comparator=function(){return this.compare},t.prototype.contains=function(e,n){return n===void 0&&(n=t.defaultIsEqual),$e(this,void 0,void 0,function(){var r,i,o,s,a,l;return Le(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,7]),r=G0(this.heapArray),i=r.next(),u.label=1;case 1:return i.done?[3,4]:(o=i.value,[4,n(o,e)]);case 2:if(u.sent())return[2,!0];u.label=3;case 3:return i=r.next(),[3,1];case 4:return[3,7];case 5:return s=u.sent(),a={error:s},[3,7];case 6:try{i&&!i.done&&(l=r.return)&&l.call(r)}finally{if(a)throw a.error}return[7];case 7:return[2,!1]}})})},t.prototype.init=function(e){return $e(this,void 0,void 0,function(){var n;return Le(this,function(r){switch(r.label){case 0:e&&(this.heapArray=Mn([],dn(e),!1)),n=Math.floor(this.heapArray.length),r.label=1;case 1:return n>=0?[4,this._sortNodeDown(n)]:[3,4];case 2:r.sent(),r.label=3;case 3:return--n,[3,1];case 4:return this._applyLimit(),[2]}})})},t.prototype.isEmpty=function(){return this.length===0},t.prototype.leafs=function(){if(this.heapArray.length===0)return[];var e=t.getParentIndexOf(this.heapArray.length-1);return this.heapArray.slice(e+1)},Object.defineProperty(t.prototype,"length",{get:function(){return this.heapArray.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"limit",{get:function(){return this._limit},set:function(e){this._limit=~~e,this._applyLimit()},enumerable:!1,configurable:!0}),t.prototype.peek=function(){return this.heapArray[0]},t.prototype.pop=function(){return $e(this,void 0,void 0,function(){var e;return Le(this,function(n){return e=this.heapArray.pop(),this.length>0&&e!==void 0?[2,this.replace(e)]:[2,e]})})},t.prototype.push=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return $e(this,void 0,void 0,function(){return Le(this,function(r){return e.length<1?[2,!1]:e.length===1?[2,this.add(e[0])]:[2,this.addAll(e)]})})},t.prototype.pushpop=function(e){return $e(this,void 0,void 0,function(){var n;return Le(this,function(r){switch(r.label){case 0:return[4,this.compare(this.heapArray[0],e)];case 1:return r.sent()<0?(n=dn([this.heapArray[0],e],2),e=n[0],this.heapArray[0]=n[1],[4,this._sortNodeDown(0)]):[3,3];case 2:r.sent(),r.label=3;case 3:return[2,e]}})})},t.prototype.remove=function(e,n){return n===void 0&&(n=t.defaultIsEqual),$e(this,void 0,void 0,function(){var r,i;return Le(this,function(o){switch(o.label){case 0:return this.length>0?e!==void 0?[3,2]:[4,this.pop()]:[3,13];case 1:return o.sent(),[2,!0];case 2:r=-1,i=0,o.label=3;case 3:return i<this.heapArray.length?[4,n(this.heapArray[i],e)]:[3,6];case 4:if(o.sent())return r=i,[3,6];o.label=5;case 5:return++i,[3,3];case 6:return r>=0?r!==0?[3,8]:[4,this.pop()]:[3,13];case 7:return o.sent(),[3,12];case 8:return r!==this.length-1?[3,9]:(this.heapArray.pop(),[3,12]);case 9:return this.heapArray.splice(r,1,this.heapArray.pop()),[4,this._sortNodeUp(r)];case 10:return o.sent(),[4,this._sortNodeDown(r)];case 11:o.sent(),o.label=12;case 12:return[2,!0];case 13:return[2,!1]}})})},t.prototype.replace=function(e){return $e(this,void 0,void 0,function(){var n;return Le(this,function(r){switch(r.label){case 0:return n=this.heapArray[0],this.heapArray[0]=e,[4,this._sortNodeDown(0)];case 1:return r.sent(),[2,n]}})})},t.prototype.size=function(){return this.length},t.prototype.top=function(e){return e===void 0&&(e=1),$e(this,void 0,void 0,function(){return Le(this,function(n){return this.heapArray.length===0||e<=0?[2,[]]:this.heapArray.length===1||e===1?[2,[this.heapArray[0]]]:e>=this.heapArray.length?[2,Mn([],dn(this.heapArray),!1)]:[2,this._topN_push(~~e)]})})},t.prototype.toArray=function(){return Mn([],dn(this.heapArray),!1)},t.prototype.toString=function(){return this.heapArray.toString()},t.prototype.get=function(e){return this.heapArray[e]},t.prototype.getChildrenOf=function(e){var n=this;return t.getChildrenIndexOf(e).map(function(r){return n.heapArray[r]}).filter(function(r){return r!==void 0})},t.prototype.getParentOf=function(e){var n=t.getParentIndexOf(e);return this.heapArray[n]},t.prototype[Symbol.iterator]=function(){return Le(this,function(e){switch(e.label){case 0:return this.length?[4,this.pop()]:[3,2];case 1:return e.sent(),[3,0];case 2:return[2]}})},t.prototype.iterator=function(){return this},t.prototype._applyLimit=function(){if(this._limit&&this._limit<this.heapArray.length)for(var e=this.heapArray.length-this._limit;e;)this.heapArray.pop(),--e},t.prototype._bottomN_push=function(e){return $e(this,void 0,void 0,function(){var n,r,i,o,a,s,a;return Le(this,function(l){switch(l.label){case 0:return n=new t(this.compare),n.limit=e,n.heapArray=this.heapArray.slice(-e),[4,n.init()];case 1:for(l.sent(),r=this.heapArray.length-1-e,i=t.getParentIndexOf(r),o=[],a=r;a>i;--a)o.push(a);s=this.heapArray,l.label=2;case 2:return o.length?(a=o.shift(),[4,this.compare(s[a],n.peek())]):[3,6];case 3:return l.sent()>0?[4,n.replace(s[a])]:[3,5];case 4:l.sent(),a%2&&o.push(t.getParentIndexOf(a)),l.label=5;case 5:return[3,2];case 6:return[2,n.toArray()]}})})},t.prototype._moveNode=function(e,n){var r;r=dn([this.heapArray[n],this.heapArray[e]],2),this.heapArray[e]=r[0],this.heapArray[n]=r[1]},t.prototype._sortNodeDown=function(e){return $e(this,void 0,void 0,function(){var n,r,i,o,s,a,l,u,c=this;return Le(this,function(d){switch(d.label){case 0:n=e<this.heapArray.length-1,r=this.heapArray[e],i=function(f,g){return $e(c,void 0,void 0,function(){var v;return Le(this,function(w){switch(w.label){case 0:return v=this.heapArray.length>g,v?[4,this.compare(this.heapArray[g],this.heapArray[f])]:[3,2];case 1:v=w.sent()<0,w.label=2;case 2:return v&&(f=g),[2,f]}})})},d.label=1;case 1:if(!n)return[3,8];o=t.getChildrenIndexOf(e),s=o[0],a=1,d.label=2;case 2:return a<o.length?[4,i(s,o[a])]:[3,5];case 3:s=d.sent(),d.label=4;case 4:return++a,[3,2];case 5:return l=this.heapArray[s],u=typeof l<"u",u?[4,this.compare(r,l)]:[3,7];case 6:u=d.sent()>0,d.label=7;case 7:return u?(this._moveNode(e,s),e=s):n=!1,[3,1];case 8:return[2]}})})},t.prototype._sortNodeUp=function(e){return $e(this,void 0,void 0,function(){var n,r,i;return Le(this,function(o){switch(o.label){case 0:n=e>0,o.label=1;case 1:return n?(r=t.getParentIndexOf(e),i=r>=0,i?[4,this.compare(this.heapArray[r],this.heapArray[e])]:[3,3]):[3,4];case 2:i=o.sent()>0,o.label=3;case 3:return i?(this._moveNode(e,r),e=r):n=!1,[3,1];case 4:return[2]}})})},t.prototype._topN_push=function(e){return $e(this,void 0,void 0,function(){var n,r,i,o;return Le(this,function(s){switch(s.label){case 0:n=new t(this._invertedCompare),n.limit=e,r=[0],i=this.heapArray,s.label=1;case 1:return r.length?(o=r.shift(),o<i.length?n.length<e?[4,n.push(i[o])]:[3,3]:[3,6]):[3,7];case 2:return s.sent(),r.push.apply(r,Mn([],dn(t.getChildrenIndexOf(o)),!1)),[3,6];case 3:return[4,this.compare(i[o],n.peek())];case 4:return s.sent()<0?[4,n.replace(i[o])]:[3,6];case 5:s.sent(),r.push.apply(r,Mn([],dn(t.getChildrenIndexOf(o)),!1)),s.label=6;case 6:return[3,1];case 7:return[2,n.toArray()]}})})},t.prototype._topN_fill=function(e){return $e(this,void 0,void 0,function(){var n,r,i,o,s,s;return Le(this,function(a){switch(a.label){case 0:return n=this.heapArray,r=new t(this._invertedCompare),r.limit=e,r.heapArray=n.slice(0,e),[4,r.init()];case 1:for(a.sent(),i=t.getParentIndexOf(e-1)+1,o=[],s=i;s<e;++s)o.push.apply(o,Mn([],dn(t.getChildrenIndexOf(s).filter(function(l){return l<n.length})),!1));(e-1)%2&&o.push(e),a.label=2;case 2:return o.length?(s=o.shift(),s<n.length?[4,this.compare(n[s],r.peek())]:[3,5]):[3,6];case 3:return a.sent()<0?[4,r.replace(n[s])]:[3,5];case 4:a.sent(),o.push.apply(o,Mn([],dn(t.getChildrenIndexOf(s)),!1)),a.label=5;case 5:return[3,2];case 6:return[2,r.toArray()]}})})},t.prototype._topN_heap=function(e){return $e(this,void 0,void 0,function(){var n,r,i,o,s;return Le(this,function(a){switch(a.label){case 0:n=this.clone(),r=[],i=0,a.label=1;case 1:return i<e?(s=(o=r).push,[4,n.pop()]):[3,4];case 2:s.apply(o,[a.sent()]),a.label=3;case 3:return++i,[3,1];case 4:return[2,r]}})})},t.prototype._topIdxOf=function(e){return $e(this,void 0,void 0,function(){var n,r,i,o;return Le(this,function(s){switch(s.label){case 0:if(!e.length)return[2,-1];n=0,r=e[n],i=1,s.label=1;case 1:return i<e.length?[4,this.compare(e[i],r)]:[3,4];case 2:o=s.sent(),o<0&&(n=i,r=e[i]),s.label=3;case 3:return++i,[3,1];case 4:return[2,n]}})})},t.prototype._topOf=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return $e(this,void 0,void 0,function(){var r;return Le(this,function(i){switch(i.label){case 0:return r=new t(this.compare),[4,r.init(e)];case 1:return i.sent(),[2,r.peek()]}})})},t})();var l3=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},fn=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Ln=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},KS=function(){function t(e){e===void 0&&(e=t.minComparator);var n=this;this.compare=e,this.heapArray=[],this._limit=0,this.offer=this.add,this.element=this.peek,this.poll=this.pop,this._invertedCompare=function(r,i){return-1*n.compare(r,i)}}return t.getChildrenIndexOf=function(e){return[e*2+1,e*2+2]},t.getParentIndexOf=function(e){if(e<=0)return-1;var n=e%2?1:2;return Math.floor((e-n)/2)},t.getSiblingIndexOf=function(e){if(e<=0)return-1;var n=e%2?1:-1;return e+n},t.minComparator=function(e,n){return e>n?1:e<n?-1:0},t.maxComparator=function(e,n){return n>e?1:n<e?-1:0},t.minComparatorNumber=function(e,n){return e-n},t.maxComparatorNumber=function(e,n){return n-e},t.defaultIsEqual=function(e,n){return e===n},t.print=function(e){function n(c){var d=t.getParentIndexOf(c);return Math.floor(Math.log2(d+1))}function r(c,d){for(var f="";d>0;--d)f+=c;return f}for(var i=0,o=[],s=n(e.length-1)+2,a=0;i<e.length;){var l=n(i)+1;i===0&&(l=0);var u=String(e.get(i));u.length>a&&(a=u.length),o[l]=o[l]||[],o[l].push(u),i+=1}return o.map(function(c,d){var f=Math.pow(2,s-d)-1;return r(" ",Math.floor(f/2)*a)+c.map(function(g){var v=(a-g.length)/2;return r(" ",Math.ceil(v))+g+r(" ",Math.floor(v))}).join(r(" ",f*a))}).join(`
`)},t.heapify=function(e,n){var r=new t(n);return r.heapArray=e,r.init(),r},t.heappop=function(e,n){var r=new t(n);return r.heapArray=e,r.pop()},t.heappush=function(e,n,r){var i=new t(r);i.heapArray=e,i.push(n)},t.heappushpop=function(e,n,r){var i=new t(r);return i.heapArray=e,i.pushpop(n)},t.heapreplace=function(e,n,r){var i=new t(r);return i.heapArray=e,i.replace(n)},t.heaptop=function(e,n,r){n===void 0&&(n=1);var i=new t(r);return i.heapArray=e,i.top(n)},t.heapbottom=function(e,n,r){n===void 0&&(n=1);var i=new t(r);return i.heapArray=e,i.bottom(n)},t.nlargest=function(e,n,r){var i=new t(r);return i.heapArray=Ln([],fn(n),!1),i.init(),i.top(e)},t.nsmallest=function(e,n,r){var i=new t(r);return i.heapArray=Ln([],fn(n),!1),i.init(),i.bottom(e)},t.prototype.add=function(e){return this._sortNodeUp(this.heapArray.push(e)-1),this._applyLimit(),!0},t.prototype.addAll=function(e){var n,r=this.length;(n=this.heapArray).push.apply(n,Ln([],fn(e),!1));for(var i=this.length;r<i;++r)this._sortNodeUp(r);return this._applyLimit(),!0},t.prototype.bottom=function(e){return e===void 0&&(e=1),this.heapArray.length===0||e<=0?[]:this.heapArray.length===1?[this.heapArray[0]]:e>=this.heapArray.length?Ln([],fn(this.heapArray),!1):this._bottomN_push(~~e)},t.prototype.check=function(){var e=this;return this.heapArray.find(function(n,r){return!!e.getChildrenOf(r).find(function(i){return e.compare(n,i)>0})})},t.prototype.clear=function(){this.heapArray=[]},t.prototype.clone=function(){var e=new t(this.comparator());return e.heapArray=this.toArray(),e._limit=this._limit,e},t.prototype.comparator=function(){return this.compare},t.prototype.contains=function(e,n){return n===void 0&&(n=t.defaultIsEqual),this.heapArray.findIndex(function(r){return n(r,e)})>=0},t.prototype.init=function(e){e&&(this.heapArray=Ln([],fn(e),!1));for(var n=Math.floor(this.heapArray.length);n>=0;--n)this._sortNodeDown(n);this._applyLimit()},t.prototype.isEmpty=function(){return this.length===0},t.prototype.leafs=function(){if(this.heapArray.length===0)return[];var e=t.getParentIndexOf(this.heapArray.length-1);return this.heapArray.slice(e+1)},Object.defineProperty(t.prototype,"length",{get:function(){return this.heapArray.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"limit",{get:function(){return this._limit},set:function(e){this._limit=~~e,this._applyLimit()},enumerable:!1,configurable:!0}),t.prototype.peek=function(){return this.heapArray[0]},t.prototype.pop=function(){var e=this.heapArray.pop();return this.length>0&&e!==void 0?this.replace(e):e},t.prototype.push=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length<1?!1:e.length===1?this.add(e[0]):this.addAll(e)},t.prototype.pushpop=function(e){var n;return this.compare(this.heapArray[0],e)<0&&(n=fn([this.heapArray[0],e],2),e=n[0],this.heapArray[0]=n[1],this._sortNodeDown(0)),e},t.prototype.remove=function(e,n){if(n===void 0&&(n=t.defaultIsEqual),this.length>0){if(e===void 0)return this.pop(),!0;var r=this.heapArray.findIndex(function(i){return n(i,e)});if(r>=0)return r===0?this.pop():r===this.length-1?this.heapArray.pop():(this.heapArray.splice(r,1,this.heapArray.pop()),this._sortNodeUp(r),this._sortNodeDown(r)),!0}return!1},t.prototype.replace=function(e){var n=this.heapArray[0];return this.heapArray[0]=e,this._sortNodeDown(0),n},t.prototype.size=function(){return this.length},t.prototype.top=function(e){return e===void 0&&(e=1),this.heapArray.length===0||e<=0?[]:this.heapArray.length===1||e===1?[this.heapArray[0]]:e>=this.heapArray.length?Ln([],fn(this.heapArray),!1):this._topN_push(~~e)},t.prototype.toArray=function(){return Ln([],fn(this.heapArray),!1)},t.prototype.toString=function(){return this.heapArray.toString()},t.prototype.get=function(e){return this.heapArray[e]},t.prototype.getChildrenOf=function(e){var n=this;return t.getChildrenIndexOf(e).map(function(r){return n.heapArray[r]}).filter(function(r){return r!==void 0})},t.prototype.getParentOf=function(e){var n=t.getParentIndexOf(e);return this.heapArray[n]},t.prototype[Symbol.iterator]=function(){return l3(this,function(e){switch(e.label){case 0:return this.length?[4,this.pop()]:[3,2];case 1:return e.sent(),[3,0];case 2:return[2]}})},t.prototype.iterator=function(){return this.toArray()},t.prototype._applyLimit=function(){if(this._limit&&this._limit<this.heapArray.length)for(var e=this.heapArray.length-this._limit;e;)this.heapArray.pop(),--e},t.prototype._bottomN_push=function(e){var n=new t(this.compare);n.limit=e,n.heapArray=this.heapArray.slice(-e),n.init();for(var r=this.heapArray.length-1-e,i=t.getParentIndexOf(r),o=[],s=r;s>i;--s)o.push(s);for(var a=this.heapArray;o.length;){var s=o.shift();this.compare(a[s],n.peek())>0&&(n.replace(a[s]),s%2&&o.push(t.getParentIndexOf(s)))}return n.toArray()},t.prototype._moveNode=function(e,n){var r;r=fn([this.heapArray[n],this.heapArray[e]],2),this.heapArray[e]=r[0],this.heapArray[n]=r[1]},t.prototype._sortNodeDown=function(e){for(var n=this,r=e<this.heapArray.length-1,i=this.heapArray[e],o=function(u,c){return n.heapArray.length>c&&n.compare(n.heapArray[c],n.heapArray[u])<0&&(u=c),u};r;){var s=t.getChildrenIndexOf(e),a=s.reduce(o,s[0]),l=this.heapArray[a];typeof l<"u"&&this.compare(i,l)>0?(this._moveNode(e,a),e=a):r=!1}},t.prototype._sortNodeUp=function(e){for(var n=e>0;n;){var r=t.getParentIndexOf(e);r>=0&&this.compare(this.heapArray[r],this.heapArray[e])>0?(this._moveNode(e,r),e=r):n=!1}},t.prototype._topN_push=function(e){var n=new t(this._invertedCompare);n.limit=e;for(var r=[0],i=this.heapArray;r.length;){var o=r.shift();o<i.length&&(n.length<e?(n.push(i[o]),r.push.apply(r,Ln([],fn(t.getChildrenIndexOf(o)),!1))):this.compare(i[o],n.peek())<0&&(n.replace(i[o]),r.push.apply(r,Ln([],fn(t.getChildrenIndexOf(o)),!1))))}return n.toArray()},t.prototype._topN_fill=function(e){var n=this.heapArray,r=new t(this._invertedCompare);r.limit=e,r.heapArray=n.slice(0,e),r.init();for(var i=t.getParentIndexOf(e-1)+1,o=[],s=i;s<e;++s)o.push.apply(o,Ln([],fn(t.getChildrenIndexOf(s).filter(function(a){return a<n.length})),!1));for((e-1)%2&&o.push(e);o.length;){var s=o.shift();s<n.length&&this.compare(n[s],r.peek())<0&&(r.replace(n[s]),o.push.apply(o,Ln([],fn(t.getChildrenIndexOf(s)),!1)))}return r.toArray()},t.prototype._topN_heap=function(e){for(var n=this.clone(),r=[],i=0;i<e;++i)r.push(n.pop());return r},t.prototype._topIdxOf=function(e){if(!e.length)return-1;for(var n=0,r=e[n],i=1;i<e.length;++i){var o=this.compare(e[i],r);o<0&&(n=i,r=e[i])}return n},t.prototype._topOf=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=new t(this.compare);return r.init(e),r.peek()},t}();class ku{constructor(e){this.task=e,this.doBefore=e.doBefore,this.outgoingNode=[],this.in_deg=-1}getTask(){return this.task}checkZero(){return this.in_deg==0}setOutgoingNode(e){this.outgoingNode.push(e)}updateOutgoingNodes(e){this.getTask().doBefore&&(this.in_deg=this.doBefore.length,this.doBefore.forEach(n=>{if(n._id){const r=e.get(n._id);r?r.setOutgoingNode(this):console.log("not working")}else{const r=e.get("-1");r?r.setOutgoingNode(this):console.log("not working")}}))}}async function qS(){const t=Q==null?void 0:Q.currentUser,e=await t.getIdToken();return await(await fetch(`${Ve}/toposort?UID=${t.uid}`,{method:"GET",headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}})).json()}const ji=new Map;ji.set("High",3);ji.set("Medium",2);ji.set("Low",1);function YS(t,e){const n=new Date(t.task.deadline),r=new Date(e.task.deadline);return t.in_deg<e.in_deg?-1:t.in_deg>e.in_deg?1:ji.get(t.task.priority)>ji.get(e.task.priority)?-1:ji.get(t.task.priority)<ji.get(e.task.priority)?1:n<r?-1:n>r?1:0}async function QS(t,e){if(e.length<=1)return!0;const n=new Map;let r=!1;if(e.forEach(a=>{let l=null;a._id===t._id?(l=new ku(t),r=!0):l=new ku(a),a._id?n.set(a._id,l):n.set("-1",l)}),!r){const a=new ku(t);n.set(t._id,a)}n.forEach(a=>a.updateOutgoingNodes(n));const i=[];n.forEach(a=>i.push(a));const o=new KS(YS);o.init(i);let s=0;for(;!o.isEmpty()&&o.peek().checkZero();){const a=o.poll();s++,a.outgoingNode.forEach(l=>{l.in_deg--,o.remove(l),o.add(l)})}return s===i.length}async function u3(t){let e=[];if(t.length<=1)return t;const n=new Map;t.forEach(o=>{const s=new ku(o);n.set(o._id,s)}),n.forEach(o=>o.updateOutgoingNodes(n));const r=[];n.forEach(o=>r.push(o));const i=new KS(YS);for(i.init(r);!i.isEmpty()&&i.peek().checkZero();){const o=i.poll();e.push(o),o.outgoingNode.forEach(s=>{s.in_deg--,i.remove(s),i.add(s)})}return e=e.map(o=>o.getTask()),e}async function c3(t){var n;console.log(t);const e=await((n=Q.currentUser)==null?void 0:n.getIdToken());await fetch(`${Ve}/googlecalendar/patch_event`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}})}function d3(){const[t,e]=h.useState({name:"",deadline:"",priority:"",description:"",doBefore:[]}),n=IT(),r=Kn();h.useEffect(()=>{async function s(){var d;const a=await((d=Q.currentUser)==null?void 0:d.getIdToken()),l=n.id.toString(),u=await fetch(`${Ve}/task/${n.id.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});if(!u.ok){const f=`An error has occurred: ${u.statusText}`;window.alert(f);return}const c=await u.json();if(!c){window.alert(`Task with MongoDb_id ${l} not found`),r("/");return}e(c)}s()},[n.id,r]);function i(s){return e(a=>({...a,...s}))}async function o(s){var g,v;s.preventDefault();const a={_id:n.id,name:t.name,deadline:t.deadline,priority:t.priority,description:t.description,firebaseUID:(g=Q.currentUser)==null?void 0:g.uid,doBefore:t.doBefore},l=await((v=Q.currentUser)==null?void 0:v.getIdToken()),u=n.id.toString();var f=(await(await fetch(`${Ve}/task/${u}`,{method:"GET",headers:{Authorization:"Bearer "+l}})).json()).googleCalendarEventID;c3({...a,eventID:f}),await QS(a,await qS())?(console.log("DAG PRESENT"),await fetch(`${Ve}/task/${n.id}`,{method:"PATCH",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Bearer "+l}})):console.log("CYCLE FOUND"),r("/mytasks")}return K("div",{children:[y("h3",{children:"Update Record"}),K("form",{onSubmit:o,children:[K("div",{className:"form-group",children:[y("label",{htmlFor:"name",children:"Name: "}),y("input",{type:"text",className:"form-control",id:"name",value:t.name,onChange:s=>i({name:s.target.value})})]}),K("div",{className:"form-group",children:[y("label",{htmlFor:"deadline",children:"Deadline: "}),y("input",{type:"date",className:"form-control",id:"deadline",value:t.deadline,onChange:s=>i({deadline:s.target.value})})]}),K("div",{className:"form-group",children:[y("label",{htmlFor:"description",children:"Task description: "}),y("input",{type:"text",className:"form-control",id:"description",value:t.description,onChange:s=>i({description:s.target.value})})]}),K("div",{className:"form-group",children:[K("div",{className:"form-check form-check-inline",children:[y("input",{className:"form-check-input",type:"radio",name:"priorityOptions",id:"priorityLow",value:"Low",checked:t.priority==="Low",onChange:s=>i({priority:s.target.value})}),y("label",{htmlFor:"priorityLow",className:"form-check-label",children:"Low"})]}),K("div",{className:"form-check form-check-inline",children:[y("input",{className:"form-check-input",type:"radio",name:"priorityOptions",id:"priorityMedium",value:"Medium",checked:t.priority==="Medium",onChange:s=>i({priority:s.target.value})}),y("label",{htmlFor:"priorityMedium",className:"form-check-label",children:"Medium"})]}),K("div",{className:"form-check form-check-inline",children:[y("input",{className:"form-check-input",type:"radio",name:"priorityOptions",id:"priorityHigh",value:"High",checked:t.priority==="High",onChange:s=>i({priority:s.target.value})}),y("label",{htmlFor:"priorityHigh",className:"form-check-label",children:"High"})]})]}),y("br",{}),y(GS,{task:t,updateTask:i}),y("div",{className:"form-group",children:y("input",{type:"submit",value:"Update Record",className:"btn btn-primary"})})]})]})}async function f3(t){var n;const e=await((n=Q.currentUser)==null?void 0:n.getIdToken());await fetch(`${Ve}/googlecalendar/schedule_event`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}})}let tu;const h3=new Uint8Array(16);function p3(){if(!tu&&(tu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!tu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tu(h3)}const Nt=[];for(let t=0;t<256;++t)Nt.push((t+256).toString(16).slice(1));function m3(t,e=0){return(Nt[t[e+0]]+Nt[t[e+1]]+Nt[t[e+2]]+Nt[t[e+3]]+"-"+Nt[t[e+4]]+Nt[t[e+5]]+"-"+Nt[t[e+6]]+Nt[t[e+7]]+"-"+Nt[t[e+8]]+Nt[t[e+9]]+"-"+Nt[t[e+10]]+Nt[t[e+11]]+Nt[t[e+12]]+Nt[t[e+13]]+Nt[t[e+14]]+Nt[t[e+15]]).toLowerCase()}const g3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),K0={randomUUID:g3};function v3(t,e,n){if(K0.randomUUID&&!e&&!t)return K0.randomUUID();t=t||{};const r=t.random||(t.rng||p3)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return m3(r)}function y3(){const[t,e]=h.useState({name:"",deadline:"",priority:"",description:"",firebaseUID:"",doBefore:[]}),n=Kn();function r(o){return e(s=>({...s,...o}))}h.useEffect(()=>{const o=Q.currentUser.uid;r({firebaseUID:o})},[]);async function i(o){var l;o.preventDefault();var s=v3().replace(/-/g,"");const a={...t,eventID:s};if(f3(a),await QS(a,await qS())){console.log("DAG Present");const u=await((l=Q.currentUser)==null?void 0:l.getIdToken());await fetch(`${Ve}/task`,{method:"POST",headers:{Authorization:"Bearer "+u,"Content-Type":"application/json"},body:JSON.stringify(a)}).catch(c=>{window.alert(c)})}else console.log("NO DAG present");e({name:"",deadline:"",priority:"",description:"",firebaseUID:"",doBefore:[]}),n("/mytasks")}return K("div",{style:{margin:10},children:[y("h3",{children:"Add new task"}),K("form",{onSubmit:i,"data-testid":"create-form",children:[K("div",{className:"form-group",children:[y("label",{htmlFor:"name","data-testid":"name-label",children:"Task Name"}),y("input",{type:"text",className:"form-control",id:"name",value:t.name,onChange:o=>r({name:o.target.value}),required:!0,"data-testid":"name-input"})]}),K("div",{className:"form-group",children:[y("label",{htmlFor:"Deadline","data-testid":"deadline-label",children:"Deadline"}),y("input",{type:"date",className:"form-control",id:"deadline",value:t.deadline,onChange:o=>r({deadline:o.target.value}),"data-testid":"deadline-input"})]}),K("div",{className:"form-group",children:[K("label",{htmlFor:"Description","data-testid":"description-label",children:[" ","Task description"]}),y("input",{type:"text",className:"form-control",id:"description",value:t.description,onChange:o=>r({description:o.target.value}),"data-testid":"description-input"})]}),y("label",{htmlFor:"Priority","data-testid":"priority-label",children:"Priority"}),K("div",{className:"form-group",children:[y("div",{className:"form-check form-check-inline",children:K("label",{htmlFor:"priorityLow",className:"form-check-label","data-testid":"low-priority-label",children:[y("input",{className:"form-check-input",type:"radio",name:"priorityOptions",id:"priorityLow",value:"Low",checked:t.priority==="Low",onChange:o=>r({priority:o.target.value}),required:!0,"data-testid":"low-priority-input"}),"Low"]})}),y("div",{className:"form-check form-check-inline",children:K("label",{htmlFor:"priorityMedium",className:"form-check-label","data-testid":"med-priority-label",children:[y("input",{className:"form-check-input",type:"radio",name:"priorityOptions",id:"priorityMedium",value:"Medium",checked:t.priority==="Medium",onChange:o=>r({priority:o.target.value}),"data-testid":"med-priority-input"}),"Medium"]})}),y("div",{className:"form-check form-check-inline",children:K("label",{htmlFor:"priorityHigh",className:"form-check-label","data-testid":"high-priority-label",children:[y("input",{className:"form-check-input",type:"radio",name:"priorityOptions",id:"priorityHigh",value:"High",checked:t.priority==="High",onChange:o=>r({priority:o.target.value}),"data-testid":"high-priority-input"}),"High"]})})]}),y(GS,{updateTask:r}),y("div",{className:"form-group",children:y("input",{type:"submit",value:"Add task",className:"btn btn-primary","data-testid":"submit-button"})})]})]})}const _3="/assets/google-d65d89c2.png",w3="/assets/facebook-2f54914b.png";async function hp(){const t=Q==null?void 0:Q.currentUser,e=await t.getIdToken();await fetch(`${Ve}/register`,{method:"POST",headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"},body:JSON.stringify({firebaseUID:t.uid,email:t.email})}).catch(n=>{window.alert(n)})}async function E3(t,e){await yA(t,e.email,e.password).then(n=>{n.user,console.log("logged in with email and password")}).catch(n=>{throw n.code,n.message,n})}function C3(t){const e=new vr,n=new gr,[r,i]=h.useState({email:"",password:""}),[o,s]=h.useState(null);async function a(){await Iy(Q,e).then(async d=>{d&&await hp()}).catch(d=>{console.log(d)})}async function l(){await Iy(Q,n).then(async d=>{await hp(),await Dm(d.user).then(console.log("Email verification sent")).catch(f=>{console.log(f)})}).catch(d=>{d.code;const f=d.message;throw console.log(f),d})}const u=d=>i(f=>({...f,...d}));async function c(d){d.preventDefault(),await E3(Q,r).catch(f=>{f.message==="Firebase: Error (auth/invalid-email)."?s("Invalid Email"):f.message==="Firebase: Error (auth/user-not-found)."?s("Email not found"):f.message==="Firebase: Error (auth/wrong-password)."&&s("Wrong password")}),i({email:"",password:""}),d.target.reset()}return y("div",{className:"login",children:t.auth?K(tt,{children:[y("h1",{children:"You are logged in"}),y(er,{style:{color:"black"},to:"/mytasks",children:"Go to task list"})]}):y(tt,{children:K("div",{className:"other-login-container",style:{width:"30rem",border:"1px solid grey",paddingBlock:"3%",borderRadius:"10px",boxShadow:"0 0 10px lightgrey"},children:[K("form",{className:"login-style-form",onSubmit:c,"data-testid":"login-form",children:[y("h1",{className:"login-header",children:"Login"}),K("div",{children:["Don't have an account?",y(er,{style:{color:"blue",margin:5,textDecoration:"none"},to:"/register",children:"Register here."})]}),y("label",{htmlFor:"email","data-testid":"email-label",children:"Email:"}),y("input",{type:"text",name:"email",id:"email",value:r.email,placeholder:"Your email",onChange:d=>u({email:d.target.value}),"data-testid":"email-input",required:!0}),y("label",{htmlFor:"password","data-testid":"password-label",children:"Password:"}),y("input",{type:"text",name:"password",id:"password",value:r.password,placeholder:"Your password",onChange:d=>u({password:d.target.value}),"data-testid":"password-input",required:!0}),o?y("h5",{className:"error-alert",style:{"margin-top":"1vh"},children:o}):y("h3",{style:{display:"none"}}),y("button",{"data-testid":"login-button",type:"submit",className:"btn btn-light",style:{border:"0.5px solid",borderRadius:"10px",marginTop:"10px"},children:"Log in"}),y("br",{})]}),y("hr",{}),y("h2",{children:"Log in using other alternatives"}),K("div",{className:"other-login-container",style:{width:"20rem",margin:0,padding:0,borderRadius:"10px"},children:[y("button",{onClick:a,"data-testid":"google-login",children:y("img",{src:_3,"data-testid":"googleImg"})}),y("button",{onClick:l,"data-testid":"facebook-login",children:y("img",{src:w3,"data-testid":"facebookImg"})}),y("hr",{})]}),K("div",{children:["Forgot your password?",y(er,{style:{color:"red",margin:5,textDecoration:"none"},to:"/reset",children:"Reset here"})]})]})})})}const S3="/assets/tasklistss-381bd5a7.png";function b3(t){return y(tt,{children:y("div",{className:"container-fluid ",style:{padding:"2%",backgroundColor:"white"},children:K("div",{className:"row",children:[K("div",{className:"col-5 ",style:{padding:"3%"},children:[y("h1",{children:"Simple & minimalistic to-do-list app "}),K("body",{style:{fontSize:20},children:["Feeling overwhelmed from your work or clueless on where to start?",y("br",{}),"Let our app help you sort it out!"]})]}),y("img",{src:S3,className:"col-7",style:{filter:"drop-shadow(10px 10px 10px black)",borderRadius:"3%"}})]})})})}async function I3(t,e){let n;return await vA(t,e.email,e.password).then(async r=>{n=r.user,console.log("registered with email and password")}).catch(r=>{throw r.message,r}),n}function k3(t){const e=Kn(),[n,r]=h.useState(null),[i,o]=h.useState(null),[s,a]=h.useState({email:"",password:""}),l=d=>a(f=>({...f,...d}));async function u(){await Dm(n).then(console.log("Email verification sent")).catch(d=>console.log(d))}h.useEffect(()=>{n&&u()},[n]);async function c(d){d.preventDefault(),r(await I3(Q,s).catch(f=>{const g=f.message.replace("Firebase: ","");o(g)})),await hp(),a({email:"",password:""}),d.target.reset(),e("/login")}return y(tt,{children:K("div",{className:"register",children:[K("form",{className:"register-style-form",onSubmit:c,style:{width:"40vw",height:"70vh",border:"1px solid grey",padding:"5rem",borderRadius:"10px",boxShadow:"0 0 10px lightgrey"},"data-testid":"register-form",children:[y("h1",{style:{"text-align":"center"},children:"Create Your Free Account"}),y("label",{htmlFor:"email","data-testid":"label-email",children:"Email: "}),y("input",{type:"text",name:"password",id:"email",value:s.email,placeholder:"Your email",onChange:d=>l({email:d.target.value}),"data-testid":"input-email",required:!0}),y("label",{htmlFor:"password","data-testid":"label-password",style:{"margin-top":"2vh"},children:"Password: "}),y("input",{type:"text",name:"password",id:"password",value:s.password,placeholder:"Your password",onChange:d=>l({password:d.target.value}),"data-testid":"input-password",required:!0}),i?y("h5",{className:"error-alert",style:{"margin-top":"1vh"},children:i}):y("h3",{style:{display:"none"}}),y("button",{type:"submit",className:"btn btn-light",style:{marginTop:"10px",border:"0.5px solid",borderRadius:"10px","text-align":"center",width:"50%",margin:"auto","margin-top":"4vh",padding:"1rem","font-weight":"bold"},"data-testid":"submit-button",children:"Create user"})]}),y(er,{style:{color:"white"},to:"/login",children:"Already have an account? Login here."})]})})}const T3="/assets/resetPassword-b5e32785.png";function x3(){const t=Kn(),[e,n]=h.useState({email:""}),r=o=>n(s=>({...s,...o}));async function i(o){o.preventDefault(),gA(Q,e.email).then(()=>console.log("Password resetted")).catch(a=>console.log(a.message)),n({email:""}),o.target.reset(),t("/login")}return y(tt,{children:K("form",{onSubmit:i,className:"reset-Form",children:[y("img",{src:T3,className:"resetImg"}),y("h3",{children:"Reset Your Password"}),y("label",{htmlFor:"email","data-testid":"email-label",children:"Email Address: "}),y("input",{type:"text",id:"email","data-testid":"email-input",onChange:o=>r({email:o.target.value}),required:!0}),y("button",{type:"submit","data-testid":"submit-button",children:"Reset password"})]})})}function N3(){return h.useEffect(()=>console.log("returning to homepage"),[]),window.alert("Page not found! Redirecting to homepage"),y(UT,{to:"/"})}var A3=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(r,i,o){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var s in r)n.d(o,s,function(a){return r[a]}.bind(null,s));return o},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=9)}([function(t,e){t.exports=h},function(t,e,n){var r;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var i={}.hasOwnProperty;function o(){for(var s=[],a=0;a<arguments.length;a++){var l=arguments[a];if(l){var u=typeof l;if(u==="string"||u==="number")s.push(l);else if(Array.isArray(l)&&l.length){var c=o.apply(null,l);c&&s.push(c)}else if(u==="object")for(var d in l)i.call(l,d)&&l[d]&&s.push(d)}}return s.join(" ")}t.exports?(o.default=o,t.exports=o):(r=function(){return o}.apply(e,[]))===void 0||(t.exports=r)})()},function(t,e,n){(function(r){var i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,u=typeof r=="object"&&r&&r.Object===Object&&r,c=typeof self=="object"&&self&&self.Object===Object&&self,d=u||c||Function("return this")(),f=Object.prototype.toString,g=d.Symbol,v=g?g.prototype:void 0,w=v?v.toString:void 0;function C(b){if(typeof b=="string")return b;if(p(b))return w?w.call(b):"";var I=b+"";return I=="0"&&1/b==-1/0?"-0":I}function m(b){var I=typeof b;return!!b&&(I=="object"||I=="function")}function p(b){return typeof b=="symbol"||function(I){return!!I&&typeof I=="object"}(b)&&f.call(b)=="[object Symbol]"}function _(b){return b?(b=function(I){if(typeof I=="number")return I;if(p(I))return NaN;if(m(I)){var k=typeof I.valueOf=="function"?I.valueOf():I;I=m(k)?k+"":k}if(typeof I!="string")return I===0?I:+I;I=I.replace(i,"");var T=s.test(I);return T||a.test(I)?l(I.slice(2),T?2:8):o.test(I)?NaN:+I}(b))===1/0||b===-1/0?17976931348623157e292*(b<0?-1:1):b==b?b:0:b===0?b:0}t.exports=function(b,I,k){var T,D,Y,H;return b=(T=b)==null?"":C(T),D=function(pe){var me=_(pe),Ce=me%1;return me==me?Ce?me-Ce:me:0}(k),Y=0,H=b.length,D==D&&(H!==void 0&&(D=D<=H?D:H),Y!==void 0&&(D=D>=Y?D:Y)),k=D,I=C(I),b.slice(k,k+I.length)==I}}).call(this,n(3))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch{typeof window=="object"&&(n=window)}t.exports=n},function(t,e,n){(function(r){var i=/^\[object .+?Constructor\]$/,o=typeof r=="object"&&r&&r.Object===Object&&r,s=typeof self=="object"&&self&&self.Object===Object&&self,a=o||s||Function("return this")(),l,u=Array.prototype,c=Function.prototype,d=Object.prototype,f=a["__core-js_shared__"],g=(l=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",v=c.toString,w=d.hasOwnProperty,C=d.toString,m=RegExp("^"+v.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),p=u.splice,_=pe(a,"Map"),b=pe(Object,"create");function I(M){var P=-1,L=M?M.length:0;for(this.clear();++P<L;){var U=M[P];this.set(U[0],U[1])}}function k(M){var P=-1,L=M?M.length:0;for(this.clear();++P<L;){var U=M[P];this.set(U[0],U[1])}}function T(M){var P=-1,L=M?M.length:0;for(this.clear();++P<L;){var U=M[P];this.set(U[0],U[1])}}function D(M,P){for(var L,U,N=M.length;N--;)if((L=M[N][0])===(U=P)||L!=L&&U!=U)return N;return-1}function Y(M){return!(!Ce(M)||(P=M,g&&g in P))&&(function(L){var U=Ce(L)?C.call(L):"";return U=="[object Function]"||U=="[object GeneratorFunction]"}(M)||function(L){var U=!1;if(L!=null&&typeof L.toString!="function")try{U=!!(L+"")}catch{}return U}(M)?m:i).test(function(L){if(L!=null){try{return v.call(L)}catch{}try{return L+""}catch{}}return""}(M));var P}function H(M,P){var L,U,N=M.__data__;return((U=typeof(L=P))=="string"||U=="number"||U=="symbol"||U=="boolean"?L!=="__proto__":L===null)?N[typeof P=="string"?"string":"hash"]:N.map}function pe(M,P){var L=function(U,N){return U==null?void 0:U[N]}(M,P);return Y(L)?L:void 0}function me(M,P){if(typeof M!="function"||P&&typeof P!="function")throw new TypeError("Expected a function");var L=function(){var U=arguments,N=P?P.apply(this,U):U[0],F=L.cache;if(F.has(N))return F.get(N);var x=M.apply(this,U);return L.cache=F.set(N,x),x};return L.cache=new(me.Cache||T),L}function Ce(M){var P=typeof M;return!!M&&(P=="object"||P=="function")}I.prototype.clear=function(){this.__data__=b?b(null):{}},I.prototype.delete=function(M){return this.has(M)&&delete this.__data__[M]},I.prototype.get=function(M){var P=this.__data__;if(b){var L=P[M];return L==="__lodash_hash_undefined__"?void 0:L}return w.call(P,M)?P[M]:void 0},I.prototype.has=function(M){var P=this.__data__;return b?P[M]!==void 0:w.call(P,M)},I.prototype.set=function(M,P){return this.__data__[M]=b&&P===void 0?"__lodash_hash_undefined__":P,this},k.prototype.clear=function(){this.__data__=[]},k.prototype.delete=function(M){var P=this.__data__,L=D(P,M);return!(L<0)&&(L==P.length-1?P.pop():p.call(P,L,1),!0)},k.prototype.get=function(M){var P=this.__data__,L=D(P,M);return L<0?void 0:P[L][1]},k.prototype.has=function(M){return D(this.__data__,M)>-1},k.prototype.set=function(M,P){var L=this.__data__,U=D(L,M);return U<0?L.push([M,P]):L[U][1]=P,this},T.prototype.clear=function(){this.__data__={hash:new I,map:new(_||k),string:new I}},T.prototype.delete=function(M){return H(this,M).delete(M)},T.prototype.get=function(M){return H(this,M).get(M)},T.prototype.has=function(M){return H(this,M).has(M)},T.prototype.set=function(M,P){return H(this,M).set(M,P),this},me.Cache=T,t.exports=me}).call(this,n(3))},function(t,e,n){(function(r){var i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,u=typeof r=="object"&&r&&r.Object===Object&&r,c=typeof self=="object"&&self&&self.Object===Object&&self,d=u||c||Function("return this")(),f=Object.prototype.toString,g=Math.max,v=Math.min,w=function(){return d.Date.now()};function C(p){var _=typeof p;return!!p&&(_=="object"||_=="function")}function m(p){if(typeof p=="number")return p;if(function(I){return typeof I=="symbol"||function(k){return!!k&&typeof k=="object"}(I)&&f.call(I)=="[object Symbol]"}(p))return NaN;if(C(p)){var _=typeof p.valueOf=="function"?p.valueOf():p;p=C(_)?_+"":_}if(typeof p!="string")return p===0?p:+p;p=p.replace(i,"");var b=s.test(p);return b||a.test(p)?l(p.slice(2),b?2:8):o.test(p)?NaN:+p}t.exports=function(p,_,b){var I,k,T,D,Y,H,pe=0,me=!1,Ce=!1,M=!0;if(typeof p!="function")throw new TypeError("Expected a function");function P(A){var V=I,q=k;return I=k=void 0,pe=A,D=p.apply(q,V)}function L(A){return pe=A,Y=setTimeout(N,_),me?P(A):D}function U(A){var V=A-H;return H===void 0||V>=_||V<0||Ce&&A-pe>=T}function N(){var A=w();if(U(A))return F(A);Y=setTimeout(N,function(V){var q=_-(V-H);return Ce?v(q,T-(V-pe)):q}(A))}function F(A){return Y=void 0,M&&I?P(A):(I=k=void 0,D)}function x(){var A=w(),V=U(A);if(I=arguments,k=this,H=A,V){if(Y===void 0)return L(H);if(Ce)return Y=setTimeout(N,_),P(H)}return Y===void 0&&(Y=setTimeout(N,_)),D}return _=m(_)||0,C(b)&&(me=!!b.leading,T=(Ce="maxWait"in b)?g(m(b.maxWait)||0,_):T,M="trailing"in b?!!b.trailing:M),x.cancel=function(){Y!==void 0&&clearTimeout(Y),pe=0,I=H=k=Y=void 0},x.flush=function(){return Y===void 0?D:F(w())},x}}).call(this,n(3))},function(t,e,n){(function(r,i){var o="[object Arguments]",s="[object Map]",a="[object Object]",l="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,d=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,v=/^\[object .+?Constructor\]$/,w=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[o]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object Boolean]"]=C["[object DataView]"]=C["[object Date]"]=C["[object Error]"]=C["[object Function]"]=C[s]=C["[object Number]"]=C[a]=C["[object RegExp]"]=C[l]=C["[object String]"]=C["[object WeakMap]"]=!1;var m=typeof r=="object"&&r&&r.Object===Object&&r,p=typeof self=="object"&&self&&self.Object===Object&&self,_=m||p||Function("return this")(),b=e&&!e.nodeType&&e,I=b&&typeof i=="object"&&i&&!i.nodeType&&i,k=I&&I.exports===b&&m.process,T=function(){try{return k&&k.binding("util")}catch{}}(),D=T&&T.isTypedArray;function Y(E,R,$,W){var le=-1,ue=E?E.length:0;for(W&&ue&&($=E[++le]);++le<ue;)$=R($,E[le],le,E);return $}function H(E,R){for(var $=-1,W=E?E.length:0;++$<W;)if(R(E[$],$,E))return!0;return!1}function pe(E,R,$,W,le){return le(E,function(ue,Ee,Ke){$=W?(W=!1,ue):R($,ue,Ee,Ke)}),$}function me(E){var R=!1;if(E!=null&&typeof E.toString!="function")try{R=!!(E+"")}catch{}return R}function Ce(E){var R=-1,$=Array(E.size);return E.forEach(function(W,le){$[++R]=[le,W]}),$}function M(E){var R=-1,$=Array(E.size);return E.forEach(function(W){$[++R]=W}),$}var P,L,U,N=Array.prototype,F=Function.prototype,x=Object.prototype,A=_["__core-js_shared__"],V=(P=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"",q=F.toString,j=x.hasOwnProperty,S=x.toString,ie=RegExp("^"+q.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=_.Symbol,ve=_.Uint8Array,ke=x.propertyIsEnumerable,Ae=N.splice,xe=(L=Object.keys,U=Object,function(E){return L(U(E))}),Re=yo(_,"DataView"),Be=yo(_,"Map"),ce=yo(_,"Promise"),O=yo(_,"Set"),B=yo(_,"WeakMap"),te=yo(Object,"create"),ye=bi(Re),de=bi(Be),_e=bi(ce),we=bi(O),Pe=bi(B),Z=oe?oe.prototype:void 0,se=Z?Z.valueOf:void 0,J=Z?Z.toString:void 0;function X(E){var R=-1,$=E?E.length:0;for(this.clear();++R<$;){var W=E[R];this.set(W[0],W[1])}}function ne(E){var R=-1,$=E?E.length:0;for(this.clear();++R<$;){var W=E[R];this.set(W[0],W[1])}}function Je(E){var R=-1,$=E?E.length:0;for(this.clear();++R<$;){var W=E[R];this.set(W[0],W[1])}}function ln(E){var R=-1,$=E?E.length:0;for(this.__data__=new Je;++R<$;)this.add(E[R])}function xt(E){this.__data__=new ne(E)}function En(E,R){var $=Mr(E)||Vg(E)?function(Ee,Ke){for(var Xe=-1,Me=Array(Ee);++Xe<Ee;)Me[Xe]=Ke(Xe);return Me}(E.length,String):[],W=$.length,le=!!W;for(var ue in E)!R&&!j.call(E,ue)||le&&(ue=="length"||Mg(ue,W))||$.push(ue);return $}function qn(E,R){for(var $=E.length;$--;)if(Ug(E[$][0],R))return $;return-1}X.prototype.clear=function(){this.__data__=te?te(null):{}},X.prototype.delete=function(E){return this.has(E)&&delete this.__data__[E]},X.prototype.get=function(E){var R=this.__data__;if(te){var $=R[E];return $==="__lodash_hash_undefined__"?void 0:$}return j.call(R,E)?R[E]:void 0},X.prototype.has=function(E){var R=this.__data__;return te?R[E]!==void 0:j.call(R,E)},X.prototype.set=function(E,R){return this.__data__[E]=te&&R===void 0?"__lodash_hash_undefined__":R,this},ne.prototype.clear=function(){this.__data__=[]},ne.prototype.delete=function(E){var R=this.__data__,$=qn(R,E);return!($<0)&&($==R.length-1?R.pop():Ae.call(R,$,1),!0)},ne.prototype.get=function(E){var R=this.__data__,$=qn(R,E);return $<0?void 0:R[$][1]},ne.prototype.has=function(E){return qn(this.__data__,E)>-1},ne.prototype.set=function(E,R){var $=this.__data__,W=qn($,E);return W<0?$.push([E,R]):$[W][1]=R,this},Je.prototype.clear=function(){this.__data__={hash:new X,map:new(Be||ne),string:new X}},Je.prototype.delete=function(E){return yl(this,E).delete(E)},Je.prototype.get=function(E){return yl(this,E).get(E)},Je.prototype.has=function(E){return yl(this,E).has(E)},Je.prototype.set=function(E,R){return yl(this,E).set(E,R),this},ln.prototype.add=ln.prototype.push=function(E){return this.__data__.set(E,"__lodash_hash_undefined__"),this},ln.prototype.has=function(E){return this.__data__.has(E)},xt.prototype.clear=function(){this.__data__=new ne},xt.prototype.delete=function(E){return this.__data__.delete(E)},xt.prototype.get=function(E){return this.__data__.get(E)},xt.prototype.has=function(E){return this.__data__.has(E)},xt.prototype.set=function(E,R){var $=this.__data__;if($ instanceof ne){var W=$.__data__;if(!Be||W.length<199)return W.push([E,R]),this;$=this.__data__=new Je(W)}return $.set(E,R),this};var Si,gt=(Si=function(E,R){return E&&vo(E,R,Sl)},function(E,R){if(E==null)return E;if(!Od(E))return Si(E,R);for(var $=E.length,W=-1,le=Object(E);++W<$&&R(le[W],W,le)!==!1;);return E}),vo=function(E){return function(R,$,W){for(var le=-1,ue=Object(R),Ee=W(R),Ke=Ee.length;Ke--;){var Xe=Ee[E?Ke:++le];if($(ue[Xe],Xe,ue)===!1)break}return R}}();function As(E,R){for(var $=0,W=(R=_l(R,E)?[R]:Og(R)).length;E!=null&&$<W;)E=E[wl(R[$++])];return $&&$==W?E:void 0}function Rd(E,R){return E!=null&&R in Object(E)}function Rs(E,R,$,W,le){return E===R||(E==null||R==null||!El(E)&&!Cl(R)?E!=E&&R!=R:function(ue,Ee,Ke,Xe,Me,Oe){var Cn=Mr(ue),Sn=Mr(Ee),rt="[object Array]",_t="[object Array]";Cn||(rt=(rt=Dr(ue))==o?a:rt),Sn||(_t=(_t=Dr(Ee))==o?a:_t);var un=rt==a&&!me(ue),Ii=_t==a&&!me(Ee),Lr=rt==_t;if(Lr&&!un)return Oe||(Oe=new xt),Cn||Sb(ue)?Dg(ue,Ee,Ke,Xe,Me,Oe):function(qe,je,Ld,ki,bl,cn,fr){switch(Ld){case"[object DataView]":if(qe.byteLength!=je.byteLength||qe.byteOffset!=je.byteOffset)return!1;qe=qe.buffer,je=je.buffer;case"[object ArrayBuffer]":return!(qe.byteLength!=je.byteLength||!ki(new ve(qe),new ve(je)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ug(+qe,+je);case"[object Error]":return qe.name==je.name&&qe.message==je.message;case"[object RegExp]":case"[object String]":return qe==je+"";case s:var Fr=Ce;case l:var Ds=2&cn;if(Fr||(Fr=M),qe.size!=je.size&&!Ds)return!1;var Il=fr.get(qe);if(Il)return Il==je;cn|=1,fr.set(qe,je);var _o=Dg(Fr(qe),Fr(je),ki,bl,cn,fr);return fr.delete(qe),_o;case"[object Symbol]":if(se)return se.call(qe)==se.call(je)}return!1}(ue,Ee,rt,Ke,Xe,Me,Oe);if(!(2&Me)){var Os=un&&j.call(ue,"__wrapped__"),Bg=Ii&&j.call(Ee,"__wrapped__");if(Os||Bg){var Ib=Os?ue.value():ue,kb=Bg?Ee.value():Ee;return Oe||(Oe=new xt),Ke(Ib,kb,Xe,Me,Oe)}}return Lr?(Oe||(Oe=new xt),function(qe,je,Ld,ki,bl,cn){var fr=2&bl,Fr=Sl(qe),Ds=Fr.length,Il=Sl(je).length;if(Ds!=Il&&!fr)return!1;for(var _o=Ds;_o--;){var Ur=Fr[_o];if(!(fr?Ur in je:j.call(je,Ur)))return!1}var jg=cn.get(qe);if(jg&&cn.get(je))return jg==je;var kl=!0;cn.set(qe,je),cn.set(je,qe);for(var Fd=fr;++_o<Ds;){Ur=Fr[_o];var Tl=qe[Ur],xl=je[Ur];if(ki)var zg=fr?ki(xl,Tl,Ur,je,qe,cn):ki(Tl,xl,Ur,qe,je,cn);if(!(zg===void 0?Tl===xl||Ld(Tl,xl,ki,bl,cn):zg)){kl=!1;break}Fd||(Fd=Ur=="constructor")}if(kl&&!Fd){var Nl=qe.constructor,Al=je.constructor;Nl==Al||!("constructor"in qe)||!("constructor"in je)||typeof Nl=="function"&&Nl instanceof Nl&&typeof Al=="function"&&Al instanceof Al||(kl=!1)}return cn.delete(qe),cn.delete(je),kl}(ue,Ee,Ke,Xe,Me,Oe)):!1}(E,R,Rs,$,W,le))}function Ps(E){return!(!El(E)||function(R){return!!V&&V in R}(E))&&($g(E)||me(E)?ie:v).test(bi(E))}function wb(E){return typeof E=="function"?E:E==null?bb:typeof E=="object"?Mr(E)?function(W,le){return _l(W)&&Lg(le)?Fg(wl(W),le):function(ue){var Ee=function(Ke,Xe,Me){var Oe=Ke==null?void 0:As(Ke,Xe);return Oe===void 0?Me:Oe}(ue,W);return Ee===void 0&&Ee===le?function(Ke,Xe){return Ke!=null&&function(Me,Oe,Cn){Oe=_l(Oe,Me)?[Oe]:Og(Oe);for(var Sn,rt=-1,_t=Oe.length;++rt<_t;){var un=wl(Oe[rt]);if(!(Sn=Me!=null&&Cn(Me,un)))break;Me=Me[un]}return Sn||!!(_t=Me?Me.length:0)&&Dd(_t)&&Mg(un,_t)&&(Mr(Me)||Vg(Me))}(Ke,Xe,Rd)}(ue,W):Rs(le,Ee,void 0,3)}}(E[0],E[1]):function(W){var le=function(ue){for(var Ee=Sl(ue),Ke=Ee.length;Ke--;){var Xe=Ee[Ke],Me=ue[Xe];Ee[Ke]=[Xe,Me,Lg(Me)]}return Ee}(W);return le.length==1&&le[0][2]?Fg(le[0][0],le[0][1]):function(ue){return ue===W||function(Ee,Ke,Xe,Me){var Oe=Xe.length,Cn=Oe,Sn=!Me;if(Ee==null)return!Cn;for(Ee=Object(Ee);Oe--;){var rt=Xe[Oe];if(Sn&&rt[2]?rt[1]!==Ee[rt[0]]:!(rt[0]in Ee))return!1}for(;++Oe<Cn;){var _t=(rt=Xe[Oe])[0],un=Ee[_t],Ii=rt[1];if(Sn&&rt[2]){if(un===void 0&&!(_t in Ee))return!1}else{var Lr=new xt;if(Me)var Os=Me(un,Ii,_t,Ee,Ke,Lr);if(!(Os===void 0?Rs(Ii,un,Me,3,Lr):Os))return!1}}return!0}(ue,W,le)}}(E):_l(R=E)?($=wl(R),function(W){return W==null?void 0:W[$]}):function(W){return function(le){return As(le,W)}}(R);var R,$}function Eb(E){if($=(R=E)&&R.constructor,W=typeof $=="function"&&$.prototype||x,R!==W)return xe(E);var R,$,W,le=[];for(var ue in Object(E))j.call(E,ue)&&ue!="constructor"&&le.push(ue);return le}function Og(E){return Mr(E)?E:Cb(E)}function Dg(E,R,$,W,le,ue){var Ee=2&le,Ke=E.length,Xe=R.length;if(Ke!=Xe&&!(Ee&&Xe>Ke))return!1;var Me=ue.get(E);if(Me&&ue.get(R))return Me==R;var Oe=-1,Cn=!0,Sn=1&le?new ln:void 0;for(ue.set(E,R),ue.set(R,E);++Oe<Ke;){var rt=E[Oe],_t=R[Oe];if(W)var un=Ee?W(_t,rt,Oe,R,E,ue):W(rt,_t,Oe,E,R,ue);if(un!==void 0){if(un)continue;Cn=!1;break}if(Sn){if(!H(R,function(Ii,Lr){if(!Sn.has(Lr)&&(rt===Ii||$(rt,Ii,W,le,ue)))return Sn.add(Lr)})){Cn=!1;break}}else if(rt!==_t&&!$(rt,_t,W,le,ue)){Cn=!1;break}}return ue.delete(E),ue.delete(R),Cn}function yl(E,R){var $,W,le=E.__data__;return((W=typeof($=R))=="string"||W=="number"||W=="symbol"||W=="boolean"?$!=="__proto__":$===null)?le[typeof R=="string"?"string":"hash"]:le.map}function yo(E,R){var $=function(W,le){return W==null?void 0:W[le]}(E,R);return Ps($)?$:void 0}var Dr=function(E){return S.call(E)};function Mg(E,R){return!!(R=R??9007199254740991)&&(typeof E=="number"||w.test(E))&&E>-1&&E%1==0&&E<R}function _l(E,R){if(Mr(E))return!1;var $=typeof E;return!($!="number"&&$!="symbol"&&$!="boolean"&&E!=null&&!Md(E))||c.test(E)||!u.test(E)||R!=null&&E in Object(R)}function Lg(E){return E==E&&!El(E)}function Fg(E,R){return function($){return $!=null&&$[E]===R&&(R!==void 0||E in Object($))}}(Re&&Dr(new Re(new ArrayBuffer(1)))!="[object DataView]"||Be&&Dr(new Be)!=s||ce&&Dr(ce.resolve())!="[object Promise]"||O&&Dr(new O)!=l||B&&Dr(new B)!="[object WeakMap]")&&(Dr=function(E){var R=S.call(E),$=R==a?E.constructor:void 0,W=$?bi($):void 0;if(W)switch(W){case ye:return"[object DataView]";case de:return s;case _e:return"[object Promise]";case we:return l;case Pe:return"[object WeakMap]"}return R});var Cb=Pd(function(E){var R;E=(R=E)==null?"":function(W){if(typeof W=="string")return W;if(Md(W))return J?J.call(W):"";var le=W+"";return le=="0"&&1/W==-1/0?"-0":le}(R);var $=[];return d.test(E)&&$.push(""),E.replace(f,function(W,le,ue,Ee){$.push(ue?Ee.replace(g,"$1"):le||W)}),$});function wl(E){if(typeof E=="string"||Md(E))return E;var R=E+"";return R=="0"&&1/E==-1/0?"-0":R}function bi(E){if(E!=null){try{return q.call(E)}catch{}try{return E+""}catch{}}return""}function Pd(E,R){if(typeof E!="function"||R&&typeof R!="function")throw new TypeError("Expected a function");var $=function(){var W=arguments,le=R?R.apply(this,W):W[0],ue=$.cache;if(ue.has(le))return ue.get(le);var Ee=E.apply(this,W);return $.cache=ue.set(le,Ee),Ee};return $.cache=new(Pd.Cache||Je),$}function Ug(E,R){return E===R||E!=E&&R!=R}function Vg(E){return function(R){return Cl(R)&&Od(R)}(E)&&j.call(E,"callee")&&(!ke.call(E,"callee")||S.call(E)==o)}Pd.Cache=Je;var Mr=Array.isArray;function Od(E){return E!=null&&Dd(E.length)&&!$g(E)}function $g(E){var R=El(E)?S.call(E):"";return R=="[object Function]"||R=="[object GeneratorFunction]"}function Dd(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=9007199254740991}function El(E){var R=typeof E;return!!E&&(R=="object"||R=="function")}function Cl(E){return!!E&&typeof E=="object"}function Md(E){return typeof E=="symbol"||Cl(E)&&S.call(E)=="[object Symbol]"}var Sb=D?function(E){return function(R){return E(R)}}(D):function(E){return Cl(E)&&Dd(E.length)&&!!C[S.call(E)]};function Sl(E){return Od(E)?En(E):Eb(E)}function bb(E){return E}i.exports=function(E,R,$){var W=Mr(E)?Y:pe,le=arguments.length<3;return W(E,wb(R),$,le,gt)}}).call(this,n(3),n(7)(t))},function(t,e){t.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(t,e){String.prototype.padEnd||(String.prototype.padEnd=function(n,r){return n>>=0,r=String(r!==void 0?r:" "),this.length>n?String(this):((n-=this.length)>r.length&&(r+=r.repeat(n/r.length)),String(this)+r.slice(0,n))})},function(t,e,n){function r(x,A,V){return A in x?Object.defineProperty(x,A,{value:V,enumerable:!0,configurable:!0,writable:!0}):x[A]=V,x}function i(x){if(Symbol.iterator in Object(x)||Object.prototype.toString.call(x)==="[object Arguments]")return Array.from(x)}function o(x){return function(A){if(Array.isArray(A)){for(var V=0,q=new Array(A.length);V<A.length;V++)q[V]=A[V];return q}}(x)||i(x)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(x){if(Array.isArray(x))return x}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}function u(x,A){for(var V=0;V<A.length;V++){var q=A[V];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(x,q.key,q)}}function c(x){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(x)}function d(x){return(d=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(A){return c(A)}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":c(A)})(x)}function f(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function g(x){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(x)}function v(x,A){return(v=Object.setPrototypeOf||function(V,q){return V.__proto__=q,V})(x,A)}n.r(e);var w=n(0),C=n.n(w),m=n(5),p=n.n(m),_=n(4),b=n.n(_),I=n(6),k=n.n(I),T=n(2),D=n.n(T),Y=n(1),H=n.n(Y);n(8);function pe(x,A){return s(x)||function(V,q){var j=[],S=!0,ie=!1,oe=void 0;try{for(var ve,ke=V[Symbol.iterator]();!(S=(ve=ke.next()).done)&&(j.push(ve.value),!q||j.length!==q);S=!0);}catch(Ae){ie=!0,oe=Ae}finally{try{S||ke.return==null||ke.return()}finally{if(ie)throw oe}}return j}(x,A)||a()}var me=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["Côte d’Ivoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Curaçao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["Réunion",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["São Tomé and Príncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],Ce=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint Barthélemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681"]];function M(x,A,V,q,j){return!V||j?x+"".padEnd(A.length,".")+" "+q:x+"".padEnd(A.length,".")+" "+V}function P(x,A,V,q,j){var S,ie,oe=[];return ie=A===!0,[(S=[]).concat.apply(S,o(x.map(function(ve){var ke={name:ve[0],regions:ve[1],iso2:ve[2],countryCode:ve[3],dialCode:ve[3],format:M(V,ve[3],ve[4],q,j),priority:ve[5]||0},Ae=[];return ve[6]&&ve[6].map(function(xe){var Re=function(Be){for(var ce=1;ce<arguments.length;ce++){var O=arguments[ce]!=null?arguments[ce]:{},B=Object.keys(O);typeof Object.getOwnPropertySymbols=="function"&&(B=B.concat(Object.getOwnPropertySymbols(O).filter(function(te){return Object.getOwnPropertyDescriptor(O,te).enumerable}))),B.forEach(function(te){r(Be,te,O[te])})}return Be}({},ke);Re.dialCode=ve[3]+xe,Re.isAreaCode=!0,Re.areaCodeLength=xe.length,Ae.push(Re)}),Ae.length>0?(ke.mainCode=!0,ie||A.constructor.name==="Array"&&A.includes(ve[2])?(ke.hasAreaCodes=!0,[ke].concat(Ae)):(oe=oe.concat(Ae),[ke])):[ke]}))),oe]}function L(x,A,V,q){if(V!==null){var j=Object.keys(V),S=Object.values(V);j.forEach(function(ie,oe){if(q)return x.push([ie,S[oe]]);var ve=x.findIndex(function(Ae){return Ae[0]===ie});if(ve===-1){var ke=[ie];ke[A]=S[oe],x.push(ke)}else x[ve][A]=S[oe]})}}function U(x,A){return A.length===0?x:x.map(function(V){var q=A.findIndex(function(S){return S[0]===V[2]});if(q===-1)return V;var j=A[q];return j[1]&&(V[4]=j[1]),j[3]&&(V[5]=j[3]),j[2]&&(V[6]=j[2]),V})}var N=function x(A,V,q,j,S,ie,oe,ve,ke,Ae,xe,Re,Be,ce){l(this,x),this.filterRegions=function(Z,se){if(typeof Z=="string"){var J=Z;return se.filter(function(X){return X.regions.some(function(ne){return ne===J})})}return se.filter(function(X){return Z.map(function(ne){return X.regions.some(function(Je){return Je===ne})}).some(function(ne){return ne})})},this.sortTerritories=function(Z,se){var J=[].concat(o(Z),o(se));return J.sort(function(X,ne){return X.name<ne.name?-1:X.name>ne.name?1:0}),J},this.getFilteredCountryList=function(Z,se,J){return Z.length===0?se:J?Z.map(function(X){var ne=se.find(function(Je){return Je.iso2===X});if(ne)return ne}).filter(function(X){return X}):se.filter(function(X){return Z.some(function(ne){return ne===X.iso2})})},this.localizeCountries=function(Z,se,J){for(var X=0;X<Z.length;X++)se[Z[X].iso2]!==void 0?Z[X].localName=se[Z[X].iso2]:se[Z[X].name]!==void 0&&(Z[X].localName=se[Z[X].name]);return J||Z.sort(function(ne,Je){return ne.localName<Je.localName?-1:ne.localName>Je.localName?1:0}),Z},this.getCustomAreas=function(Z,se){for(var J=[],X=0;X<se.length;X++){var ne=JSON.parse(JSON.stringify(Z));ne.dialCode+=se[X],J.push(ne)}return J},this.excludeCountries=function(Z,se){return se.length===0?Z:Z.filter(function(J){return!se.includes(J.iso2)})};var O=function(Z,se,J){var X=[];return L(X,1,Z,!0),L(X,3,se),L(X,2,J),X}(ve,ke,Ae),B=U(JSON.parse(JSON.stringify(me)),O),te=U(JSON.parse(JSON.stringify(Ce)),O),ye=pe(P(B,A,Re,Be,ce),2),de=ye[0],_e=ye[1];if(V){var we=pe(P(te,A,Re,Be,ce),2),Pe=we[0];we[1],de=this.sortTerritories(Pe,de)}q&&(de=this.filterRegions(q,de)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList(j,de,oe.includes("onlyCountries")),ie),xe,oe.includes("onlyCountries")),this.preferredCountries=S.length===0?[]:this.localizeCountries(this.getFilteredCountryList(S,de,oe.includes("preferredCountries")),xe,oe.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList(j,_e),ie)},F=function(x){function A(j){var S;l(this,A),(S=function(O,B){return!B||d(B)!=="object"&&typeof B!="function"?f(O):B}(this,g(A).call(this,j))).getProbableCandidate=b()(function(O){return O&&O.length!==0?S.state.onlyCountries.filter(function(B){return D()(B.name.toLowerCase(),O.toLowerCase())},f(f(S)))[0]:null}),S.guessSelectedCountry=b()(function(O,B,te,ye){var de;if(S.props.enableAreaCodes===!1&&(ye.some(function(Pe){if(D()(O,Pe.dialCode))return te.some(function(Z){if(Pe.iso2===Z.iso2&&Z.mainCode)return de=Z,!0}),!0}),de))return de;var _e=te.find(function(Pe){return Pe.iso2==B});if(O.trim()==="")return _e;var we=te.reduce(function(Pe,Z){return D()(O,Z.dialCode)&&(Z.dialCode.length>Pe.dialCode.length||Z.dialCode.length===Pe.dialCode.length&&Z.priority<Pe.priority)?Z:Pe},{dialCode:"",priority:10001},f(f(S)));return we.name?we:_e}),S.updateCountry=function(O){var B,te=S.state.onlyCountries;(B=O.indexOf(0)>="0"&&O.indexOf(0)<="9"?te.find(function(ye){return ye.dialCode==+O}):te.find(function(ye){return ye.iso2==O}))&&B.dialCode&&S.setState({selectedCountry:B,formattedNumber:S.props.disableCountryCode?"":S.formatNumber(B.dialCode,B)})},S.scrollTo=function(O,B){if(O){var te=S.dropdownRef;if(te&&document.body){var ye=te.offsetHeight,de=te.getBoundingClientRect().top+document.body.scrollTop,_e=de+ye,we=O,Pe=we.getBoundingClientRect(),Z=we.offsetHeight,se=Pe.top+document.body.scrollTop,J=se+Z,X=se-de+te.scrollTop,ne=ye/2-Z/2;if(S.props.enableSearch?se<de+32:se<de)B&&(X-=ne),te.scrollTop=X;else if(J>_e){B&&(X+=ne);var Je=ye-Z;te.scrollTop=X-Je}}}},S.scrollToTop=function(){var O=S.dropdownRef;O&&document.body&&(O.scrollTop=0)},S.formatNumber=function(O,B){if(!B)return O;var te,ye=B.format,de=S.props,_e=de.disableCountryCode,we=de.enableAreaCodeStretch,Pe=de.enableLongNumbers,Z=de.autoFormat;if(_e?((te=ye.split(" ")).shift(),te=te.join(" ")):we&&B.isAreaCode?((te=ye.split(" "))[1]=te[1].replace(/\.+/,"".padEnd(B.areaCodeLength,".")),te=te.join(" ")):te=ye,!O||O.length===0)return _e?"":S.props.prefix;if(O&&O.length<2||!te||!Z)return _e?O:S.props.prefix+O;var se,J=k()(te,function(X,ne){if(X.remainingText.length===0)return X;if(ne!==".")return{formattedText:X.formattedText+ne,remainingText:X.remainingText};var Je,ln=s(Je=X.remainingText)||i(Je)||a(),xt=ln[0],En=ln.slice(1);return{formattedText:X.formattedText+xt,remainingText:En}},{formattedText:"",remainingText:O.split("")});return(se=Pe?J.formattedText+J.remainingText.join(""):J.formattedText).includes("(")&&!se.includes(")")&&(se+=")"),se},S.cursorToEnd=function(){var O=S.numberInputRef;if(document.activeElement===O){O.focus();var B=O.value.length;O.value.charAt(B-1)===")"&&(B-=1),O.setSelectionRange(B,B)}},S.getElement=function(O){return S["flag_no_".concat(O)]},S.getCountryData=function(){return S.state.selectedCountry?{name:S.state.selectedCountry.name||"",dialCode:S.state.selectedCountry.dialCode||"",countryCode:S.state.selectedCountry.iso2||"",format:S.state.selectedCountry.format||""}:{}},S.handleFlagDropdownClick=function(O){if(O.preventDefault(),S.state.showDropdown||!S.props.disabled){var B=S.state,te=B.preferredCountries,ye=B.onlyCountries,de=B.selectedCountry,_e=S.concatPreferredCountries(te,ye).findIndex(function(we){return we.dialCode===de.dialCode&&we.iso2===de.iso2});S.setState({showDropdown:!S.state.showDropdown,highlightCountryIndex:_e},function(){S.state.showDropdown&&S.scrollTo(S.getElement(S.state.highlightCountryIndex))})}},S.handleInput=function(O){var B=O.target.value,te=S.props,ye=te.prefix,de=te.onChange,_e=S.props.disableCountryCode?"":ye,we=S.state.selectedCountry,Pe=S.state.freezeSelection;if(!S.props.countryCodeEditable){var Z=ye+(we.hasAreaCodes?S.state.onlyCountries.find(function(gt){return gt.iso2===we.iso2&&gt.mainCode}).dialCode:we.dialCode);if(B.slice(0,Z.length)!==Z)return}if(B===ye)return de&&de("",S.getCountryData(),O,""),S.setState({formattedNumber:""});if(!(B.replace(/\D/g,"").length>15&&(S.props.enableLongNumbers===!1||typeof S.props.enableLongNumbers=="number"&&B.replace(/\D/g,"").length>S.props.enableLongNumbers))&&B!==S.state.formattedNumber){O.preventDefault?O.preventDefault():O.returnValue=!1;var se=S.props.country,J=S.state,X=J.onlyCountries,ne=J.selectedCountry,Je=J.hiddenAreaCodes;if(de&&O.persist(),B.length>0){var ln=B.replace(/\D/g,"");(!S.state.freezeSelection||ne&&ne.dialCode.length>ln.length)&&(we=S.props.disableCountryGuess?ne:S.guessSelectedCountry(ln.substring(0,6),se,X,Je)||ne,Pe=!1),_e=S.formatNumber(ln,we),we=we.dialCode?we:ne}var xt=O.target.selectionStart,En=O.target.selectionStart,qn=S.state.formattedNumber,Si=_e.length-qn.length;S.setState({formattedNumber:_e,freezeSelection:Pe,selectedCountry:we},function(){Si>0&&(En-=Si),_e.charAt(_e.length-1)==")"?S.numberInputRef.setSelectionRange(_e.length-1,_e.length-1):En>0&&qn.length>=_e.length?S.numberInputRef.setSelectionRange(En,En):xt<qn.length&&S.numberInputRef.setSelectionRange(xt,xt),de&&de(_e.replace(/[^0-9]+/g,""),S.getCountryData(),O,_e)})}},S.handleInputClick=function(O){S.setState({showDropdown:!1}),S.props.onClick&&S.props.onClick(O,S.getCountryData())},S.handleDoubleClick=function(O){var B=O.target.value.length;O.target.setSelectionRange(0,B)},S.handleFlagItemClick=function(O,B){var te=S.state.selectedCountry,ye=S.state.onlyCountries.find(function(Pe){return Pe==O});if(ye){var de=S.state.formattedNumber.replace(" ","").replace("(","").replace(")","").replace("-",""),_e=de.length>1?de.replace(te.dialCode,ye.dialCode):ye.dialCode,we=S.formatNumber(_e.replace(/\D/g,""),ye);S.setState({showDropdown:!1,selectedCountry:ye,freezeSelection:!0,formattedNumber:we,searchValue:""},function(){S.cursorToEnd(),S.props.onChange&&S.props.onChange(we.replace(/[^0-9]+/g,""),S.getCountryData(),B,we)})}},S.handleInputFocus=function(O){S.numberInputRef&&S.numberInputRef.value===S.props.prefix&&S.state.selectedCountry&&!S.props.disableCountryCode&&S.setState({formattedNumber:S.props.prefix+S.state.selectedCountry.dialCode},function(){S.props.jumpCursorToEnd&&setTimeout(S.cursorToEnd,0)}),S.setState({placeholder:""}),S.props.onFocus&&S.props.onFocus(O,S.getCountryData()),S.props.jumpCursorToEnd&&setTimeout(S.cursorToEnd,0)},S.handleInputBlur=function(O){O.target.value||S.setState({placeholder:S.props.placeholder}),S.props.onBlur&&S.props.onBlur(O,S.getCountryData())},S.handleInputCopy=function(O){if(S.props.copyNumbersOnly){var B=window.getSelection().toString().replace(/[^0-9]+/g,"");O.clipboardData.setData("text/plain",B),O.preventDefault()}},S.getHighlightCountryIndex=function(O){var B=S.state.highlightCountryIndex+O;return B<0||B>=S.state.onlyCountries.length+S.state.preferredCountries.length?B-O:S.props.enableSearch&&B>S.getSearchFilteredCountries().length?0:B},S.searchCountry=function(){var O=S.getProbableCandidate(S.state.queryString)||S.state.onlyCountries[0],B=S.state.onlyCountries.findIndex(function(te){return te==O})+S.state.preferredCountries.length;S.scrollTo(S.getElement(B),!0),S.setState({queryString:"",highlightCountryIndex:B})},S.handleKeydown=function(O){var B=S.props.keys,te=O.target.className;if(te.includes("selected-flag")&&O.which===B.ENTER&&!S.state.showDropdown)return S.handleFlagDropdownClick(O);if(te.includes("form-control")&&(O.which===B.ENTER||O.which===B.ESC))return O.target.blur();if(S.state.showDropdown&&!S.props.disabled&&(!te.includes("search-box")||O.which===B.UP||O.which===B.DOWN||O.which===B.ENTER||O.which===B.ESC&&O.target.value==="")){O.preventDefault?O.preventDefault():O.returnValue=!1;var ye=function(de){S.setState({highlightCountryIndex:S.getHighlightCountryIndex(de)},function(){S.scrollTo(S.getElement(S.state.highlightCountryIndex),!0)})};switch(O.which){case B.DOWN:ye(1);break;case B.UP:ye(-1);break;case B.ENTER:S.props.enableSearch?S.handleFlagItemClick(S.getSearchFilteredCountries()[S.state.highlightCountryIndex]||S.getSearchFilteredCountries()[0],O):S.handleFlagItemClick([].concat(o(S.state.preferredCountries),o(S.state.onlyCountries))[S.state.highlightCountryIndex],O);break;case B.ESC:case B.TAB:S.setState({showDropdown:!1},S.cursorToEnd);break;default:(O.which>=B.A&&O.which<=B.Z||O.which===B.SPACE)&&S.setState({queryString:S.state.queryString+String.fromCharCode(O.which)},S.state.debouncedQueryStingSearcher)}}},S.handleInputKeyDown=function(O){var B=S.props,te=B.keys,ye=B.onEnterKeyPress,de=B.onKeyDown;O.which===te.ENTER&&ye&&ye(O),de&&de(O)},S.handleClickOutside=function(O){S.dropdownRef&&!S.dropdownContainerRef.contains(O.target)&&S.state.showDropdown&&S.setState({showDropdown:!1})},S.handleSearchChange=function(O){var B=O.currentTarget.value,te=S.state,ye=te.preferredCountries,de=te.selectedCountry,_e=0;if(B===""&&de){var we=S.state.onlyCountries;_e=S.concatPreferredCountries(ye,we).findIndex(function(Pe){return Pe==de}),setTimeout(function(){return S.scrollTo(S.getElement(_e))},100)}S.setState({searchValue:B,highlightCountryIndex:_e})},S.concatPreferredCountries=function(O,B){return O.length>0?o(new Set(O.concat(B))):B},S.getDropdownCountryName=function(O){return O.localName||O.name},S.getSearchFilteredCountries=function(){var O=S.state,B=O.preferredCountries,te=O.onlyCountries,ye=O.searchValue,de=S.props.enableSearch,_e=S.concatPreferredCountries(B,te),we=ye.trim().toLowerCase().replace("+","");if(de&&we){if(/^\d+$/.test(we))return _e.filter(function(se){var J=se.dialCode;return["".concat(J)].some(function(X){return X.toLowerCase().includes(we)})});var Pe=_e.filter(function(se){var J=se.iso2;return["".concat(J)].some(function(X){return X.toLowerCase().includes(we)})}),Z=_e.filter(function(se){var J=se.name,X=se.localName;return se.iso2,["".concat(J),"".concat(X||"")].some(function(ne){return ne.toLowerCase().includes(we)})});return S.scrollToTop(),o(new Set([].concat(Pe,Z)))}return _e},S.getCountryDropdownList=function(){var O=S.state,B=O.preferredCountries,te=O.highlightCountryIndex,ye=O.showDropdown,de=O.searchValue,_e=S.props,we=_e.disableDropdown,Pe=_e.prefix,Z=S.props,se=Z.enableSearch,J=Z.searchNotFound,X=Z.disableSearchIcon,ne=Z.searchClass,Je=Z.searchStyle,ln=Z.searchPlaceholder,xt=Z.autocompleteSearch,En=S.getSearchFilteredCountries().map(function(gt,vo){var As=te===vo,Rd=H()({country:!0,preferred:gt.iso2==="us"||gt.iso2==="gb",active:gt.iso2==="us",highlight:As}),Rs="flag ".concat(gt.iso2);return C.a.createElement("li",Object.assign({ref:function(Ps){return S["flag_no_".concat(vo)]=Ps},key:"flag_no_".concat(vo),"data-flag-key":"flag_no_".concat(vo),className:Rd,"data-dial-code":"1",tabIndex:we?"-1":"0","data-country-code":gt.iso2,onClick:function(Ps){return S.handleFlagItemClick(gt,Ps)},role:"option"},As?{"aria-selected":!0}:{}),C.a.createElement("div",{className:Rs}),C.a.createElement("span",{className:"country-name"},S.getDropdownCountryName(gt)),C.a.createElement("span",{className:"dial-code"},gt.format?S.formatNumber(gt.dialCode,gt):Pe+gt.dialCode))}),qn=C.a.createElement("li",{key:"dashes",className:"divider"});B.length>0&&(!se||se&&!de.trim())&&En.splice(B.length,0,qn);var Si=H()(r({"country-list":!0,hide:!ye},S.props.dropdownClass,!0));return C.a.createElement("ul",{ref:function(gt){return!se&&gt&&gt.focus(),S.dropdownRef=gt},className:Si,style:S.props.dropdownStyle,role:"listbox",tabIndex:"0"},se&&C.a.createElement("li",{className:H()(r({search:!0},ne,ne))},!X&&C.a.createElement("span",{className:H()(r({"search-emoji":!0},"".concat(ne,"-emoji"),ne)),role:"img","aria-label":"Magnifying glass"},"🔎"),C.a.createElement("input",{className:H()(r({"search-box":!0},"".concat(ne,"-box"),ne)),style:Je,type:"search",placeholder:ln,autoFocus:!0,autoComplete:xt?"on":"off",value:de,onChange:S.handleSearchChange})),En.length>0?En:C.a.createElement("li",{className:"no-entries-message"},C.a.createElement("span",null,J)))};var ie,oe=new N(j.enableAreaCodes,j.enableTerritories,j.regions,j.onlyCountries,j.preferredCountries,j.excludeCountries,j.preserveOrder,j.masks,j.priority,j.areaCodes,j.localization,j.prefix,j.defaultMask,j.alwaysDefaultMask),ve=oe.onlyCountries,ke=oe.preferredCountries,Ae=oe.hiddenAreaCodes,xe=j.value?j.value.replace(/\D/g,""):"";ie=j.disableInitialCountryGuess?0:xe.length>1?S.guessSelectedCountry(xe.substring(0,6),j.country,ve,Ae)||0:j.country&&ve.find(function(O){return O.iso2==j.country})||0;var Re,Be=xe.length<2&&ie&&!D()(xe,ie.dialCode)?ie.dialCode:"";Re=xe===""&&ie===0?"":S.formatNumber((j.disableCountryCode?"":Be)+xe,ie.name?ie:void 0);var ce=ve.findIndex(function(O){return O==ie});return S.state={showDropdown:j.showDropdown,formattedNumber:Re,onlyCountries:ve,preferredCountries:ke,hiddenAreaCodes:Ae,selectedCountry:ie,highlightCountryIndex:ce,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:p()(S.searchCountry,250),searchValue:""},S}var V,q;return function(j,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(S&&S.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),S&&v(j,S)}(A,x),V=A,(q=[{key:"componentDidMount",value:function(){document.addEventListener&&this.props.enableClickOutside&&document.addEventListener("mousedown",this.handleClickOutside),this.props.onMount&&this.props.onMount(this.state.formattedNumber.replace(/[^0-9]+/g,""),this.getCountryData(),this.state.formattedNumber)}},{key:"componentWillUnmount",value:function(){document.removeEventListener&&this.props.enableClickOutside&&document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(j,S,ie){j.country!==this.props.country?this.updateCountry(this.props.country):j.value!==this.props.value&&this.updateFormattedNumber(this.props.value)}},{key:"updateFormattedNumber",value:function(j){if(j===null)return this.setState({selectedCountry:0,formattedNumber:""});var S=this.state,ie=S.onlyCountries,oe=S.selectedCountry,ve=S.hiddenAreaCodes,ke=this.props,Ae=ke.country,xe=ke.prefix;if(j==="")return this.setState({selectedCountry:oe,formattedNumber:""});var Re,Be,ce=j.replace(/\D/g,"");if(oe&&D()(j,xe+oe.dialCode))Be=this.formatNumber(ce,oe),this.setState({formattedNumber:Be});else{var O=(Re=this.props.disableCountryGuess?oe:this.guessSelectedCountry(ce.substring(0,6),Ae,ie,ve)||oe)&&D()(ce,xe+Re.dialCode)?Re.dialCode:"";Be=this.formatNumber((this.props.disableCountryCode?"":O)+ce,Re||void 0),this.setState({selectedCountry:Re,formattedNumber:Be})}}},{key:"render",value:function(){var j,S,ie,oe=this,ve=this.state,ke=ve.onlyCountries,Ae=ve.selectedCountry,xe=ve.showDropdown,Re=ve.formattedNumber,Be=ve.hiddenAreaCodes,ce=this.props,O=ce.disableDropdown,B=ce.renderStringAsFlag,te=ce.isValid,ye=ce.defaultErrorMessage,de=ce.specialLabel;if(typeof te=="boolean")S=te;else{var _e=te(Re.replace(/\D/g,""),Ae,ke,Be);typeof _e=="boolean"?(S=_e)===!1&&(ie=ye):(S=!1,ie=_e)}var we=H()((r(j={},this.props.containerClass,!0),r(j,"react-tel-input",!0),j)),Pe=H()({arrow:!0,up:xe}),Z=H()(r({"form-control":!0,"invalid-number":!S,open:xe},this.props.inputClass,!0)),se=H()({"selected-flag":!0,open:xe}),J=H()(r({"flag-dropdown":!0,"invalid-number":!S,open:xe},this.props.buttonClass,!0)),X="flag ".concat(Ae&&Ae.iso2);return C.a.createElement("div",{className:"".concat(we," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},de&&C.a.createElement("div",{className:"special-label"},de),ie&&C.a.createElement("div",{className:"invalid-number-message"},ie),C.a.createElement("input",Object.assign({className:Z,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:Re,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(ne){oe.numberInputRef=ne,typeof oe.props.inputProps.ref=="function"?oe.props.inputProps.ref(ne):typeof oe.props.inputProps.ref=="object"&&(oe.props.inputProps.ref.current=ne)}})),C.a.createElement("div",{className:J,style:this.props.buttonStyle,ref:function(ne){return oe.dropdownContainerRef=ne}},B?C.a.createElement("div",{className:se},B):C.a.createElement("div",{onClick:O?void 0:this.handleFlagDropdownClick,className:se,title:Ae?"".concat(Ae.localName||Ae.name,": + ").concat(Ae.dialCode):"",tabIndex:O?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!xe||void 0},C.a.createElement("div",{className:X},!O&&C.a.createElement("div",{className:Pe}))),xe&&this.getCountryDropdownList()))}}])&&u(V.prototype,q),A}(C.a.Component);F.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},e.default=F}]);const R3=Za(A3);function P3(){const t=Kn(),[e,n]=h.useState({firebaseUID:"",username:"",phoneNumber:"",email:Q.currentUser.email}),r=g=>n(v=>({...v,...g}));h.useEffect(()=>r({firebaseUID:Q.currentUser.uid,email:Q.currentUser.email}),[]);async function i(g){var C;g.preventDefault();const v=await((C=Q.currentUser)==null?void 0:C.getIdToken()),w=e;console.log(v),await fetch(`${Ve}/register`,{method:"PATCH",headers:{Authorization:"Bearer "+v,"Content-Type":"application/json"},body:JSON.stringify(w)}).catch(m=>{window.alert(m)}),n({username:"",phoneNumber:""}),g.target.reset(),t("/mytasks")}const[o,s]=h.useState(!1),[a,l]=h.useState({page1:!0,page2:!1,page3:!1});function u(g){return l(v=>({...v,...g}))}function c(){return K("div",{className:a.page1?"data-step":"disappear",children:[y("h3",{className:"step-title",children:"Step 1"}),y("h10",{children:"Your username is how your friends will see you"}),K("div",{className:"input-div",children:[y("label",{htmlFor:"username",children:"Username: "}),y("br",{}),y("input",{placeholder:"Enter username",name:"username",id:"username",onChange:g=>r({username:g.target.value}),required:!0})]}),y("button",{type:"button",onClick:()=>u({page1:!a.page1,page2:!a.page2}),children:"Next"})]})}function d(){return K("div",{className:a.page2?"data-step":"disappear",children:[y("h3",{className:"step-title",children:"Step 2"}),y("h3",{children:"Your Phone number will be used in the event you forget your email and for multi-factor Authentication"}),K("div",{className:"phone-input-div",children:[y("label",{htmlFor:"phoneNumber",children:"Phone Number: "}),y(R3,{country:"sg",onChange:g=>r({phoneNumber:g}),name:"phoneNumber",id:"phoneNumber",dropdownClass:"drop-down",inputStyle:{width:"98%",height:"100%"},containerStyle:{width:"100%",height:"100%"}})]}),K("div",{className:"reg-nav",children:[y("button",{type:"button",onClick:()=>u({page1:!a.page1,page2:!a.page2}),children:"Previous"}),y("button",{type:"submit",children:"Submit"})]})]})}function f(){return K("div",{className:a.page3?"data-step":"disappear",children:[y("h3",{className:"step-title",children:"Step 3"}),K("div",{className:"input-div",children:[y("label",{htmlFor:"postalCode",children:"Postal Code: "}),y("input",{placeholder:"Postal Code",name:"postalCode"})]}),K("div",{className:"input-div",children:[y("label",{htmlFor:"country",children:"Country: "}),y("input",{placeholder:"Country",name:"country"})]}),K("div",{className:"reg-nav",children:[y("button",{type:"button",onClick:()=>u({page2:!a.page2,page3:!a.page3}),children:"Previous"}),y("button",{type:"submit",children:"Submit"})]})]})}return K(tt,{children:[K("div",{className:o?"hide":"error-alert",children:[y("span",{children:"Please complete this registration form before proceeding"}),y("button",{className:"alert-close",onClick:()=>s(!o),children:"X"})]}),K("form",{onSubmit:i,className:"multi-step-form",children:[c(),d(),f()]})]})}var JS={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var l in o)e.call(o,l)&&o[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(JS);var O3=JS.exports;const an=Za(O3),D3=["as","disabled"];function M3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function L3(t){return!t||t.trim()==="#"}function XS({tagName:t,disabled:e,href:n,target:r,rel:i,role:o,onClick:s,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const c=f=>{if((e||t==="a"&&L3(n))&&f.preventDefault(),e){f.stopPropagation();return}s==null||s(f)},d=f=>{f.key===" "&&(f.preventDefault(),c(f))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:c,onKeyDown:d},u]}const F3=h.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=M3(t,D3);const[o,{tagName:s}]=XS(Object.assign({tagName:n,disabled:r},i));return y(s,Object.assign({},i,o,{ref:e}))});F3.displayName="Button";const U3=["xxl","xl","lg","md","sm","xs"],V3="xs",xd=h.createContext({prefixes:{},breakpoints:U3,minBreakpoint:V3});function Ci(t,e){const{prefixes:n}=h.useContext(xd);return t||n[e]||e}function ZS(){const{breakpoints:t}=h.useContext(xd);return t}function eb(){const{minBreakpoint:t}=h.useContext(xd);return t}function $3(){const{dir:t}=h.useContext(xd);return t==="rtl"}const tb=h.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:o=!1,className:s,...a},l)=>{const u=Ci(e,"btn"),[c,{tagName:d}]=XS({tagName:t,disabled:o,...a});return y(d,{...c,...a,ref:l,disabled:o,className:an(s,u,i&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,a.href&&o&&"disabled")})});tb.displayName="Button";const pp=tb,Ns=!!(typeof window<"u"&&window.document&&window.document.createElement);var mp=!1,gp=!1;try{var Ff={get passive(){return mp=!0},get once(){return gp=mp=!0}};Ns&&(window.addEventListener("test",Ff,Ff),window.removeEventListener("test",Ff,!0))}catch{}function nb(t,e,n,r){if(r&&typeof r!="boolean"&&!gp){var i=r.once,o=r.capture,s=n;!gp&&i&&(s=n.__once||function a(l){this.removeEventListener(e,a,o),n.call(this,l)},n.__once=s),t.addEventListener(e,s,mp?r:o)}t.addEventListener(e,n,r)}function Nd(t){return t&&t.ownerDocument||document}function vp(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}var nu;function q0(t){if((!nu&&nu!==0||t)&&Ns){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),nu=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return nu}function B3(){return h.useState(null)}function j3(t){var e=h.useRef(t);return h.useEffect(function(){e.current=t},[t]),e}function tr(t){var e=j3(t);return h.useCallback(function(){return e.current&&e.current.apply(e,arguments)},[e])}var Y0=function(e){return!e||typeof e=="function"?e:function(n){e.current=n}};function z3(t,e){var n=Y0(t),r=Y0(e);return function(i){n&&n(i),r&&r(i)}}function Ad(t,e){return h.useMemo(function(){return z3(t,e)},[t,e])}function H3(t){var e=h.useRef(t);return e.current=t,e}function rb(t){var e=H3(t);h.useEffect(function(){return function(){return e.current()}},[])}function W3(t){var e=Nd(t);return e&&e.defaultView||window}function G3(t,e){return W3(t).getComputedStyle(t,e)}var K3=/([A-Z])/g;function q3(t){return t.replace(K3,"-$1").toLowerCase()}var Y3=/^ms-/;function ru(t){return q3(t).replace(Y3,"-ms-")}var Q3=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function J3(t){return!!(t&&Q3.test(t))}function Ki(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(ru(e))||G3(t).getPropertyValue(ru(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?t.style.removeProperty(ru(i)):J3(i)?r+=i+"("+o+") ":n+=ru(i)+": "+o+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}function Oc(t,e,n,r){return nb(t,e,n,r),function(){vp(t,e,n,r)}}function X3(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function Z3(t){var e=Ki(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function e4(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||X3(t,"transitionend",!0)},e+n),o=Oc(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function ib(t,e,n,r){n==null&&(n=Z3(t)||0);var i=e4(t,n,r),o=Oc(t,"transitionend",e);return function(){i(),o()}}function Uf(t){t===void 0&&(t=Nd());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Q0(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function t4(){var t=h.useRef(!0),e=h.useRef(function(){return t.current});return h.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e.current}function n4(t){var e=h.useRef(null);return h.useEffect(function(){e.current=t}),e.current}const r4="data-rr-ui-";function i4(t){return`${r4}${t}`}function o4(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const J0=i4("modal-open");class s4{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return o4(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Ki(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(J0,""),Ki(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(J0),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Ag=s4,ob=h.createContext(Ns?window:void 0);ob.Provider;function sb(){return h.useContext(ob)}const Vf=(t,e)=>Ns?t==null?(e||Nd()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function a4(t,e){const n=sb(),[r,i]=h.useState(()=>Vf(t,n==null?void 0:n.document));if(!r){const o=Vf(t);o&&i(o)}return h.useEffect(()=>{e&&r&&e(r)},[e,r]),h.useEffect(()=>{const o=Vf(t);o!==r&&i(o)},[t,r]),r}var l4=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",u4=typeof document<"u";const X0=u4||l4?h.useLayoutEffect:h.useEffect;function c4({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const o=h.useRef(null),s=h.useRef(e),a=tr(n);h.useEffect(()=>{e?s.current=!0:a(o.current)},[e,a]);const l=Ad(o,t.ref),u=h.cloneElement(t,{ref:l});return e?u:i||!s.current&&r?null:u}function d4({in:t,onTransition:e}){const n=h.useRef(null),r=h.useRef(!0),i=tr(e);return X0(()=>{if(!n.current)return;let o=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[t,i]),X0(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function f4({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[o,s]=h.useState(!e);e&&o&&s(!1);const a=d4({in:!!e,onTransition:u=>{const c=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(s(!0),n==null||n(u.element)))};Promise.resolve(i(u)).then(c,d=>{throw u.in||s(!0),d})}}),l=Ad(a,t.ref);return o&&!e?null:h.cloneElement(t,{ref:l})}function Z0(t,e,n){return t?y(t,Object.assign({},n)):e?y(f4,Object.assign({},n,{transition:e})):y(c4,Object.assign({},n))}function h4(t){return t.code==="Escape"||t.keyCode===27}const p4=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function m4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let $f;function g4(t){return $f||($f=new Ag({ownerDocument:t==null?void 0:t.document})),$f}function v4(t){const e=sb(),n=t||g4(e),r=h.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:h.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:h.useCallback(i=>{r.current.backdrop=i},[])})}const ab=h.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:o,children:s,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:c,transition:d,runTransition:f,backdropTransition:g,runBackdropTransition:v,autoFocus:w=!0,enforceFocus:C=!0,restoreFocus:m=!0,restoreFocusOptions:p,renderDialog:_,renderBackdrop:b=ce=>y("div",Object.assign({},ce)),manager:I,container:k,onShow:T,onHide:D=()=>{},onExit:Y,onExited:H,onExiting:pe,onEnter:me,onEntering:Ce,onEntered:M}=t,P=m4(t,p4);const L=a4(k),U=v4(I),N=t4(),F=n4(n),[x,A]=h.useState(!n),V=h.useRef(null);h.useImperativeHandle(e,()=>U,[U]),Ns&&!F&&n&&(V.current=Uf()),n&&x&&A(!1);const q=tr(()=>{if(U.add(),ke.current=Oc(document,"keydown",oe),ve.current=Oc(document,"focus",()=>setTimeout(S),!0),T&&T(),w){const ce=Uf(document);U.dialog&&ce&&!Q0(U.dialog,ce)&&(V.current=ce,U.dialog.focus())}}),j=tr(()=>{if(U.remove(),ke.current==null||ke.current(),ve.current==null||ve.current(),m){var ce;(ce=V.current)==null||ce.focus==null||ce.focus(p),V.current=null}});h.useEffect(()=>{!n||!L||q()},[n,L,q]),h.useEffect(()=>{x&&j()},[x,j]),rb(()=>{j()});const S=tr(()=>{if(!C||!N()||!U.isTopModal())return;const ce=Uf();U.dialog&&ce&&!Q0(U.dialog,ce)&&U.dialog.focus()}),ie=tr(ce=>{ce.target===ce.currentTarget&&(u==null||u(ce),a===!0&&D())}),oe=tr(ce=>{l&&h4(ce)&&U.isTopModal()&&(c==null||c(ce),ce.defaultPrevented||D())}),ve=h.useRef(),ke=h.useRef(),Ae=(...ce)=>{A(!0),H==null||H(...ce)};if(!L)return null;const xe=Object.assign({role:r,ref:U.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},P,{style:o,className:i,tabIndex:-1});let Re=_?_(xe):y("div",Object.assign({},xe,{children:h.cloneElement(s,{role:"document"})}));Re=Z0(d,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:Y,onExiting:pe,onExited:Ae,onEnter:me,onEntering:Ce,onEntered:M,children:Re});let Be=null;return a&&(Be=b({ref:U.setBackdropRef,onClick:ie}),Be=Z0(g,v,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Be})),y(tt,{children:Uo.createPortal(K(tt,{children:[Be,Re]}),L)})});ab.displayName="Modal";const y4=Object.assign(ab,{Manager:Ag});var _4=Function.prototype.bind.call(Function.prototype.call,[].slice);function bo(t,e){return _4(t.querySelectorAll(e))}const Io={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class w4 extends Ag{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Ki(n,{[e]:`${parseFloat(Ki(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Ki(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(OF(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";bo(n,Io.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),bo(n,Io.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),bo(n,Io.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();DF(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";bo(n,Io.FIXED_CONTENT).forEach(o=>this.restore(r,o)),bo(n,Io.STICKY_CONTENT).forEach(o=>this.restore(i,o)),bo(n,Io.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let Bf;function E4(t){return Bf||(Bf=new w4(t)),Bf}function e_(t,e){const n=Ki(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function C4(t,e){const n=e_(t,"transitionDuration"),r=e_(t,"transitionDelay"),i=ib(t,o=>{o.target===t&&(i(),e(o))},n+r)}function S4(t){t.offsetHeight}function b4(t){return t&&"setState"in t?Uo.findDOMNode(t):t??null}const I4=Xt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:o,addEndListener:s,children:a,childRef:l,...u},c)=>{const d=h.useRef(null),f=Ad(d,l),g=k=>{f(b4(k))},v=k=>T=>{k&&d.current&&k(d.current,T)},w=h.useCallback(v(t),[t]),C=h.useCallback(v(e),[e]),m=h.useCallback(v(n),[n]),p=h.useCallback(v(r),[r]),_=h.useCallback(v(i),[i]),b=h.useCallback(v(o),[o]),I=h.useCallback(v(s),[s]);return y(Tg,{ref:c,...u,onEnter:w,onEntered:m,onEntering:C,onExit:p,onExited:b,onExiting:_,addEndListener:I,nodeRef:d,children:typeof a=="function"?(k,T)=>a(k,{...T,ref:g}):Xt.cloneElement(a,{ref:g})})}),k4=I4,T4={[zr]:"show",[Pi]:"show"},lb=h.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},o)=>{const s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=h.useCallback((l,u)=>{S4(l),r==null||r(l,u)},[r]);return y(k4,{ref:o,addEndListener:C4,...s,onEnter:a,childRef:e.ref,children:(l,u)=>h.cloneElement(e,{...u,className:an("fade",t,e.props.className,T4[l],n[l])})})});lb.displayName="Fade";const ub=lb;var x4=/-(.)/g;function N4(t){return t.replace(x4,function(e,n){return n.toUpperCase()})}const A4=t=>t[0].toUpperCase()+N4(t).slice(1);function Rg(t,{displayName:e=A4(t),Component:n,defaultProps:r}={}){const i=h.forwardRef(({className:o,bsPrefix:s,as:a=n||"div",...l},u)=>{const c={...r,...l},d=Ci(s,t);return y(a,{ref:u,className:an(o,d),...c})});return i.displayName=e,i}const R4=Rg("modal-body"),P4=h.createContext({onHide(){}}),cb=P4,db=h.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:o,children:s,scrollable:a,...l},u)=>{t=Ci(t,"modal");const c=`${t}-dialog`,d=typeof o=="string"?`${t}-fullscreen-${o}`:`${t}-fullscreen`;return y("div",{...l,ref:u,className:an(c,e,i&&`${t}-${i}`,r&&`${c}-centered`,a&&`${c}-scrollable`,o&&d),children:y("div",{className:an(`${t}-content`,n),children:s})})});db.displayName="ModalDialog";const fb=db,O4=Rg("modal-footer"),D4={"aria-label":Lf.string,onClick:Lf.func,variant:Lf.oneOf(["white"])},Pg=h.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>y("button",{ref:i,type:"button",className:an("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));Pg.displayName="CloseButton";Pg.propTypes=D4;const M4=Pg,L4=h.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...o},s)=>{const a=h.useContext(cb),l=tr(()=>{a==null||a.onHide(),r==null||r()});return K("div",{ref:s,...o,children:[i,n&&y(M4,{"aria-label":t,variant:e,onClick:l})]})}),F4=L4,hb=h.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},o)=>(t=Ci(t,"modal-header"),y(F4,{ref:o,...i,className:an(e,t),closeLabel:n,closeButton:r})));hb.displayName="ModalHeader";const U4=hb,V4=t=>h.forwardRef((e,n)=>y("div",{...e,ref:n,className:an(e.className,t)})),$4=V4("h4"),B4=Rg("modal-title",{Component:$4});function j4(t){return y(ub,{...t,timeout:null})}function z4(t){return y(ub,{...t,timeout:null})}const pb=h.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:o,dialogAs:s=fb,"aria-labelledby":a,"aria-describedby":l,"aria-label":u,show:c=!1,animation:d=!0,backdrop:f=!0,keyboard:g=!0,onEscapeKeyDown:v,onShow:w,onHide:C,container:m,autoFocus:p=!0,enforceFocus:_=!0,restoreFocus:b=!0,restoreFocusOptions:I,onEntered:k,onExit:T,onExiting:D,onEnter:Y,onEntering:H,onExited:pe,backdropClassName:me,manager:Ce,...M},P)=>{const[L,U]=h.useState({}),[N,F]=h.useState(!1),x=h.useRef(!1),A=h.useRef(!1),V=h.useRef(null),[q,j]=B3(),S=Ad(P,j),ie=tr(C),oe=$3();t=Ci(t,"modal");const ve=h.useMemo(()=>({onHide:ie}),[ie]);function ke(){return Ce||E4({isRTL:oe})}function Ae(J){if(!Ns)return;const X=ke().getScrollbarWidth()>0,ne=J.scrollHeight>Nd(J).documentElement.clientHeight;U({paddingRight:X&&!ne?q0():void 0,paddingLeft:!X&&ne?q0():void 0})}const xe=tr(()=>{q&&Ae(q.dialog)});rb(()=>{vp(window,"resize",xe),V.current==null||V.current()});const Re=()=>{x.current=!0},Be=J=>{x.current&&q&&J.target===q.dialog&&(A.current=!0),x.current=!1},ce=()=>{F(!0),V.current=ib(q.dialog,()=>{F(!1)})},O=J=>{J.target===J.currentTarget&&ce()},B=J=>{if(f==="static"){O(J);return}if(A.current||J.target!==J.currentTarget){A.current=!1;return}C==null||C()},te=J=>{g?v==null||v(J):(J.preventDefault(),f==="static"&&ce())},ye=(J,X)=>{J&&Ae(J),Y==null||Y(J,X)},de=J=>{V.current==null||V.current(),T==null||T(J)},_e=(J,X)=>{H==null||H(J,X),nb(window,"resize",xe)},we=J=>{J&&(J.style.display=""),pe==null||pe(J),vp(window,"resize",xe)},Pe=h.useCallback(J=>y("div",{...J,className:an(`${t}-backdrop`,me,!d&&"show")}),[d,me,t]),Z={...n,...L};Z.display="block";const se=J=>y("div",{role:"dialog",...J,style:Z,className:an(e,t,N&&`${t}-static`,!d&&"show"),onClick:f?B:void 0,onMouseUp:Be,"aria-label":u,"aria-labelledby":a,"aria-describedby":l,children:y(s,{...M,onMouseDown:Re,className:r,contentClassName:i,children:o})});return y(cb.Provider,{value:ve,children:y(y4,{show:c,ref:S,backdrop:f,container:m,keyboard:!0,autoFocus:p,enforceFocus:_,restoreFocus:b,restoreFocusOptions:I,onEscapeKeyDown:te,onShow:w,onHide:C,onEnter:ye,onEntering:_e,onEntered:k,onExit:de,onExiting:D,onExited:we,manager:ke(),transition:d?j4:void 0,backdropTransition:d?z4:void 0,renderBackdrop:Pe,renderDialog:se})})});pb.displayName="Modal";const nr=Object.assign(pb,{Body:R4,Header:U4,Title:B4,Footer:O4,Dialog:fb,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function H4(t){const[e,n]=h.useState(!1),r=()=>n(!1);return K(tt,{children:[y(pp,{variant:"outline",style:{color:"#555",fontFamily:"courier, monospace",fontSize:"calc(3px + 0.7vw)",fontWeight:"bold"},onClick:()=>n(!0),children:t.task.name}),K(nr,{show:e,onHide:r,backdrop:"static",keyboard:!1,children:[y(nr.Header,{closeButton:!0,children:y(nr.Title,{children:t.task.name})}),y(nr.Body,{children:t.task.description}),y(nr.Footer,{children:y(pp,{variant:"primary",onClick:r,children:"Close"})})]})]})}const jf=(t,e)=>{const n=h.useRef(0);h.useEffect(()=>{let r=()=>{};if(n.current<2?n.current++:r=t(),r&&typeof r=="function")return r},e)};function W4({title:t,titleId:e,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?h.createElement("title",{id:e},t):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"}))}const G4=h.forwardRef(W4),K4=G4;function q4({title:t,titleId:e,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?h.createElement("title",{id:e},t):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"}))}const Y4=h.forwardRef(q4),Q4=Y4;function J4({title:t,titleId:e,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?h.createElement("title",{id:e},t):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.098 19.902a3.75 3.75 0 005.304 0l6.401-6.402M6.75 21A3.75 3.75 0 013 17.25V4.125C3 3.504 3.504 3 4.125 3h5.25c.621 0 1.125.504 1.125 1.125v4.072M6.75 21a3.75 3.75 0 003.75-3.75V8.197M6.75 21h13.125c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-4.072M10.5 8.197l2.88-2.88c.438-.439 1.15-.439 1.59 0l3.712 3.713c.44.44.44 1.152 0 1.59l-2.879 2.88M6.75 17.25h.008v.008H6.75v-.008z"}))}const X4=h.forwardRef(J4),Z4=X4;function e5({title:t,titleId:e,...n},r){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?h.createElement("title",{id:e},t):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))}const t5=h.forwardRef(e5),n5=t5,r5="_wrapper_1prg4_1",i5="_btns_1prg4_25",o5="_picker_1prg4_35",s5="_close_1prg4_137",iu={wrapper:r5,btns:i5,picker:o5,close:s5},yp=(t,e)=>{const[n,r]=h.useState(()=>{try{const i=window.localStorage.getItem(t);return i?JSON.parse(i):e}catch(i){return console.log(i),e}});return h.useEffect(()=>{window.localStorage.setItem(t,JSON.stringify(n))},[t,n]),[n,r]},mb=()=>{yp("react-todo.usable",!1);const[t,e]=yp("react-todo.color","240");window.matchMedia("(prefers-color-scheme: dark)").matches;const[n,r]=h.useState("light"),[i,o]=h.useState(!1);return h.useEffect(()=>{document.documentElement.setAttribute("color-scheme",n)},[n]),h.useEffect(()=>{document.documentElement.style.setProperty("--_hue",t)},[t]),y("aside",{className:iu.wrapper,style:{backgroundColor:i?"hsl(var(--muted) / 0.2)":"transparent"},children:i?K(tt,{children:[y("button",{className:`btn-theme ${iu.close}`,"aria-label":"Close color picking mode",onClick:()=>o(!1),children:y(n5,{})}),y("input",{className:iu.picker,type:"range",min:"0",max:"360","aria-label":"Change color theme slider",value:t,onInput:s=>e(s.target.value)})]}):K("div",{className:iu.btns,children:[y("button",{className:"btn-theme","aria-label":`Change theme to ${n==="light"?"dark":"light"} mode`,role:"switch",onClick:()=>r(n==="light"?"dark":"light"),children:n==="dark"?y(Q4,{}):y(K4,{})}),y("button",{className:"btn-theme","aria-label":"Enable color picking mode",onClick:()=>o(!0),children:y(Z4,{})})]})})};const a5="/assets/addFriend-68b682f6.png",l5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA30lEQVR4nO2aSw6DMAxEZ8XJy6f3LDlDWU2FBJLLomqCSV2YJ3lJ5CdPzCaAeKMDMAFgZs3ftAjEVCCx1vPo5hoAdwDpQxMrpRLfnjMCGJaeshkcGvAS4VJ9iUgKKJJKRDwb8Dwnm1OL1N5arC3S7viP3CKJHAUlYtBEHKGiZVC0HKGideVo0akkUmWsO6Euu0ETcYTaWldev0dCiRg0EUeorWXQ1nKE2loGbS1HqGgZFC1HqGgZFK1/iBYDVDanERkDNM1NPUpE+gCNc1Pz451smkVmDDKJrvQtisAPeAEky2Qx5sU8wgAAAABJRU5ErkJggg==",u5="/assets/removeFriend-ac3823d8.png",c5=(t,e)=>{const[n,r]=h.useState(!1),i=()=>{t.setIsBioOpen(!1),r(!1)};return K(tt,{children:[y("div",{style:{cursor:"pointer","font-weight":"bold","font-size":"1.5rem","padding-left":"10%","grid-area":"1 / 1 / 2 / 2"},onClick:()=>{t.setIsBioOpen(!0),r(!0)},children:t.username}),K(nr,{show:n,onHide:i,backdrop:"static",keyboard:!1,children:[y(nr.Header,{closeButton:!0,children:y(nr.Title,{children:t.username})}),y(nr.Body,{children:t.bio}),y(nr.Footer,{children:y(pp,{variant:"primary",onClick:i,children:"Close"})})]})]})},d5=Xt.forwardRef((t,e)=>{const[n,r]=h.useState(""),[i,o]=h.useState([]),[s,a]=h.useState([]),[l,u]=h.useState([]),[c,d]=h.useState({friendId:""}),[f,g]=h.useState({}),[v,w]=h.useState({}),[C,m]=h.useState(""),[p,_]=h.useState(),[b,I]=h.useState(""),k=P=>d(L=>({...L,...P}));h.useEffect(()=>Q.onAuthStateChanged(P=>m(P?P.uid:""))),h.useEffect(()=>{var N,F;const P=(N=Q.currentUser)==null?void 0:N.uid,L=[],U=Yt(Qt,"users/"+P+"/friendList");Ks(U).then(x=>{x.forEach(A=>{L.push(A.val())}),o(L)}).then(x=>{R2(U,A=>{let V=0;o(q=>(V++,V>1?q:[...q,A.val()]))}),P2(U,A=>{o(V=>{const q=[...V],j=q.indexOf(A.val());return q.splice(j,1),q})})}),(F=Q.currentUser)==null||F.getIdToken().then(x=>T(P,x)).then(x=>r(x.username))},[]);function T(P,L){return new Promise(U=>{fetch(`${Ve}/setting?UID=${P}`,{method:"GET",headers:{Authorization:"Bearer "+L,"Content-Type":"application/json"}}).then(N=>N.json().then(F=>{console.log(F[0]),U(F[0])}))})}h.useEffect(()=>{Y(i),D(i)},[i]);function D(P){Q.currentUser.getIdToken().then(U=>{const N=P.map(F=>T(F,U));Promise.all(N).then(F=>{a(F.map(x=>x.username)),u(F.map(x=>x.bio))})})}function Y(P){const L={},U=P.map(N=>{const F=Yt(Qt,"users/"+N+"/currentTask"),x=FC(F,A=>{const V=A.ref.parent.key;g(q=>({...q,[V]:A.val()}))});return w(A=>({...A,[N]:x})),Ks(F).then(A=>{L[N]=A.val()})});Promise.all(U).then(N=>g(L))}async function H(P){var F;const L=(F=Q.currentUser)==null?void 0:F.uid,U=Yt(Qt,"users/"+L+"/friendList"),N=Yt(Qt,"users/"+P);await Ks(N).then(x=>{if(x.exists()){g0(U,P),console.log("Updated in realtime db"),console.log(P);const A=Yt(Qt,"users/"+P+"/friendList");g0(A,L)}else console.log("User uid doesn't exist in realtime database")},x=>console.log(x))}async function pe(P){var N,F;P.preventDefault(),c.firebaseUID=(N=Q.currentUser)==null?void 0:N.uid;const L=Q.currentUser,U=await((F=Q.currentUser)==null?void 0:F.getIdToken());console.log(c.friendId),c.friendId==L.uid||c.friendId==""?(I("Enter your friend's User ID!"),setTimeout(()=>I(""),5e3)):L&&await fetch(`${Ve}/addFriend`,{method:"POST",headers:{Authorization:"Bearer "+U,"Content-Type":"application/json"},body:JSON.stringify(c)}).then(x=>{if(x.ok)return x.json();x.text().then(A=>{throw I(A),setTimeout(()=>I(""),5e3),new Error("Error: "+A)})}).then(x=>{H(c.friendId)}).catch(x=>console.log(x)),d({friendId:""}),P.target.reset()}function me(P){const L=Yt(Qt,"/users/"+C+"/friendList");Ks(L).then(N=>{N.forEach(V=>console.log(V.val()));const F=N.val()||[],x=Object.values(F).filter(V=>V!=P);v[P]();const A={...t.listeners};delete A.uid,w(A),gi(L,x),o(x)});const U=Yt(Qt,"/users/"+P+"/friendList");Ks(U).then(N=>{const F=N.val()||[],x=Object.values(F).filter(A=>A!=C);gi(U,x)})}function Ce(P,L){var U;(U=Q.currentUser)==null||U.getIdToken().then(N=>{fetch(`${Ve}/removeFriend?currentUserUID=${C}&friendUID=${P[L]}`,{method:"DELETE",headers:{Authorization:"Bearer "+N,"Content-Type":"application/json"}}).then(F=>{if(F.ok)return F.json();throw console.log(F.json()),new Error("Error: "+F.status)}).then(F=>me(P[L])).catch(F=>console.log(F))})}function M(P,L){return Object.values(P).map((U,N)=>{const F=L[N],x=l[N];return y(tt,{children:K("div",{className:"userBox",children:[y(c5,{bio:x,username:F,setIsBioOpen:t.setIsBioOpen}),y("div",{className:"user-currentTask",children:U||"Chilling at the moment"}),y("button",{onClick:A=>Ce(i,N),children:y("img",{src:u5,alt:"delete friend",height:"100%",width:"100%"})})]},N)})})}return y(tt,{children:K("div",{ref:e,className:"side-bar",style:t.sideBarStyle,children:[y("div",{className:"collapse-button",style:p,children:y("button",{type:"button",style:{"background-color":"#D90202",height:"100%",width:"3vw",border:"2px solid black","border-radius":"50%"},onClick:P=>{t.setSideBarStyle({width:"0px",position:"fixed"}),t.setSideBarButtonStyle({position:"fixed",right:"0px",bottom:"0px",backgroundColor:"transparent"})},children:"x"})}),K("div",{className:"currentUserInfo",children:[C!=""?K(tt,{children:[y("div",{className:"username",children:n}),y("div",{className:"uid-info",title:"User-id",children:C}),y("button",{type:"button",onClick:P=>navigator.clipboard.writeText(C),children:y("img",{src:l5,height:"100%",width:"100%"})})]}):y(tt,{}),K("form",{onSubmit:pe,className:"friend",title:"Enter Your Friend's User ID which is shown below the username!",children:[y("input",{className:"input-field",placeholder:"User-id",required:!0,maxLength:"36",onInput:P=>k({friendId:P.target.value})}),y("div",{className:"error-message",children:b}),y("button",{type:"submit",className:"button-submit",children:y("img",{src:a5,alt:"Add Friend"})})]})]}),y("div",{className:"friendList",children:Object.keys(f).length>0?M(f,s):y("h3",{children:"No Friends At The Moment"})})]})})}),f5="/assets/friends-22f76075.png";async function h5(t){var n;const e=await((n=Q.currentUser)==null?void 0:n.getIdToken());await fetch(`${Ve}/googlecalendar/delete_event`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}})}const p5=t=>y("div",{children:K("li",{className:"list-items",draggable:!0,onDragStart:e=>t.dragItem.current=t.index,onDragEnter:e=>t.dragOverItem.current=t.index,onDragEnd:t.handleSort,onDragOver:e=>e.preventDefault(),children:[y(H4,{task:t.task}),y("colgroup",{}),t.task.deadline||"nil",y("colgroup",{}),t.task.priority||"nil",y("colgroup",{}),y("button",{className:"btn btn-link",style:{paddingLeft:0,fontSize:"calc(3px + 0.7vw)"},children:y(Hn,{to:`/edit/${t.task._id}`,children:"Edit"})}),"|",y("button",{className:"btn btn-link ",style:{fontSize:"calc(3px + 0.7vw)"},onClick:()=>{t.deleteTask(t.task._id)},children:"Delete"}),"|",y("button",{className:"btn btn-link ",style:{fontSize:"calc(3px + 0.7vw)"},onClick:e=>m5(t.task),children:y("div",{children:"Set Current Task"})})]})});async function m5(t){const e=Q.currentUser;if(e){const n=await(e==null?void 0:e.getIdToken());if((await fetch(`${Ve}/setCurrentTask`,{method:"PATCH",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},body:JSON.stringify(t)}).catch(i=>{window.alert(i)})).ok){Q.currentUser;const i=Yt(Qt,"users/"+t.firebaseUID+"/currentTask");gi(i,t.name)}}}function g5(t){const[e,n]=h.useState(),[r,i]=h.useState(),[o,s]=h.useState([]),[a,l]=h.useState({name:"",deadline:"",priority:"",description:"",doBefore:[],customPriority:""}),[u,c]=h.useState({position:"fixed",right:"0px",bottom:"0px",backgroundColor:"transparent"}),[d,f]=h.useState({}),g=Kn(),[v,w]=h.useState(!1);h.useEffect(()=>{async function M(){var x;if(Q.currentUser==null){console.log("currentUser is null, no customisation state");return}const L=await((x=Q.currentUser)==null?void 0:x.getIdToken()),U=Q.currentUser.uid,N=await fetch(`${Ve}/tasklist?UID=${U}`,{method:"GET",headers:{Authorization:"Bearer "+L,"Content-Type":"application/json"}});if(!N.ok){const A=`An error occurred: ${N.statusText}`;window.alert(A);return}const F=await N.json();F[0]==null?n(!1):n(F[0].allowCustomisation)}M()},[o.length]),h.useEffect(()=>{async function M(){var x;if(Q.currentUser==null){console.log("currentUser is null");return}const L=await((x=Q.currentUser)==null?void 0:x.getIdToken());console.log(L);const U=Q.currentUser.uid,N=await fetch(`${Ve}/tasklist?UID=${U}`,{method:"GET",headers:{Authorization:"Bearer "+L,"Content-Type":"application/json"}});if(!N.ok){const A=`An error occurred: ${N.statusText}`;window.alert(A);return}let F=await N.json();F[0]==null?(C(),i(!1)):i(F[0].useCustomPriority)}M()},[o.length]),jf(()=>{async function M(){var x;if(Q.currentUser==null){console.log("currentUser is null, no tasks to be fetched from database.");return}const L=await((x=Q.currentUser)==null?void 0:x.getIdToken()),U=Q.currentUser.uid,N=await fetch(`${Ve}/task?UID=${U}&UCP=${r}`,{method:"GET",headers:{Authorization:"Bearer "+L,"Content-Type":"application/json"}});if(!N.ok){const A=`An error occurred: ${N.statusText}`;window.alert(A);return}let F=await N.json();(r==null||!r)&&(F=await u3(F)),s(F)}M()},[r]);async function C(){var L;const M=await((L=Q.currentUser)==null?void 0:L.getIdToken()),P={useCustomPriority:!1,UID:Q.currentUser.uid};await fetch(`${Ve}/tasklist`,{method:"PATCH",body:JSON.stringify(P),headers:{"Content-Type":"application/json",Authorization:"Bearer "+M}})}async function m(){var L;const M=await((L=Q.currentUser)==null?void 0:L.getIdToken()),P={useCustomPriority:!0,UID:Q.currentUser.uid};await fetch(`${Ve}/tasklist`,{method:"PATCH",body:JSON.stringify(P),headers:{"Content-Type":"application/json",Authorization:"Bearer "+M}})}async function p(M){var A,V;const P=(A=Q.currentUser)==null?void 0:A.uid,L=await((V=Q.currentUser)==null?void 0:V.getIdToken());var F=(await(await fetch(`${Ve}/task/${M}`,{method:"GET",headers:{Authorization:"Bearer "+L}})).json()).googleCalendarEventID;h5({eventID:F}),await fetch(`${Ve}/task/${M}`,{method:"DELETE",headers:{Authorization:"Bearer "+L}}).then(async q=>{const j=await q.json();if(q.ok&&j.isCurrentTask){const S=Yt(Qt,"users/"+P+"/currentTask");A2(S)}});const x=o.filter(q=>q._id!==M);s(x)}function _(M){return M.map((P,L)=>y(p5,{task:P,deleteTask:()=>p(P._id),index:L,dragItem:b,dragOverItem:I,handleSort:k},P._id))}const b=h.useRef(null),I=h.useRef(null),k=()=>{let M=[...o];const P=M.splice(b.current,1)[0];M.splice(I.current,0,P),b.current=null,I.current=null,s(M)};async function T(M,P){var F;const L=await((F=Q.currentUser)==null?void 0:F.getIdToken()),U=await fetch(`${Ve}/task/${M._id}`,{method:"GET",headers:{Authorization:"Bearer "+L}});if(!U.ok){const x=`An error has occurred: ${U.statusText}`;window.alert(x);return}const N=await U.json();if(!N){window.alert(`Task with MongoDb_id ${id} not found`),g("/");return}l({...N,customPriority:P})}jf(()=>{H(a)},[a]);async function D(){let M=0,P=structuredClone(o);for await(const L of P)await T(L,M),M++;await m(),i(!0)}async function Y(){await C(),r==null?i(!1):r==!1?i(void 0):i(!1)}async function H(M){var N;let P=structuredClone(M);const L={name:P.name,deadline:P.deadline,priority:P.priority,description:P.description,doBefore:P.doBefore,customPriority:P.customPriority},U=await((N=Q.currentUser)==null?void 0:N.getIdToken());await fetch(`${Ve}/task/${P._id}`,{method:"PATCH",body:JSON.stringify(L),headers:{"Content-Type":"application/json",Authorization:"Bearer "+U}}),g("/mytasks")}const pe=h.useRef(),me=h.useRef(),Ce=h.useCallback(M=>{pe.current&&!pe.current.contains(M.target)&&!me.current.contains(M.target)&&(f({width:"0px",position:"fixed"}),c({position:"fixed",right:"0px",bottom:"0px",backgroundColor:"transparent"}))},[]);return h.useEffect(()=>{if(!v)return setTimeout(()=>document.addEventListener("click",Ce),100),()=>document.removeEventListener("click",Ce)},[v]),jf(()=>{v&&document.removeEventListener("click",Ce)},[v]),K(tt,{children:[K("div",{className:"list taskListPage ","data-testid":"tasklistTitle",children:[y("h3",{style:{textAlign:"center",margin:15},children:"📚Task List"})," ",K("div",{children:[y("div",{className:"lines"}),K("ul",{id:"List","data-testid":"tasklistHeaders",children:[K("li",{style:{borderBottom:" double darkgrey"},children:["Task Name ",y("colgroup",{}),"Deadline ",y("colgroup",{}),"Priority ",y("colgroup",{}),"Action"]}),_(o)]}),y(er,{className:"nav-link btn",style:{color:"white",backgroundColor:"green",padding:"0.5%",fontSize:"80%",fontWeight:"normal",width:"18%",marginLeft:75,marginTop:10},to:"/create",children:"✏️ Add new task"}),y("button",{className:"btn btn-primary ",style:{color:"black",backgroundColor:"lightblue",borderColor:"black",border:"none",padding:"0.5%",fontSize:"80%",fontWeight:"normal",fontFamily:"Arial",width:"12%",margin:18},onClick:D,children:"Save current task order"}),y("button",{className:"btn btn-primary ",style:{color:"black",backgroundColor:"lightblue",border:"none",padding:"0.5%",fontSize:"80%",fontWeight:"normal",fontFamily:"Arial",width:"12%",margin:18},onClick:Y,children:"Reset to default sort order"})]}),e?y(mb,{}):y(tt,{})]}),y("button",{ref:me,style:u,onClick:M=>{f({width:"25vw","border-left":"5px solid rgb(67, 99, 98)"}),c({display:"hidden"})},children:y("img",{src:f5,height:"50px",width:"50px"})}),y(d5,{ref:pe,sideBarStyle:d,setSideBarStyle:f,setSideBarButtonStyle:c,setIsBioOpen:w})]})}const gb=h.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},o)=>{const s=Ci(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return y(n,{ref:o,...i,className:an(r,e?`${s}${a}`:s)})});gb.displayName="Container";const vb=gb,yb=h.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const o=Ci(t,"row"),s=ZS(),a=eb(),l=`${o}-cols`,u=[];return s.forEach(c=>{const d=r[c];delete r[c];let f;d!=null&&typeof d=="object"?{cols:f}=d:f=d;const g=c!==a?`-${c}`:"";f!=null&&u.push(`${l}${g}-${f}`)}),y(n,{ref:i,...r,className:an(e,o,...u)})});yb.displayName="Row";const qi=yb;function v5({as:t,bsPrefix:e,className:n,...r}){e=Ci(e,"col");const i=ZS(),o=eb(),s=[],a=[];return i.forEach(l=>{const u=r[l];delete r[l];let c,d,f;typeof u=="object"&&u!=null?{span:c,offset:d,order:f}=u:c=u;const g=l!==o?`-${l}`:"";c&&s.push(c===!0?`${e}${g}`:`${e}${g}-${c}`),f!=null&&a.push(`order${g}-${f}`),d!=null&&a.push(`offset${g}-${d}`)}),[{...r,className:an(n,...s,...a)},{as:t,bsPrefix:e,spans:s}]}const _b=h.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:o,spans:s}]=v5(t);return y(i,{...r,ref:e,className:an(n,!s.length&&o)})});_b.displayName="Col";const it=_b;function y5(){const[t,e]=h.useState([]),n=Kn();h.useEffect(()=>{async function o(){var c;const s=await((c=Q.currentUser)==null?void 0:c.getIdToken()),a=Q.currentUser.uid,l=await fetch(`${Ve}/setting?UID=${a}`,{method:"GET",headers:{Authorization:"Bearer "+s,"Content-Type":"application/json"}});if(!l.ok){const d=`An error occurred: ${l.statusText}`;window.alert(d);return}const u=await l.json();e(u[0])}o()},[]);function r(o){return e(s=>({...s,...o}))}async function i(o){var l;o.preventDefault();const s={email:t.email,username:t.username,uid:t.firebaseUID,bio:t.bio},a=await((l=Q.currentUser)==null?void 0:l.getIdToken());await fetch(`${Ve}/setting`,{method:"PATCH",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}),n("/settings/profile")}return K(tt,{children:[y("div",{className:"setting-header",children:K(qi,{children:[y(it,{style:{fontSize:"5vh",fontWeight:"bold"},children:"⚙️ Settings"}),y(it,{className:"setting-header-subgroups",children:y(Hn,{className:"setting-header-text",style:{backgroundColor:"lightgrey",color:"black"},to:"/settings/profile",children:"Profile"})}),y(it,{className:"setting-header-subgroups",children:y(Hn,{className:"setting-header-text ",to:"/settings/security",children:"Security"})}),y(it,{className:"setting-header-subgroups",children:y(Hn,{className:"setting-header-text ",to:"/settings/appearance",children:"Appearance"})})]})}),y("div",{className:"setting-body",children:y(vb,{children:K("form",{onSubmit:i,children:[K(qi,{className:"setting-body-row",children:[y(it,{xs:!0,lg:"2",children:y("label",{htmlFor:"username",children:" Username:"})}),y(it,{xs:!0,lg:"3",children:y("input",{type:"text",id:"username",value:t.username,placeholder:"Your username here",onChange:o=>r({username:o.target.value})})}),y(it,{xs:!0,lg:"2",children:y("input",{type:"submit",style:{width:"100%",color:"black",border:"none"},value:"Update"})})]}),K(qi,{className:"setting-body-row",children:[y(it,{lg:"2",children:"Bio:"}),K(it,{children:[y("input",{type:"text",id:"bio",style:{width:"100%",display:"flex",alignItems:"start",height:"150%"},placeholder:"Your bio here",value:t.bio,onChange:o=>r({bio:o.target.value})}),y(it,{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:y("input",{type:"submit",style:{width:"10%",color:"black",border:"none"},value:"Save"})})]})]})]})})})]})}function _5(){const[t,e]=h.useState([]),[n,r]=h.useState(null);h.useEffect(()=>{(()=>{const c=wE().currentUser;e({email:c.email,name:"temp placeholder",phoneNumber:"9123 4567"})})()},[]);async function i(l){var g;const u=l.uid,c=await((g=Q.currentUser)==null?void 0:g.getIdToken());return(await(await fetch(`${Ve}/login?UID=${u}`,{method:"GET",headers:{Authorization:"Bearer "+c,"Content-Type":"application/json"}}).catch(v=>console.log(v))).json()).message!=="not registered"}async function o(){return r(Q.currentUser),await i(n)}const s=l=>K(tt,{children:[y("div",{className:"setting-header",children:K(qi,{children:[y(it,{style:{fontSize:"5vh",fontWeight:"bold"},children:"⚙️ Settings"}),y(it,{className:"setting-header-subgroups",children:y(Hn,{className:"setting-header-text",to:"/settings/profile",children:"Profile"})}),y(it,{className:"setting-header-subgroups",children:y(Hn,{className:"setting-header-text ",style:{backgroundColor:"lightgrey",color:"black"},to:"/settings/security",children:"Security"})}),y(it,{className:"setting-header-subgroups",children:y(Hn,{className:"setting-header-text ",to:"/settings/appearance",children:"Appearance"})})]})}),y("div",{className:"setting-body",children:K(vb,{children:[K(qi,{className:"setting-body-row",children:[y(it,{xs:!0,lg:"2",children:"Verified email:"}),y(it,{xs:!0,lg:"3",children:y("input",{disabled:!0,type:"text",name:"email",id:"email",style:{backgroundColor:"white"},placeholder:l.userInfo.email})}),y(it,{xs:!0,lg:"2",className:"btn btn-outline",style:o()?{backgroundColor:"lightgreen"}:{backgroundColor:"lightpink"},children:o()?"Email Verified":"Send verification email"})]}),K(qi,{className:"setting-body-row flex-nowrap",children:[y(it,{xs:!0,lg:"2",children:"Phone Number:"}),y(it,{xs:!0,lg:"3",children:y("input",{type:"text",name:"phoneNumber",id:"phoneNumber",placeholder:l.userInfo.phoneNumber})}),y(it,{xs:!0,lg:"2",className:"btn btn-outline",style:{backgroundColor:"pink"},children:"Send OTP code"})]})]})})]});function a(){return y(s,{userInfo:t})}return a()}function w5(){const[t,e]=yp("react-todo.customisation",!1);async function n(){var a;console.log("set customisation to true req");const o=await((a=Q.currentUser)==null?void 0:a.getIdToken()),s={allowCustomisation:!0,UID:Q.currentUser.uid};await fetch(`${Ve}/tasklist`,{method:"PATCH",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}})}async function r(){var a;console.log("set customisation to false req");const o=await((a=Q.currentUser)==null?void 0:a.getIdToken()),s={allowCustomisation:!1,UID:Q.currentUser.uid};await fetch(`${Ve}/tasklist`,{method:"PATCH",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}})}async function i(){console.log("toggleCustomisation ran"),t?r():n(),e(!t)}return K(tt,{children:[y("div",{className:"setting-header",children:K(qi,{children:[y(it,{style:{fontSize:"5vh",fontWeight:"bold"},children:"⚙️ Settings"}),y(it,{className:"setting-header-subgroups",children:y(Hn,{className:"setting-header-text",to:"/settings/profile",children:"Profile"})}),y(it,{className:"setting-header-subgroups",children:y(Hn,{className:"setting-header-text ",to:"/settings/security",children:"Security"})}),y(it,{className:"setting-header-subgroups",children:y(Hn,{className:"setting-header-text ",style:{backgroundColor:"lightgrey",color:"black"},to:"/settings/security",children:"Appearance"})})]})}),y("div",{className:"setting-body",children:K("div",{className:"form-check form-switch",style:{width:"100%",display:"flex",alignItems:"start"},children:[y("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault",checked:t,onClick:i}),y("label",{className:"form-check-label",for:"flexSwitchCheckDefault",children:"Allow customisation on My Tasks page"}),t?y(mb,{}):y(tt,{})]})})]})}function E5(t){const[e,n]=h.useState(null),[r,i]=h.useState(!1),[o,s]=h.useState(15),[a,l]=h.useState(!1);h.useEffect(()=>{n(Q.currentUser)});async function u(c){if(e){i(!0),l(!0),await Dm(e).catch(f=>console.log(f)),setTimeout(()=>i(!1),15e3);const d=setInterval(()=>{s(f=>f===0?(l(!1),clearInterval(d),15):f-1)},1e3)}}return y(tt,{children:K("div",{className:"verify-Form",children:[y("h1",{children:"Verify your Account"}),K("div",{children:[y("h4",{children:"Did not receive the email?"}),K("div",{className:a?"button-label":"hide",children:["Try again in ",o]}),y("button",{onClick:u,className:"submit-button",disabled:r,"data-testid":"resend-button",children:"Resend Email"})]})]})})}const C5=()=>{const t=fo(),e=Kn(),[n,r]=h.useState(null),[i,o]=h.useState(!1),[s,a]=h.useState(!1),[l,u]=h.useState(!1);async function c(g){var p;const v=g.uid,w=await((p=Q.currentUser)==null?void 0:p.getIdToken());(await(await fetch(`${Ve}/login?UID=${v}`,{method:"GET",headers:{Authorization:"Bearer "+w,"Content-Type":"application/json"}}).catch(_=>console.log(_))).json()).message==="not registered"?(a(!1),e("/reginfo")):a(!0)}h.useEffect(()=>{n&&!t.pathname.includes("/reginfo")&&!t.pathname.includes("/verifyEmail")&&(n.reload(),n.emailVerified?c(n):e("/verifyEmail"))},[n,t,i]),h.useEffect(()=>{n&&i==!0&&t.pathname.includes("/verifyEmail")?(console.log("redirected"),e("/reginfo")):n||e("/login")},[n,i]),h.useEffect(()=>{const g=setInterval(()=>{r(Q.currentUser),n&&(n.reload(),n.emailVerified&&(o(!0),clearInterval(g)))},1e3);return()=>clearInterval(g)},[n]),h.useEffect(()=>{r(Q.currentUser)},[t,i]);const[d,f]=h.useState(!1);return K("div",{className:"app",children:[y(W2,{auth:d}),y(q2,{auth:d,setAuth:f,sidebarActive:l,setSidebar:u}),K($T,{children:[y(qt,{exact:!0,path:"/",element:y(b3,{auth:d})}),y(qt,{path:"/edit/:id",element:y(d3,{})}),y(qt,{path:"/create",element:y(y3,{})}),y(qt,{path:"/login",element:y(C3,{auth:d,setAuth:f})}),y(qt,{path:"/register/*",element:y(k3,{})}),y(qt,{path:"/reginfo",element:y(P3,{})}),y(qt,{path:"/reset",element:y(x3,{})}),y(qt,{path:"*",element:y(N3,{})}),y(qt,{path:"/mytasks",element:y(g5,{sidebarActive:l,setSidebar:u})}),y(qt,{path:"/settings/profile",element:y(y5,{})}),y(qt,{path:"/settings/security",element:y(_5,{})}),y(qt,{path:"/settings/appearance",element:y(w5,{})}),y(qt,{path:"/verifyEmail",element:y(E5,{})})]})]})};zf.createRoot(document.getElementById("root")).render(y(Xt.StrictMode,{children:y(WT,{children:y(C5,{})})}));
